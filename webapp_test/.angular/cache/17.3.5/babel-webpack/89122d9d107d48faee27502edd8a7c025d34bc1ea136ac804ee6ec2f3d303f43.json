{"ast":null,"code":"import { mergeMap, Subject, takeUntil, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/navigation.service\";\nimport * as i2 from \"../../services/chapter.service\";\nfunction NavigationComponent_a_0_rds_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"rds-icon\", 3);\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"icon\", item_r1.icon || null);\n  }\n}\nfunction NavigationComponent_a_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 1);\n    i0.ɵɵtemplate(1, NavigationComponent_a_0_rds_icon_1_Template, 1, 1, \"rds-icon\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !!(item_r1 == null ? null : item_r1.icon));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, item_r1.translationKey), \"\\n\");\n  }\n}\nexport class NavigationComponent {\n  constructor(navigation, chapter) {\n    this.navigation = navigation;\n    this.chapter = chapter;\n    this.destroy$ = new Subject();\n    this.items = [];\n    this.chapter.getChapterChange().pipe(takeUntil(this.destroy$), mergeMap(chapter => {\n      this.items = [];\n      return this.navigation.getNavigationByChapter(chapter);\n    }), tap(items => {\n      this.items = items;\n    })).subscribe();\n  }\n  ngOnInit() {}\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  static #_ = this.ɵfac = function NavigationComponent_Factory(t) {\n    return new (t || NavigationComponent)(i0.ɵɵdirectiveInject(i1.NavigationService), i0.ɵɵdirectiveInject(i2.ChapterService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavigationComponent,\n    selectors: [[\"app-navigation\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"rds-sidenav-menuitem\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"rds-sidenav-menuitem\", \"\"], [\"namespace\", \"outlined\", 3, \"icon\", 4, \"ngIf\"], [\"namespace\", \"outlined\", 3, \"icon\"]],\n    template: function NavigationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, NavigationComponent_a_0_Template, 4, 4, \"a\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.items);\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["mergeMap","Subject","takeUntil","tap","i0","ɵɵelement","ɵɵproperty","item_r1","icon","ɵɵelementStart","ɵɵtemplate","NavigationComponent_a_0_rds_icon_1_Template","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","translationKey","NavigationComponent","constructor","navigation","chapter","destroy$","items","getChapterChange","pipe","getNavigationByChapter","subscribe","ngOnInit","ngOnDestroy","next","complete","_","ɵɵdirectiveInject","i1","NavigationService","i2","ChapterService","_2","selectors","decls","vars","consts","template","NavigationComponent_Template","rf","ctx","NavigationComponent_a_0_Template"],"sources":["/home/dataiku/workspace/project-lib-versioned/webapp_test/frontend_copy/src/app/components/navigation/navigation.component.ts","/home/dataiku/workspace/project-lib-versioned/webapp_test/frontend_copy/src/app/components/navigation/navigation.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { INavigationItem } from '../../../types/navigation';\nimport { mergeMap, Subject, takeUntil, tap } from 'rxjs';\nimport { ChapterService } from '../../services/chapter.service';\nimport { NavigationService } from '../../services/navigation.service';\n\n@Component({\n  selector: 'app-navigation',\n  templateUrl: './navigation.component.html',\n  styleUrl: './navigation.component.scss'\n})\nexport class NavigationComponent implements OnInit, OnDestroy {\n\n  private destroy$: Subject<void> = new Subject();\n\n  public items: INavigationItem[] = [];\n\n  constructor(private navigation: NavigationService, private chapter: ChapterService) {\n    this.chapter.getChapterChange()\n      .pipe(\n        takeUntil(this.destroy$),\n        mergeMap((chapter: string) => {\n          this.items = [];\n          return this.navigation.getNavigationByChapter(chapter);\n        }),\n        tap((items: INavigationItem[]) => {\n          this.items = items;\n        })\n      ).subscribe();\n  }\n\n  ngOnInit(): void {\n      \n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n} \n","<a rds-sidenav-menuitem *ngFor=\"let item of items\">\n    <rds-icon namespace=\"outlined\" [icon]=\"item.icon || null\" *ngIf=\"!!item?.icon\"></rds-icon>\n    {{ item.translationKey | translate }}\n</a>\n"],"mappings":"AAEA,SAASA,QAAQ,EAAEC,OAAO,EAAEC,SAAS,EAAEC,GAAG,QAAQ,MAAM;;;;;;ICDpDC,EAAA,CAAAC,SAAA,kBAA0F;;;;IAA3DD,EAAA,CAAAE,UAAA,SAAAC,OAAA,CAAAC,IAAA,SAA0B;;;;;IAD7DJ,EAAA,CAAAK,cAAA,WAAmD;IAC/CL,EAAA,CAAAM,UAAA,IAAAC,2CAAA,sBAA+E;IAC/EP,EAAA,CAAAQ,MAAA,GACJ;;IAAAR,EAAA,CAAAS,YAAA,EAAI;;;;IAF2DT,EAAA,CAAAU,SAAA,EAAkB;IAAlBV,EAAA,CAAAE,UAAA,YAAAC,OAAA,kBAAAA,OAAA,CAAAC,IAAA,EAAkB;IAC7EJ,EAAA,CAAAU,SAAA,EACJ;IADIV,EAAA,CAAAW,kBAAA,MAAAX,EAAA,CAAAY,WAAA,OAAAT,OAAA,CAAAU,cAAA,QACJ;;;ADQA,OAAM,MAAOC,mBAAmB;EAM9BC,YAAoBC,UAA6B,EAAUC,OAAuB;IAA9D,KAAAD,UAAU,GAAVA,UAAU;IAA6B,KAAAC,OAAO,GAAPA,OAAO;IAJ1D,KAAAC,QAAQ,GAAkB,IAAIrB,OAAO,EAAE;IAExC,KAAAsB,KAAK,GAAsB,EAAE;IAGlC,IAAI,CAACF,OAAO,CAACG,gBAAgB,EAAE,CAC5BC,IAAI,CACHvB,SAAS,CAAC,IAAI,CAACoB,QAAQ,CAAC,EACxBtB,QAAQ,CAAEqB,OAAe,IAAI;MAC3B,IAAI,CAACE,KAAK,GAAG,EAAE;MACf,OAAO,IAAI,CAACH,UAAU,CAACM,sBAAsB,CAACL,OAAO,CAAC;IACxD,CAAC,CAAC,EACFlB,GAAG,CAAEoB,KAAwB,IAAI;MAC/B,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC,CACH,CAACI,SAAS,EAAE;EACjB;EAEAC,QAAQA,CAAA,GAER;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACP,QAAQ,CAACQ,IAAI,EAAE;IACpB,IAAI,CAACR,QAAQ,CAACS,QAAQ,EAAE;EAC1B;EAAC,QAAAC,CAAA,G;qBA3BUd,mBAAmB,EAAAd,EAAA,CAAA6B,iBAAA,CAAAC,EAAA,CAAAC,iBAAA,GAAA/B,EAAA,CAAA6B,iBAAA,CAAAG,EAAA,CAAAC,cAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAnBpB,mBAAmB;IAAAqB,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCXhCzC,EAAA,CAAAM,UAAA,IAAAqC,gCAAA,eAAmD;;;QAAV3C,EAAA,CAAAE,UAAA,YAAAwC,GAAA,CAAAvB,KAAA,CAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}