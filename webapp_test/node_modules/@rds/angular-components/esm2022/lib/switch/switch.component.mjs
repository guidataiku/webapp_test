import { FocusMonitor } from '@angular/cdk/a11y';
import { Attribute, booleanAttribute, ChangeDetectionStrategy, ChangeDetectorRef, Component, DestroyRef, ElementRef, EventEmitter, forwardRef, HostBinding, HostListener, inject, Input, numberAttribute, Output, ViewChild, ViewEncapsulation, } from '@angular/core';
import { ControlContainer, FormGroupDirective, NG_VALUE_ACCESSOR, NgForm, } from '@angular/forms';
import { noop } from 'rxjs';
import { animate, state, style, transition, trigger, } from '@angular/animations';
import { TAB_INDEX_DEFAULT, TAB_INDEX_NOT_FOCUSABLE, updateErrorState, } from '../utils';
import { takeUntilDestroyed } from '@angular/core/rxjs-interop';
import * as i0 from "@angular/core";
import * as i1 from "@angular/cdk/observers";
import * as i2 from "@angular/common";
let nextUniqueId = 0;
export class RdsSwitchChange {
    constructor(source, checked) {
        this.source = source;
        this.checked = checked;
    }
}
export const rdsSwitchAnimations = {
    /** Animation that transitions the form field's error and hint messages. */
    transitionMessages: trigger('transitionMessages', [
        state('enter', style({ opacity: 1, transform: 'translateY(0%)' })),
        transition('void => enter', [
            style({ opacity: 0, transform: 'translateY(-100%)' }),
            animate('200ms cubic-bezier(0.55, 0, 0.55, 0.2)'),
        ]),
    ]),
};
export class RdsSwitchComponent {
    get errorState() {
        return this._errorState;
    }
    get inputId() {
        return `${this.id || this._uniqueId}-input`;
    }
    onFocus() {
        this._inputElement.nativeElement.focus();
    }
    set tabIndex(value) {
        this._tabIndex = numberAttribute(value, TAB_INDEX_DEFAULT);
    }
    get tabIndex() {
        return this.disabled ? TAB_INDEX_NOT_FOCUSABLE : this._tabIndex;
    }
    constructor(tabIndex) {
        this.destroyRef = inject(DestroyRef);
        this.cdr = inject(ChangeDetectorRef);
        this.elementRef = inject(ElementRef);
        this.focusMonitor = inject(FocusMonitor);
        this.parentForm = inject(NgForm, { optional: true });
        this.parentFormGroup = inject(FormGroupDirective, {
            optional: true,
        });
        this.controlContainer = inject(ControlContainer, {
            optional: true,
            host: true,
            skipSelf: true,
        });
        this._uniqueId = `rds-switch-${++nextUniqueId}`;
        this._errorState = false;
        this._tabIndex = TAB_INDEX_DEFAULT;
        this.subscriptAnimationState = '';
        this.hostClass = 'rds-switch';
        this.size = 'l';
        this.id = this._uniqueId;
        this.labelPosition = 'after';
        this.ariaLabel = null;
        this.ariaLabelledby = null;
        this.required = false;
        this.checked = false;
        this.disabled = false;
        this.buttonChanged = new EventEmitter();
        this.toggleChange = new EventEmitter();
        this._onChange = noop;
        this._onTouched = noop;
        this._tabIndex = numberAttribute(tabIndex, TAB_INDEX_DEFAULT);
    }
    ngOnInit() {
        if (this.controlContainer) {
            if (this.formControlName) {
                this._control = this.controlContainer.control?.get(this.formControlName);
            }
            else {
                // Missing FormControlName directive from host element of the component
            }
        }
        else {
            // Can't find parent FormGroup directive
        }
    }
    ngDoCheck() {
        if (this._control) {
            // We need to re-evaluate this on every change detection cycle, because there are some
            // error triggers that we can't subscribe to (e.g. parent form submissions). This means
            // that whatever logic is in here has to be super lean or we risk destroying the performance.
            this._errorState = updateErrorState(this.errorState, this.parentFormGroup, this.parentForm, this._control);
        }
    }
    ngAfterContentInit() {
        const control = this._control;
        if (control && control.valueChanges) {
            control.valueChanges
                .pipe(takeUntilDestroyed(this.destroyRef))
                .subscribe(() => {
                control?.markAsDirty();
                control?.markAsTouched();
                this.cdr.markForCheck();
            });
        }
        const parent = this.parentFormGroup || this.parentForm;
        if (parent) {
            parent.ngSubmit
                .pipe(takeUntilDestroyed(this.destroyRef))
                .subscribe(() => {
                this.cdr.markForCheck();
            });
        }
    }
    ngAfterViewInit() {
        this.focusMonitor
            .monitor(this.elementRef, true)
            .subscribe((focusOrigin) => {
            if (focusOrigin === 'keyboard' || focusOrigin === 'program') {
                this._inputElement.nativeElement.focus();
            }
            else if (!focusOrigin) {
                Promise.resolve().then(() => this._onTouched());
            }
        });
        this.subscriptAnimationState = 'enter'; // Avoid animations on load.
        this.cdr.detectChanges();
    }
    ngOnDestroy() {
        this.focusMonitor.stopMonitoring(this.elementRef);
    }
    get isErrorMessageVisible() {
        return this.errorState;
    }
    _onChangeEvent(event) {
        event.stopPropagation();
        this.toggleChange.emit();
        if (this.disabled) {
            this._inputElement.nativeElement.checked = this.checked;
            return;
        }
        if (this.checked !== this._inputElement.nativeElement.checked) {
            this.checked = this._inputElement.nativeElement.checked;
            this.cdr.markForCheck();
        }
        this._emitChangeEvent();
    }
    _onInputClick(event) {
        event.stopPropagation();
    }
    writeValue(value) {
        if (this.checked !== value) {
            this.checked = value;
            this.cdr.markForCheck();
        }
    }
    registerOnChange(fn) {
        this._onChange = fn;
    }
    registerOnTouched(fn) {
        this._onTouched = fn;
    }
    setDisabledState(isDisabled) {
        if (this.disabled !== isDisabled) {
            this.disabled = isDisabled;
            this.cdr.markForCheck();
        }
    }
    focus(options) {
        this._inputElement.nativeElement.focus(options);
    }
    toggle() {
        this.checked = !this.checked;
        this._onChange(this.checked);
    }
    _onLabelTextChange() {
        this.cdr.detectChanges();
    }
    _emitChangeEvent() {
        this._onChange(this.checked);
        this.buttonChanged.emit(new RdsSwitchChange(this, this.checked));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsSwitchComponent, deps: [{ token: 'tabindex', attribute: true }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.1", type: RdsSwitchComponent, selector: "rds-switch", inputs: { formControlName: "formControlName", name: "name", size: "size", id: "id", labelPosition: "labelPosition", ariaLabel: ["aria-label", "ariaLabel"], ariaLabelledby: ["aria-labelledby", "ariaLabelledby"], ariaDescribedby: ["aria-describedby", "ariaDescribedby"], required: ["required", "required", booleanAttribute], checked: ["checked", "checked", booleanAttribute], disabled: ["disabled", "disabled", booleanAttribute], tabIndex: "tabIndex" }, outputs: { buttonChanged: "buttonChanged", toggleChange: "toggleChange" }, host: { listeners: { "focus": "onFocus()" }, properties: { "class": "this.hostClass", "attr.id": "this.id", "attr.aria-labelledby": "this.ariaLabel", "attr.aria-label": "this.ariaLabelledby", "class.rds-checked": "this.checked", "class.rds-switch--invalid": "this.errorState", "class.rds-disabled": "this.disabled", "tabIndex": "this.tabIndex" } }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => RdsSwitchComponent),
                multi: true,
            },
        ], viewQueries: [{ propertyName: "_inputElement", first: true, predicate: ["input"], descendants: true }], ngImport: i0, template: "<label\n  [attr.for]=\"inputId\"\n  class=\"rds-switch-label\"\n  [class.rds-switch-label-before]=\"labelPosition === 'before'\"\n>\n  <div\n    class=\"rds-switch-bar\"\n    [class.rds-switch-bar-no-side-margin]=\"\n      !labelContent.textContent || !labelContent.textContent.trim()\n    \"\n  >\n    <input\n      #input\n      class=\"rds-switch-input cdk-visually-hidden\"\n      type=\"checkbox\"\n      role=\"switch\"\n      [id]=\"inputId\"\n      [required]=\"required\"\n      [tabIndex]=\"tabIndex\"\n      [checked]=\"checked\"\n      [disabled]=\"disabled\"\n      [attr.name]=\"name\"\n      [attr.aria-checked]=\"checked ? 'true' : 'false'\"\n      [attr.aria-label]=\"ariaLabel\"\n      [attr.aria-labelledby]=\"ariaLabelledby\"\n      [attr.aria-describedby]=\"ariaDescribedby\"\n      (change)=\"_onChangeEvent($event)\"\n      (click)=\"_onInputClick($event)\"\n    />\n    <div class=\"rds-switch-thumb-container\">\n      <div class=\"rds-switch-thumb\"></div>\n      <div class=\"rds-switch-ripple rds-focus-indicator\">\n        <div class=\"rds-ripple-element rds-switch-persistent-ripple\"></div>\n      </div>\n    </div>\n  </div>\n  <span\n    class=\"rds-switch-content\"\n    [ngClass]=\"'rds-switch-label-content--' + size\"\n    #labelContent\n    (cdkObserveContent)=\"_onLabelTextChange()\"\n  >\n    <ng-content />\n  </span>\n</label>\n<div class=\"rds-switch__subscript-wrapper\">\n  @switch (isErrorMessageVisible) {\n    @case (true) {\n      <div\n        class=\"rds-switch__subscript rds-switch__subscript--error\"\n        [@transitionMessages]=\"subscriptAnimationState\"\n      >\n        <ng-content select=\"rds-control-error\" />\n      </div>\n    }\n    @case (false) {\n      <div\n        class=\"rds-switch__subscript rds-switch__subscript--hint\"\n        [@transitionMessages]=\"subscriptAnimationState\"\n      >\n        <ng-content select=\"rds-control-hint\" />\n      </div>\n    }\n  }\n</div>\n", styles: [".rds-switch{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.rds-switch .rds-switch-thumb{box-shadow:0 0 1px #00000052,0 2px 4px #0000001c}.rds-switch:not(.rds-checked) .rds-switch-thumb{background-color:var(--rds-color-switch-toggle)}.rds-switch:not(.rds-checked) .rds-switch-bar{background-color:var(--rds-color-switch-track)}.rds-switch.rds-checked .rds-switch-thumb{background-color:var(--rds-color-informative)}.rds-switch.rds-checked .rds-switch-bar{background-color:var(--rds-color-switch-track)}.rds-switch.rds-checked .rds-ripple-element:hover{opacity:1;background-color:var(--rds-color-bg-transparent-hover-select)}.rds-switch.rds-checked .rds-switch-thumb-container{transform:translate3d(14px,0,0)}[dir=rtl] .rds-switch.rds-checked .rds-switch-thumb-container{transform:translate3d(-14px,0,0)}.rds-switch.rds-checked:not(.rds-disabled).rds-switch--invalid .rds-switch-thumb{background-color:var(--rds-color-error)}.rds-switch.rds-switch--invalid .rds-switch-bar{background-color:var(--rds-color-switch-track-error)}.rds-switch.rds-disabled .rds-switch-thumb{box-shadow:none;background-color:var(--rds-color-grey-2)}.rds-switch.rds-disabled .rds-switch-bar{background-color:var(--rds-color-grey-1)}.rds-switch.rds-disabled .rds-switch-label,.rds-switch.rds-disabled .rds-switch-thumb-container{cursor:default}.rds-switch-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.rds-switch-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--rds-color-high-contrast)}.rds-switch-label-content--s{font-size:14px;font-weight:200;line-height:20px;text-transform:none;letter-spacing:.3px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rds-switch-label-content--m{font-size:16px;font-weight:200;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rds-switch-label-content--l{font-size:18px;font-weight:200;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rds-disabled .rds-switch-content{color:var(--rds-color-disabled)}.rds-switch-label-before .rds-switch-label{order:1}.rds-switch-label-before .rds-switch-bar{order:2}[dir=rtl] .rds-switch-label-before .rds-switch-bar,.rds-switch-bar{margin-right:8px;margin-left:0}[dir=rtl] .rds-switch-bar,.rds-switch-label-before .rds-switch-bar{margin-left:8px;margin-right:0}.rds-switch-bar-no-side-margin{margin-left:0;margin-right:0}.rds-switch-thumb-container{position:absolute;z-index:1;top:-3px;left:0;transform:translateZ(0);transition:all 80ms linear;transition-property:transform;width:20px;height:20px}[dir=rtl] .rds-switch-thumb-container{left:auto;right:0}.rds-switch-thumb{border-radius:50%;width:20px;height:20px}.rds-switch-bar{position:relative;flex-shrink:0;border-radius:8px;width:34px;height:14px}.rds-switch-input{bottom:0;left:10px}[dir=rtl] .rds-switch-input{left:auto;right:10px}.rds-switch-bar,.rds-switch-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}.rds-switch .rds-switch-ripple{position:absolute;z-index:1;top:calc(50% - 18px);left:calc(50% - 18px);height:36px;width:36px;pointer-events:none}.rds-switch .rds-switch-ripple .rds-ripple-element{border-radius:50%}.rds-switch .rds-switch-ripple .rds-ripple-element:not(.rds-switch-persistent-ripple){opacity:.12}.rds-switch-persistent-ripple{width:100%;height:100%;transform:none}.rds-switch-bar:hover .rds-switch-persistent-ripple{opacity:1;background-color:var(--rds-color-bg-transparent-hover-select)}.rds-switch-bar:active .rds-switch-persistent-ripple{opacity:1;background-color:var(--rds-color-bg-transparent-pressed)}.rds-switch:not(.rds-disabled).cdk-keyboard-focused .rds-switch-persistent-ripple{opacity:1;border:2px solid var(--rds-color-stroke-active-focus);background-color:var(--rds-color-bg-transparent-hover-select)}.rds-switch-persistent-ripple,.rds-switch.rds-disabled .rds-switch-bar:hover .rds-switch-persistent-ripple{opacity:0}@media (hover: none){.rds-switch-bar:hover .rds-switch-persistent-ripple{display:none}}.rds-switch__subscript-wrapper>div:not(:empty){margin-top:4px}.rds-disabled .rds-switch__subscript--hint{color:var(--rds-color-disabled)}.rds-switch__subscript{font-size:12px;font-weight:400;line-height:16px;text-transform:none;letter-spacing:.5px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:left}.rds-switch__subscript--hint{color:var(--rds-color-low-contrast)}.rds-switch__subscript--error{color:var(--rds-color-error)}\n"], dependencies: [{ kind: "directive", type: i1.CdkObserveContent, selector: "[cdkObserveContent]", inputs: ["cdkObserveContentDisabled", "debounce"], outputs: ["cdkObserveContent"], exportAs: ["cdkObserveContent"] }, { kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }], animations: [rdsSwitchAnimations.transitionMessages], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsSwitchComponent, decorators: [{
            type: Component,
            args: [{ selector: 'rds-switch', changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, animations: [rdsSwitchAnimations.transitionMessages], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => RdsSwitchComponent),
                            multi: true,
                        },
                    ], template: "<label\n  [attr.for]=\"inputId\"\n  class=\"rds-switch-label\"\n  [class.rds-switch-label-before]=\"labelPosition === 'before'\"\n>\n  <div\n    class=\"rds-switch-bar\"\n    [class.rds-switch-bar-no-side-margin]=\"\n      !labelContent.textContent || !labelContent.textContent.trim()\n    \"\n  >\n    <input\n      #input\n      class=\"rds-switch-input cdk-visually-hidden\"\n      type=\"checkbox\"\n      role=\"switch\"\n      [id]=\"inputId\"\n      [required]=\"required\"\n      [tabIndex]=\"tabIndex\"\n      [checked]=\"checked\"\n      [disabled]=\"disabled\"\n      [attr.name]=\"name\"\n      [attr.aria-checked]=\"checked ? 'true' : 'false'\"\n      [attr.aria-label]=\"ariaLabel\"\n      [attr.aria-labelledby]=\"ariaLabelledby\"\n      [attr.aria-describedby]=\"ariaDescribedby\"\n      (change)=\"_onChangeEvent($event)\"\n      (click)=\"_onInputClick($event)\"\n    />\n    <div class=\"rds-switch-thumb-container\">\n      <div class=\"rds-switch-thumb\"></div>\n      <div class=\"rds-switch-ripple rds-focus-indicator\">\n        <div class=\"rds-ripple-element rds-switch-persistent-ripple\"></div>\n      </div>\n    </div>\n  </div>\n  <span\n    class=\"rds-switch-content\"\n    [ngClass]=\"'rds-switch-label-content--' + size\"\n    #labelContent\n    (cdkObserveContent)=\"_onLabelTextChange()\"\n  >\n    <ng-content />\n  </span>\n</label>\n<div class=\"rds-switch__subscript-wrapper\">\n  @switch (isErrorMessageVisible) {\n    @case (true) {\n      <div\n        class=\"rds-switch__subscript rds-switch__subscript--error\"\n        [@transitionMessages]=\"subscriptAnimationState\"\n      >\n        <ng-content select=\"rds-control-error\" />\n      </div>\n    }\n    @case (false) {\n      <div\n        class=\"rds-switch__subscript rds-switch__subscript--hint\"\n        [@transitionMessages]=\"subscriptAnimationState\"\n      >\n        <ng-content select=\"rds-control-hint\" />\n      </div>\n    }\n  }\n</div>\n", styles: [".rds-switch{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.rds-switch .rds-switch-thumb{box-shadow:0 0 1px #00000052,0 2px 4px #0000001c}.rds-switch:not(.rds-checked) .rds-switch-thumb{background-color:var(--rds-color-switch-toggle)}.rds-switch:not(.rds-checked) .rds-switch-bar{background-color:var(--rds-color-switch-track)}.rds-switch.rds-checked .rds-switch-thumb{background-color:var(--rds-color-informative)}.rds-switch.rds-checked .rds-switch-bar{background-color:var(--rds-color-switch-track)}.rds-switch.rds-checked .rds-ripple-element:hover{opacity:1;background-color:var(--rds-color-bg-transparent-hover-select)}.rds-switch.rds-checked .rds-switch-thumb-container{transform:translate3d(14px,0,0)}[dir=rtl] .rds-switch.rds-checked .rds-switch-thumb-container{transform:translate3d(-14px,0,0)}.rds-switch.rds-checked:not(.rds-disabled).rds-switch--invalid .rds-switch-thumb{background-color:var(--rds-color-error)}.rds-switch.rds-switch--invalid .rds-switch-bar{background-color:var(--rds-color-switch-track-error)}.rds-switch.rds-disabled .rds-switch-thumb{box-shadow:none;background-color:var(--rds-color-grey-2)}.rds-switch.rds-disabled .rds-switch-bar{background-color:var(--rds-color-grey-1)}.rds-switch.rds-disabled .rds-switch-label,.rds-switch.rds-disabled .rds-switch-thumb-container{cursor:default}.rds-switch-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.rds-switch-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--rds-color-high-contrast)}.rds-switch-label-content--s{font-size:14px;font-weight:200;line-height:20px;text-transform:none;letter-spacing:.3px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rds-switch-label-content--m{font-size:16px;font-weight:200;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rds-switch-label-content--l{font-size:18px;font-weight:200;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rds-disabled .rds-switch-content{color:var(--rds-color-disabled)}.rds-switch-label-before .rds-switch-label{order:1}.rds-switch-label-before .rds-switch-bar{order:2}[dir=rtl] .rds-switch-label-before .rds-switch-bar,.rds-switch-bar{margin-right:8px;margin-left:0}[dir=rtl] .rds-switch-bar,.rds-switch-label-before .rds-switch-bar{margin-left:8px;margin-right:0}.rds-switch-bar-no-side-margin{margin-left:0;margin-right:0}.rds-switch-thumb-container{position:absolute;z-index:1;top:-3px;left:0;transform:translateZ(0);transition:all 80ms linear;transition-property:transform;width:20px;height:20px}[dir=rtl] .rds-switch-thumb-container{left:auto;right:0}.rds-switch-thumb{border-radius:50%;width:20px;height:20px}.rds-switch-bar{position:relative;flex-shrink:0;border-radius:8px;width:34px;height:14px}.rds-switch-input{bottom:0;left:10px}[dir=rtl] .rds-switch-input{left:auto;right:10px}.rds-switch-bar,.rds-switch-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}.rds-switch .rds-switch-ripple{position:absolute;z-index:1;top:calc(50% - 18px);left:calc(50% - 18px);height:36px;width:36px;pointer-events:none}.rds-switch .rds-switch-ripple .rds-ripple-element{border-radius:50%}.rds-switch .rds-switch-ripple .rds-ripple-element:not(.rds-switch-persistent-ripple){opacity:.12}.rds-switch-persistent-ripple{width:100%;height:100%;transform:none}.rds-switch-bar:hover .rds-switch-persistent-ripple{opacity:1;background-color:var(--rds-color-bg-transparent-hover-select)}.rds-switch-bar:active .rds-switch-persistent-ripple{opacity:1;background-color:var(--rds-color-bg-transparent-pressed)}.rds-switch:not(.rds-disabled).cdk-keyboard-focused .rds-switch-persistent-ripple{opacity:1;border:2px solid var(--rds-color-stroke-active-focus);background-color:var(--rds-color-bg-transparent-hover-select)}.rds-switch-persistent-ripple,.rds-switch.rds-disabled .rds-switch-bar:hover .rds-switch-persistent-ripple{opacity:0}@media (hover: none){.rds-switch-bar:hover .rds-switch-persistent-ripple{display:none}}.rds-switch__subscript-wrapper>div:not(:empty){margin-top:4px}.rds-disabled .rds-switch__subscript--hint{color:var(--rds-color-disabled)}.rds-switch__subscript{font-size:12px;font-weight:400;line-height:16px;text-transform:none;letter-spacing:.5px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:left}.rds-switch__subscript--hint{color:var(--rds-color-low-contrast)}.rds-switch__subscript--error{color:var(--rds-color-error)}\n"] }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Attribute,
                    args: ['tabindex']
                }] }], propDecorators: { hostClass: [{
                type: HostBinding,
                args: ['class']
            }], formControlName: [{
                type: Input
            }], name: [{
                type: Input
            }], size: [{
                type: Input
            }], id: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['attr.id']
            }], labelPosition: [{
                type: Input
            }], ariaLabel: [{
                type: HostBinding,
                args: ['attr.aria-labelledby']
            }, {
                type: Input,
                args: ['aria-label']
            }], ariaLabelledby: [{
                type: HostBinding,
                args: ['attr.aria-label']
            }, {
                type: Input,
                args: ['aria-labelledby']
            }], ariaDescribedby: [{
                type: Input,
                args: ['aria-describedby']
            }], required: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], checked: [{
                type: HostBinding,
                args: ['class.rds-checked']
            }, {
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], errorState: [{
                type: HostBinding,
                args: ['class.rds-switch--invalid']
            }], disabled: [{
                type: HostBinding,
                args: ['class.rds-disabled']
            }, {
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], buttonChanged: [{
                type: Output
            }], toggleChange: [{
                type: Output
            }], _inputElement: [{
                type: ViewChild,
                args: ['input']
            }], onFocus: [{
                type: HostListener,
                args: ['focus']
            }], tabIndex: [{
                type: HostBinding,
                args: ['tabIndex']
            }, {
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpdGNoLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvYW5ndWxhci1jb21wb25lbnRzL3NyYy9saWIvc3dpdGNoL3N3aXRjaC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FuZ3VsYXItY29tcG9uZW50cy9zcmMvbGliL3N3aXRjaC9zd2l0Y2guY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWpELE9BQU8sRUFHTCxTQUFTLEVBQ1QsZ0JBQWdCLEVBQ2hCLHVCQUF1QixFQUN2QixpQkFBaUIsRUFDakIsU0FBUyxFQUNULFVBQVUsRUFFVixVQUFVLEVBQ1YsWUFBWSxFQUNaLFVBQVUsRUFDVixXQUFXLEVBQ1gsWUFBWSxFQUNaLE1BQU0sRUFDTixLQUFLLEVBQ0wsZUFBZSxFQUdmLE1BQU0sRUFDTixTQUFTLEVBQ1QsaUJBQWlCLEdBQ2xCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFFTCxnQkFBZ0IsRUFFaEIsa0JBQWtCLEVBQ2xCLGlCQUFpQixFQUNqQixNQUFNLEdBQ1AsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzVCLE9BQU8sRUFDTCxPQUFPLEVBRVAsS0FBSyxFQUNMLEtBQUssRUFDTCxVQUFVLEVBQ1YsT0FBTyxHQUNSLE1BQU0scUJBQXFCLENBQUM7QUFDN0IsT0FBTyxFQUNMLGlCQUFpQixFQUNqQix1QkFBdUIsRUFDdkIsZ0JBQWdCLEdBQ2pCLE1BQU0sVUFBVSxDQUFDO0FBQ2xCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDOzs7O0FBRWhFLElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQztBQUVyQixNQUFNLE9BQU8sZUFBZTtJQUMxQixZQUNrQixNQUEw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S0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZvY3VzTW9uaXRvciB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9hMTF5JztcbmltcG9ydCB7IE51bWJlcklucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvZXJjaW9uJztcbmltcG9ydCB7XG4gIEFmdGVyQ29udGVudEluaXQsXG4gIEFmdGVyVmlld0luaXQsXG4gIEF0dHJpYnV0ZSxcbiAgYm9vbGVhbkF0dHJpYnV0ZSxcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIERlc3Ryb3lSZWYsXG4gIERvQ2hlY2ssXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgZm9yd2FyZFJlZixcbiAgSG9zdEJpbmRpbmcsXG4gIEhvc3RMaXN0ZW5lcixcbiAgaW5qZWN0LFxuICBJbnB1dCxcbiAgbnVtYmVyQXR0cmlidXRlLFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIEFic3RyYWN0Q29udHJvbCxcbiAgQ29udHJvbENvbnRhaW5lcixcbiAgQ29udHJvbFZhbHVlQWNjZXNzb3IsXG4gIEZvcm1Hcm91cERpcmVjdGl2ZSxcbiAgTkdfVkFMVUVfQUNDRVNTT1IsXG4gIE5nRm9ybSxcbn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtcbiAgYW5pbWF0ZSxcbiAgQW5pbWF0aW9uVHJpZ2dlck1ldGFkYXRhLFxuICBzdGF0ZSxcbiAgc3R5bGUsXG4gIHRyYW5zaXRpb24sXG4gIHRyaWdnZXIsXG59IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHtcbiAgVEFCX0lOREVYX0RFRkFVTFQsXG4gIFRBQl9JTkRFWF9OT1RfRk9DVVNBQkxFLFxuICB1cGRhdGVFcnJvclN0YXRlLFxufSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyB0YWtlVW50aWxEZXN0cm95ZWQgfSBmcm9tICdAYW5ndWxhci9jb3JlL3J4anMtaW50ZXJvcCc7XG5cbmxldCBuZXh0VW5pcXVlSWQgPSAwO1xuXG5leHBvcnQgY2xhc3MgUmRzU3dpdGNoQ2hhbmdlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHNvdXJjZTogUmRzU3dpdGNoQ29tcG9uZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBjaGVja2VkOiBib29sZWFuLFxuICApIHt9XG59XG5cbmV4cG9ydCBjb25zdCByZHNTd2l0Y2hBbmltYXRpb25zOiB7XG4gIHJlYWRvbmx5IHRyYW5zaXRpb25NZXNzYWdlczogQW5pbWF0aW9uVHJpZ2dlck1ldGFkYXRhO1xufSA9IHtcbiAgLyoqIEFuaW1hdGlvbiB0aGF0IHRyYW5zaXRpb25zIHRoZSBmb3JtIGZpZWxkJ3MgZXJyb3IgYW5kIGhpbnQgbWVzc2FnZXMuICovXG4gIHRyYW5zaXRpb25NZXNzYWdlczogdHJpZ2dlcigndHJhbnNpdGlvbk1lc3NhZ2VzJywgW1xuICAgIHN0YXRlKCdlbnRlcicsIHN0eWxlKHsgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwJSknIH0pKSxcbiAgICB0cmFuc2l0aW9uKCd2b2lkID0+IGVudGVyJywgW1xuICAgICAgc3R5bGUoeyBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKC0xMDAlKScgfSksXG4gICAgICBhbmltYXRlKCcyMDBtcyBjdWJpYy1iZXppZXIoMC41NSwgMCwgMC41NSwgMC4yKScpLFxuICAgIF0pLFxuICBdKSxcbn07XG5cbmV4cG9ydCB0eXBlIFJkc1N3aXRjaFBvc2l0aW9uID0gJ2JlZm9yZScgfCAnYWZ0ZXInO1xuXG5leHBvcnQgdHlwZSBSZHNTd2l0Y2hTaXplID0gJ3MnIHwgJ20nIHwgJ2wnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdyZHMtc3dpdGNoJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3N3aXRjaC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3N3aXRjaC5jb21wb25lbnQuc2NzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgYW5pbWF0aW9uczogW3Jkc1N3aXRjaEFuaW1hdGlvbnMudHJhbnNpdGlvbk1lc3NhZ2VzXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBSZHNTd2l0Y2hDb21wb25lbnQpLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgfSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgUmRzU3dpdGNoQ29tcG9uZW50XG4gIGltcGxlbWVudHNcbiAgICBDb250cm9sVmFsdWVBY2Nlc3NvcixcbiAgICBPbkluaXQsXG4gICAgRG9DaGVjayxcbiAgICBBZnRlckNvbnRlbnRJbml0LFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgT25EZXN0cm95XG57XG4gIHByaXZhdGUgcmVhZG9ubHkgZGVzdHJveVJlZiA9IGluamVjdChEZXN0cm95UmVmKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjZHIgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGVsZW1lbnRSZWYgPSBpbmplY3Q8RWxlbWVudFJlZjxIVE1MRWxlbWVudD4+KEVsZW1lbnRSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGZvY3VzTW9uaXRvciA9IGluamVjdChGb2N1c01vbml0b3IpO1xuICBwcml2YXRlIHJlYWRvbmx5IHBhcmVudEZvcm0gPSBpbmplY3QoTmdGb3JtLCB7IG9wdGlvbmFsOiB0cnVlIH0pO1xuICBwcml2YXRlIHJlYWRvbmx5IHBhcmVudEZvcm1Hcm91cCA9IGluamVjdChGb3JtR3JvdXBEaXJlY3RpdmUsIHtcbiAgICBvcHRpb25hbDogdHJ1ZSxcbiAgfSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29udHJvbENvbnRhaW5lciA9IGluamVjdChDb250cm9sQ29udGFpbmVyLCB7XG4gICAgb3B0aW9uYWw6IHRydWUsXG4gICAgaG9zdDogdHJ1ZSxcbiAgICBza2lwU2VsZjogdHJ1ZSxcbiAgfSk7XG5cbiAgcHJpdmF0ZSBfdW5pcXVlSWQgPSBgcmRzLXN3aXRjaC0keysrbmV4dFVuaXF1ZUlkfWA7XG4gIHByaXZhdGUgX2Vycm9yU3RhdGUgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfdGFiSW5kZXggPSBUQUJfSU5ERVhfREVGQVVMVDtcbiAgcHJpdmF0ZSBfY29udHJvbDogQWJzdHJhY3RDb250cm9sIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgc3Vic2NyaXB0QW5pbWF0aW9uU3RhdGU6ICcnIHwgJ2VudGVyJyA9ICcnO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3MnKSByZWFkb25seSBob3N0Q2xhc3MgPSAncmRzLXN3aXRjaCc7XG5cbiAgQElucHV0KCkgZm9ybUNvbnRyb2xOYW1lOiBzdHJpbmc7XG5cbiAgQElucHV0KCkgbmFtZTogc3RyaW5nO1xuXG4gIEBJbnB1dCgpIHNpemU6IFJkc1N3aXRjaFNpemUgPSAnbCc7XG5cbiAgQElucHV0KClcbiAgQEhvc3RCaW5kaW5nKCdhdHRyLmlkJylcbiAgaWQ6IHN0cmluZyA9IHRoaXMuX3VuaXF1ZUlkO1xuXG4gIEBJbnB1dCgpIGxhYmVsUG9zaXRpb246IFJkc1N3aXRjaFBvc2l0aW9uID0gJ2FmdGVyJztcblxuICBASG9zdEJpbmRpbmcoJ2F0dHIuYXJpYS1sYWJlbGxlZGJ5JylcbiAgQElucHV0KCdhcmlhLWxhYmVsJylcbiAgYXJpYUxhYmVsOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBASG9zdEJpbmRpbmcoJ2F0dHIuYXJpYS1sYWJlbCcpXG4gIEBJbnB1dCgnYXJpYS1sYWJlbGxlZGJ5JylcbiAgYXJpYUxhYmVsbGVkYnk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIEBJbnB1dCgnYXJpYS1kZXNjcmliZWRieScpIGFyaWFEZXNjcmliZWRieTogc3RyaW5nO1xuXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSByZXF1aXJlZCA9IGZhbHNlO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3MucmRzLWNoZWNrZWQnKVxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSlcbiAgY2hlY2tlZCA9IGZhbHNlO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3MucmRzLXN3aXRjaC0taW52YWxpZCcpXG4gIGdldCBlcnJvclN0YXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9lcnJvclN0YXRlO1xuICB9XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5yZHMtZGlzYWJsZWQnKVxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSlcbiAgZGlzYWJsZWQgPSBmYWxzZTtcblxuICBAT3V0cHV0KCkgcmVhZG9ubHkgYnV0dG9uQ2hhbmdlZDogRXZlbnRFbWl0dGVyPFJkc1N3aXRjaENoYW5nZT4gPVxuICAgIG5ldyBFdmVudEVtaXR0ZXI8UmRzU3dpdGNoQ2hhbmdlPigpO1xuXG4gIEBPdXRwdXQoKSByZWFkb25seSB0b2dnbGVDaGFuZ2U6IEV2ZW50RW1pdHRlcjx2b2lkPiA9XG4gICAgbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG4gIGdldCBpbnB1dElkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMuaWQgfHwgdGhpcy5fdW5pcXVlSWR9LWlucHV0YDtcbiAgfVxuXG4gIEBWaWV3Q2hpbGQoJ2lucHV0JykgX2lucHV0RWxlbWVudDogRWxlbWVudFJlZjxIVE1MSW5wdXRFbGVtZW50PjtcblxuICBASG9zdExpc3RlbmVyKCdmb2N1cycpXG4gIG9uRm9jdXMoKTogdm9pZCB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgfVxuXG4gIEBIb3N0QmluZGluZygndGFiSW5kZXgnKVxuICBASW5wdXQoKVxuICBzZXQgdGFiSW5kZXgodmFsdWU6IE51bWJlcklucHV0KSB7XG4gICAgdGhpcy5fdGFiSW5kZXggPSBudW1iZXJBdHRyaWJ1dGUodmFsdWUsIFRBQl9JTkRFWF9ERUZBVUxUKTtcbiAgfVxuXG4gIGdldCB0YWJJbmRleCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmRpc2FibGVkID8gVEFCX0lOREVYX05PVF9GT0NVU0FCTEUgOiB0aGlzLl90YWJJbmRleDtcbiAgfVxuXG4gIHByaXZhdGUgX29uQ2hhbmdlOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQgPSBub29wO1xuICBwcml2YXRlIF9vblRvdWNoZWQ6ICgpID0+IHZvaWQgPSBub29wO1xuXG4gIGNvbnN0cnVjdG9yKEBBdHRyaWJ1dGUoJ3RhYmluZGV4JykgdGFiSW5kZXg/OiBzdHJpbmcpIHtcbiAgICB0aGlzLl90YWJJbmRleCA9IG51bWJlckF0dHJpYnV0ZSh0YWJJbmRleCwgVEFCX0lOREVYX0RFRkFVTFQpO1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY29udHJvbENvbnRhaW5lcikge1xuICAgICAgaWYgKHRoaXMuZm9ybUNvbnRyb2xOYW1lKSB7XG4gICAgICAgIHRoaXMuX2NvbnRyb2wgPSB0aGlzLmNvbnRyb2xDb250YWluZXIuY29udHJvbD8uZ2V0KFxuICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2xOYW1lLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWlzc2luZyBGb3JtQ29udHJvbE5hbWUgZGlyZWN0aXZlIGZyb20gaG9zdCBlbGVtZW50IG9mIHRoZSBjb21wb25lbnRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FuJ3QgZmluZCBwYXJlbnQgRm9ybUdyb3VwIGRpcmVjdGl2ZVxuICAgIH1cbiAgfVxuXG4gIG5nRG9DaGVjaygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fY29udHJvbCkge1xuICAgICAgLy8gV2UgbmVlZCB0byByZS1ldmFsdWF0ZSB0aGlzIG9uIGV2ZXJ5IGNoYW5nZSBkZXRlY3Rpb24gY3ljbGUsIGJlY2F1c2UgdGhlcmUgYXJlIHNvbWVcbiAgICAgIC8vIGVycm9yIHRyaWdnZXJzIHRoYXQgd2UgY2FuJ3Qgc3Vic2NyaWJlIHRvIChlLmcuIHBhcmVudCBmb3JtIHN1Ym1pc3Npb25zKS4gVGhpcyBtZWFuc1xuICAgICAgLy8gdGhhdCB3aGF0ZXZlciBsb2dpYyBpcyBpbiBoZXJlIGhhcyB0byBiZSBzdXBlciBsZWFuIG9yIHdlIHJpc2sgZGVzdHJveWluZyB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICB0aGlzLl9lcnJvclN0YXRlID0gdXBkYXRlRXJyb3JTdGF0ZShcbiAgICAgICAgdGhpcy5lcnJvclN0YXRlLFxuICAgICAgICB0aGlzLnBhcmVudEZvcm1Hcm91cCxcbiAgICAgICAgdGhpcy5wYXJlbnRGb3JtLFxuICAgICAgICB0aGlzLl9jb250cm9sLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZCB7XG4gICAgY29uc3QgY29udHJvbCA9IHRoaXMuX2NvbnRyb2w7XG5cbiAgICBpZiAoY29udHJvbCAmJiBjb250cm9sLnZhbHVlQ2hhbmdlcykge1xuICAgICAgY29udHJvbC52YWx1ZUNoYW5nZXNcbiAgICAgICAgLnBpcGUodGFrZVVudGlsRGVzdHJveWVkKHRoaXMuZGVzdHJveVJlZikpXG4gICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgIGNvbnRyb2w/Lm1hcmtBc0RpcnR5KCk7XG4gICAgICAgICAgY29udHJvbD8ubWFya0FzVG91Y2hlZCgpO1xuICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudEZvcm1Hcm91cCB8fCB0aGlzLnBhcmVudEZvcm07XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBwYXJlbnQubmdTdWJtaXRcbiAgICAgICAgLnBpcGUodGFrZVVudGlsRGVzdHJveWVkKHRoaXMuZGVzdHJveVJlZikpXG4gICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgdGhpcy5mb2N1c01vbml0b3JcbiAgICAgIC5tb25pdG9yKHRoaXMuZWxlbWVudFJlZiwgdHJ1ZSlcbiAgICAgIC5zdWJzY3JpYmUoKGZvY3VzT3JpZ2luKSA9PiB7XG4gICAgICAgIGlmIChmb2N1c09yaWdpbiA9PT0gJ2tleWJvYXJkJyB8fCBmb2N1c09yaWdpbiA9PT0gJ3Byb2dyYW0nKSB7XG4gICAgICAgICAgdGhpcy5faW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIGlmICghZm9jdXNPcmlnaW4pIHtcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHRoaXMuX29uVG91Y2hlZCgpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdEFuaW1hdGlvblN0YXRlID0gJ2VudGVyJzsgLy8gQXZvaWQgYW5pbWF0aW9ucyBvbiBsb2FkLlxuICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuZm9jdXNNb25pdG9yLnN0b3BNb25pdG9yaW5nKHRoaXMuZWxlbWVudFJlZik7XG4gIH1cblxuICBnZXQgaXNFcnJvck1lc3NhZ2VWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmVycm9yU3RhdGU7XG4gIH1cblxuICBfb25DaGFuZ2VFdmVudChldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnRvZ2dsZUNoYW5nZS5lbWl0KCk7XG5cbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5faW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY2hlY2tlZCA9IHRoaXMuY2hlY2tlZDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNoZWNrZWQgIT09IHRoaXMuX2lucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgIHRoaXMuY2hlY2tlZCA9IHRoaXMuX2lucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50LmNoZWNrZWQ7XG4gICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbWl0Q2hhbmdlRXZlbnQoKTtcbiAgfVxuXG4gIF9vbklucHV0Q2xpY2soZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICB3cml0ZVZhbHVlKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2hlY2tlZCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuY2hlY2tlZCA9IHZhbHVlO1xuICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fb25DaGFuZ2UgPSBmbjtcbiAgfVxuXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fb25Ub3VjaGVkID0gZm47XG4gIH1cblxuICBzZXREaXNhYmxlZFN0YXRlKGlzRGlzYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCAhPT0gaXNEaXNhYmxlZCkge1xuICAgICAgdGhpcy5kaXNhYmxlZCA9IGlzRGlzYWJsZWQ7XG4gICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gIH1cblxuICBmb2N1cyhvcHRpb25zPzogRm9jdXNPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMob3B0aW9ucyk7XG4gIH1cblxuICB0b2dnbGUoKTogdm9pZCB7XG4gICAgdGhpcy5jaGVja2VkID0gIXRoaXMuY2hlY2tlZDtcbiAgICB0aGlzLl9vbkNoYW5nZSh0aGlzLmNoZWNrZWQpO1xuICB9XG5cbiAgX29uTGFiZWxUZXh0Q2hhbmdlKCk6IHZvaWQge1xuICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2VtaXRDaGFuZ2VFdmVudCgpOiB2b2lkIHtcbiAgICB0aGlzLl9vbkNoYW5nZSh0aGlzLmNoZWNrZWQpO1xuICAgIHRoaXMuYnV0dG9uQ2hhbmdlZC5lbWl0KG5ldyBSZHNTd2l0Y2hDaGFuZ2UodGhpcywgdGhpcy5jaGVja2VkKSk7XG4gIH1cbn1cbiIsIjxsYWJlbFxuICBbYXR0ci5mb3JdPVwiaW5wdXRJZFwiXG4gIGNsYXNzPVwicmRzLXN3aXRjaC1sYWJlbFwiXG4gIFtjbGFzcy5yZHMtc3dpdGNoLWxhYmVsLWJlZm9yZV09XCJsYWJlbFBvc2l0aW9uID09PSAnYmVmb3JlJ1wiXG4+XG4gIDxkaXZcbiAgICBjbGFzcz1cInJkcy1zd2l0Y2gtYmFyXCJcbiAgICBbY2xhc3MucmRzLXN3aXRjaC1iYXItbm8tc2lkZS1tYXJnaW5dPVwiXG4gICAgICAhbGFiZWxDb250ZW50LnRleHRDb250ZW50IHx8ICFsYWJlbENvbnRlbnQudGV4dENvbnRlbnQudHJpbSgpXG4gICAgXCJcbiAgPlxuICAgIDxpbnB1dFxuICAgICAgI2lucHV0XG4gICAgICBjbGFzcz1cInJkcy1zd2l0Y2gtaW5wdXQgY2RrLXZpc3VhbGx5LWhpZGRlblwiXG4gICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgcm9sZT1cInN3aXRjaFwiXG4gICAgICBbaWRdPVwiaW5wdXRJZFwiXG4gICAgICBbcmVxdWlyZWRdPVwicmVxdWlyZWRcIlxuICAgICAgW3RhYkluZGV4XT1cInRhYkluZGV4XCJcbiAgICAgIFtjaGVja2VkXT1cImNoZWNrZWRcIlxuICAgICAgW2Rpc2FibGVkXT1cImRpc2FibGVkXCJcbiAgICAgIFthdHRyLm5hbWVdPVwibmFtZVwiXG4gICAgICBbYXR0ci5hcmlhLWNoZWNrZWRdPVwiY2hlY2tlZCA/ICd0cnVlJyA6ICdmYWxzZSdcIlxuICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJhcmlhTGFiZWxcIlxuICAgICAgW2F0dHIuYXJpYS1sYWJlbGxlZGJ5XT1cImFyaWFMYWJlbGxlZGJ5XCJcbiAgICAgIFthdHRyLmFyaWEtZGVzY3JpYmVkYnldPVwiYXJpYURlc2NyaWJlZGJ5XCJcbiAgICAgIChjaGFuZ2UpPVwiX29uQ2hhbmdlRXZlbnQoJGV2ZW50KVwiXG4gICAgICAoY2xpY2spPVwiX29uSW5wdXRDbGljaygkZXZlbnQpXCJcbiAgICAvPlxuICAgIDxkaXYgY2xhc3M9XCJyZHMtc3dpdGNoLXRodW1iLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInJkcy1zd2l0Y2gtdGh1bWJcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJyZHMtc3dpdGNoLXJpcHBsZSByZHMtZm9jdXMtaW5kaWNhdG9yXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZHMtcmlwcGxlLWVsZW1lbnQgcmRzLXN3aXRjaC1wZXJzaXN0ZW50LXJpcHBsZVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8c3BhblxuICAgIGNsYXNzPVwicmRzLXN3aXRjaC1jb250ZW50XCJcbiAgICBbbmdDbGFzc109XCIncmRzLXN3aXRjaC1sYWJlbC1jb250ZW50LS0nICsgc2l6ZVwiXG4gICAgI2xhYmVsQ29udGVudFxuICAgIChjZGtPYnNlcnZlQ29udGVudCk9XCJfb25MYWJlbFRleHRDaGFuZ2UoKVwiXG4gID5cbiAgICA8bmctY29udGVudCAvPlxuICA8L3NwYW4+XG48L2xhYmVsPlxuPGRpdiBjbGFzcz1cInJkcy1zd2l0Y2hfX3N1YnNjcmlwdC13cmFwcGVyXCI+XG4gIEBzd2l0Y2ggKGlzRXJyb3JNZXNzYWdlVmlzaWJsZSkge1xuICAgIEBjYXNlICh0cnVlKSB7XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwicmRzLXN3aXRjaF9fc3Vic2NyaXB0IHJkcy1zd2l0Y2hfX3N1YnNjcmlwdC0tZXJyb3JcIlxuICAgICAgICBbQHRyYW5zaXRpb25NZXNzYWdlc109XCJzdWJzY3JpcHRBbmltYXRpb25TdGF0ZVwiXG4gICAgICA+XG4gICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cInJkcy1jb250cm9sLWVycm9yXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgIH1cbiAgICBAY2FzZSAoZmFsc2UpIHtcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJyZHMtc3dpdGNoX19zdWJzY3JpcHQgcmRzLXN3aXRjaF9fc3Vic2NyaXB0LS1oaW50XCJcbiAgICAgICAgW0B0cmFuc2l0aW9uTWVzc2FnZXNdPVwic3Vic2NyaXB0QW5pbWF0aW9uU3RhdGVcIlxuICAgICAgPlxuICAgICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJyZHMtY29udHJvbC1oaW50XCIgLz5cbiAgICAgIDwvZGl2PlxuICAgIH1cbiAgfVxuPC9kaXY+XG4iXX0=