import { ErrorStateMatcher } from '../core';
export const updateErrorState = (errorState, parentFormGroup, parentForm, control, matcher) => {
    const oldState = errorState;
    const parent = parentFormGroup || parentForm;
    const newState = matcher instanceof ErrorStateMatcher
        ? matcher.isErrorState(control, parent)
        : isErrorState(control, parent);
    if (newState !== oldState) {
        return newState;
    }
    return oldState;
};
export const isErrorState = (control, form) => {
    return !!(control &&
        control.invalid &&
        (control.touched || (form && form.submitted)));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1jb250cm9sLnV0aWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FuZ3VsYXItY29tcG9uZW50cy9zcmMvbGliL3V0aWxzL2Zvcm0tY29udHJvbC51dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUU1QyxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUM5QixVQUFtQixFQUNuQixlQUEwQyxFQUMxQyxVQUF5QixFQUN6QixPQUErQixFQUMvQixPQUEyQixFQUNsQixFQUFFO0lBQ1gsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDO0lBQzVCLE1BQU0sTUFBTSxHQUFHLGVBQWUsSUFBSSxVQUFVLENBQUM7SUFDN0MsTUFBTSxRQUFRLEdBQ1osT0FBTyxZQUFZLGlCQUFpQjtRQUNsQyxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXBDLElBQUksUUFBUSxLQUFLLFFBQVEsRUFBRSxDQUFDO1FBQzFCLE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FDMUIsT0FBK0IsRUFDL0IsSUFBd0MsRUFDL0IsRUFBRTtJQUNYLE9BQU8sQ0FBQyxDQUFDLENBQ1AsT0FBTztRQUNQLE9BQU8sQ0FBQyxPQUFPO1FBQ2YsQ0FBQyxPQUFPLENBQUMsT0FBTyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUM5QyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWJzdHJhY3RDb250cm9sLCBGb3JtR3JvdXBEaXJlY3RpdmUsIE5nRm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEVycm9yU3RhdGVNYXRjaGVyIH0gZnJvbSAnLi4vY29yZSc7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVFcnJvclN0YXRlID0gKFxuICBlcnJvclN0YXRlOiBib29sZWFuLFxuICBwYXJlbnRGb3JtR3JvdXA6IEZvcm1Hcm91cERpcmVjdGl2ZSB8IG51bGwsXG4gIHBhcmVudEZvcm06IE5nRm9ybSB8IG51bGwsXG4gIGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCB8IG51bGwsXG4gIG1hdGNoZXI/OiBFcnJvclN0YXRlTWF0Y2hlcixcbik6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBvbGRTdGF0ZSA9IGVycm9yU3RhdGU7XG4gIGNvbnN0IHBhcmVudCA9IHBhcmVudEZvcm1Hcm91cCB8fCBwYXJlbnRGb3JtO1xuICBjb25zdCBuZXdTdGF0ZSA9XG4gICAgbWF0Y2hlciBpbnN0YW5jZW9mIEVycm9yU3RhdGVNYXRjaGVyXG4gICAgICA/IG1hdGNoZXIuaXNFcnJvclN0YXRlKGNvbnRyb2wsIHBhcmVudClcbiAgICAgIDogaXNFcnJvclN0YXRlKGNvbnRyb2wsIHBhcmVudCk7XG5cbiAgaWYgKG5ld1N0YXRlICE9PSBvbGRTdGF0ZSkge1xuICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgfVxuXG4gIHJldHVybiBvbGRTdGF0ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Vycm9yU3RhdGUgPSAoXG4gIGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCB8IG51bGwsXG4gIGZvcm06IEZvcm1Hcm91cERpcmVjdGl2ZSB8IE5nRm9ybSB8IG51bGwsXG4pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuICEhKFxuICAgIGNvbnRyb2wgJiZcbiAgICBjb250cm9sLmludmFsaWQgJiZcbiAgICAoY29udHJvbC50b3VjaGVkIHx8IChmb3JtICYmIGZvcm0uc3VibWl0dGVkKSlcbiAgKTtcbn07XG4iXX0=