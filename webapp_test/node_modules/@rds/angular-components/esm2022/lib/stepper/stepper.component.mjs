import { animate, state, style, transition, trigger, } from '@angular/animations';
import { CdkStepper } from '@angular/cdk/stepper';
import { booleanAttribute, ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChildren, ElementRef, EventEmitter, forwardRef, HostBinding, inject, Input, Output, QueryList, ViewChildren, ViewEncapsulation, } from '@angular/core';
import { RdsStepHeaderComponent } from './step-header.component';
import { RdsStepComponent } from './step.component';
import { takeUntil } from 'rxjs/operators';
import { Subject } from 'rxjs';
import { Directionality } from '@angular/cdk/bidi';
import { ViewportRuler } from '@angular/cdk/scrolling';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "./step-header.component";
export class RdsStepperComponent extends CdkStepper {
    get class() {
        const classList = ['rds-stepper'];
        if (this.orientation === 'horizontal') {
            classList.push('rds-stepper-horizontal');
        }
        else if (this.orientation === 'vertical') {
            classList.push('rds-stepper-vertical');
            if (this.sideBySide) {
                classList.push('rds-stepper-side-by-side');
            }
        }
        return classList;
    }
    constructor() {
        super(inject(Directionality), inject(ChangeDetectorRef), inject(ElementRef));
        this.cdr = inject(ChangeDetectorRef);
        this.viewportRuler = inject(ViewportRuler);
        this.hostRole = 'tablist';
        this.sideBySide = false;
        /** Event emitted when the current step is done transitioning in. */
        this.animationDone = new EventEmitter();
        this.steps = new QueryList(); // Steps that belong to current stepper, excluding from nested
        /** Stream of animation `done` events when the body expands/collapses. */
        this._animationDone = new Subject(); //
        this._horizontalLineStyle = {};
    }
    ngAfterContentInit() {
        super.ngAfterContentInit();
        // Mark the component for change detection whenever the content children query changes
        this.steps.changes.pipe(takeUntil(this._destroyed)).subscribe(() => {
            this._stateChanged();
        });
        this._animationDone.pipe(takeUntil(this._destroyed)).subscribe((event) => {
            if (event.toState === 'current') {
                this.animationDone.emit();
            }
        });
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
        if (this._stepHeader.first) {
            Promise.resolve().then(() => {
                this.calculateHorizontalLineStyle();
            });
        }
        this.viewportRuler
            .change()
            .pipe(takeUntil(this._destroyed))
            .subscribe(() => this.calculateHorizontalLineStyle());
    }
    calculateHorizontalLineStyle() {
        const headerPadding = 8;
        const stepperGap = 32;
        const offsetWidth = this._stepHeader.first?._elementRef.nativeElement.offsetWidth || 0;
        this._horizontalLineStyle.minWidth = `calc(100% + ${offsetWidth}px)`;
        this._horizontalLineStyle.transform = `translateX(-${offsetWidth - headerPadding - stepperGap}px)`;
        this.cdr.detectChanges();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsStepperComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.1", type: RdsStepperComponent, selector: "rds-stepper, [rdsStepper], [rds-stepper]", inputs: { sideBySide: ["sideBySide", "sideBySide", booleanAttribute] }, outputs: { animationDone: "animationDone" }, host: { properties: { "class": "this.class", "attr.role": "this.hostRole" } }, providers: [{ provide: CdkStepper, useExisting: RdsStepperComponent }], queries: [{ propertyName: "_steps", predicate: i0.forwardRef(() => RdsStepComponent), descendants: true }], viewQueries: [{ propertyName: "_stepHeader", predicate: RdsStepHeaderComponent, descendants: true }], exportAs: ["rdsStepper"], usesInheritance: true, ngImport: i0, template: "<ng-container>\n  <ng-container>\n    <div class=\"rds-stepper-header-container\">\n      @for (step of steps; track step; let i = $index; let isLast = $last) {\n        @if (orientation !== 'vertical') {\n          <ng-container\n            [ngTemplateOutlet]=\"stepTemplate\"\n            [ngTemplateOutletContext]=\"{ step: step, i: i }\"\n          />\n        }\n        @if (orientation === 'vertical') {\n          <div class=\"rds-content-wrapper\">\n            <div\n              [ngClass]=\"{\n                'rds-stepper-vertical-line-wrapper': !isLast,\n                'rds-stepper-content-container-vertical-selected':\n                  selectedIndex === i\n              }\"\n            >\n              <div class=\"rds-stepper-vertical-line\">\n                @if (!sideBySide) {\n                  <div\n                    class=\"rds-stepper-vertical-line-progress\"\n                    [@stepProgressVertical]=\"selectedIndex > i ? 'max' : 'void'\"\n                  ></div>\n                } @else {\n                  <div\n                    class=\"rds-stepper-vertical-line-progress\"\n                    [@stepProgressSideBySide]=\"\n                      selectedIndex > i ? 'max' : 'void'\n                    \"\n                  ></div>\n                }\n              </div>\n            </div>\n            <div>\n              <ng-container\n                [ngTemplateOutlet]=\"stepTemplate\"\n                [ngTemplateOutletContext]=\"{ step: step, i: i }\"\n              />\n              @if (!sideBySide) {\n                <div\n                  class=\"rds-stepper-content-container rds-stepper-content-container-vertical\"\n                >\n                  <div\n                    role=\"tabpanel\"\n                    Class=\"rds-stepper-content\"\n                    [@stepTransitionVertical]=\"_getAnimationDirection(i)\"\n                    (@stepTransitionVertical.done)=\"_animationDone.next($event)\"\n                    [id]=\"_getStepContentId(i)\"\n                    [attr.aria-labelledby]=\"_getStepLabelId(i)\"\n                    [attr.aria-expanded]=\"selectedIndex === i\"\n                  >\n                    <ng-container [ngTemplateOutlet]=\"step.content\" />\n                  </div>\n                </div>\n              }\n            </div>\n          </div>\n        }\n        @if (!isLast && orientation === 'horizontal') {\n          <div class=\"rds-stepper-line-wrapper\">\n            <div\n              class=\"rds-stepper-line\"\n              [class.rds-stepper-line-selected-element-after]=\"\n                selectedIndex > i\n              \"\n              [ngStyle]=\"_horizontalLineStyle\"\n            >\n              <div\n                class=\"rds-stepper-line-progress\"\n                [@stepProgress]=\"selectedIndex > i ? 'max' : 'void'\"\n              ></div>\n            </div>\n          </div>\n        }\n      }\n    </div>\n\n    @if (orientation === 'vertical' && sideBySide) {\n      <div\n        class=\"rds-stepper-content-container rds-stepper-content-container-horizontal\"\n      >\n        @for (step of steps; track step; let i = $index) {\n          <div\n            role=\"tabpanel\"\n            class=\"rds-stepper-content\"\n            [@stepTransitionSideBySide]=\"_getAnimationDirection(i)\"\n            (@stepTransitionSideBySide.done)=\"_animationDone.next($event)\"\n            [id]=\"_getStepContentId(i)\"\n            [ngStyle]=\"{\n              display: selectedIndex === i ? 'inherit' : 'none'\n            }\"\n            [attr.aria-labelledby]=\"_getStepLabelId(i)\"\n            [attr.aria-expanded]=\"selectedIndex === i\"\n          >\n            <ng-container [ngTemplateOutlet]=\"step.content\" />\n          </div>\n        }\n      </div>\n    }\n    @if (orientation === 'horizontal') {\n      <div\n        class=\"rds-stepper-content-container rds-stepper-content-container-horizontal\"\n      >\n        @for (step of steps; track step; let i = $index) {\n          <div\n            role=\"tabpanel\"\n            class=\"rds-stepper-content\"\n            [@stepTransition]=\"_getAnimationDirection(i)\"\n            (@stepTransition.done)=\"_animationDone.next($event)\"\n            [id]=\"_getStepContentId(i)\"\n            [attr.aria-labelledby]=\"_getStepLabelId(i)\"\n            [attr.aria-expanded]=\"selectedIndex === i\"\n          >\n            <ng-container [ngTemplateOutlet]=\"step.content\" />\n          </div>\n        }\n      </div>\n    }\n  </ng-container>\n</ng-container>\n\n<!-- Common step templating -->\n<ng-template let-step=\"step\" let-i=\"i\" #stepTemplate>\n  <rds-step-header\n    [class.rds-step-header-selected-element-after]=\"selectedIndex > i\"\n    (click)=\"step.select()\"\n    (keydown)=\"_onKeydown($event)\"\n    [tabIndex]=\"_getFocusIndex() === i ? 0 : -1\"\n    [id]=\"_getStepLabelId(i)\"\n    [attr.aria-posinset]=\"i + 1\"\n    [attr.aria-setsize]=\"steps.length\"\n    [attr.aria-controls]=\"_getStepContentId(i)\"\n    [attr.aria-selected]=\"selectedIndex === i\"\n    [attr.aria-label]=\"step.ariaLabel || null\"\n    [attr.aria-labelledby]=\"\n      !step.ariaLabel && step.ariaLabelledby ? step.ariaLabelledby : null\n    \"\n    [index]=\"i\"\n    [state]=\"_getIndicatorType(i, step.state)\"\n    [label]=\"step.stepLabel || step.label\"\n    [selected]=\"selectedIndex === i\"\n    [active]=\"step.completed || selectedIndex === i || !linear\"\n    [optional]=\"step.optional\"\n    [sideBySide]=\"sideBySide\"\n    [orientation]=\"orientation\"\n  />\n</ng-template>\n", styles: [".rds-stepper{display:block}.rds-stepper-horizontal .rds-stepper-header-container{position:relative;justify-content:center;display:flex;white-space:nowrap}@media (max-width: 767.999999px){.rds-stepper-horizontal .rds-stepper-header-container{gap:24px;align-items:center;padding-bottom:62px}}.rds-stepper-horizontal .rds-stepper-line-wrapper{position:relative;flex:auto;margin:26px 0 14px;border-top:2px solid transparent;min-width:32px;height:0}@media (max-width: 767.999999px){.rds-stepper-horizontal .rds-stepper-line-wrapper{display:none}}.rds-stepper-horizontal .rds-stepper-line{position:absolute;flex:auto;transform:translate(-75px);transition:border-color .2s cubic-bezier(.35,0,.25,1);border-top:1px solid var(--rds-color-grey-3);min-width:calc(100% + 150px);height:0}.rds-stepper-horizontal .rds-stepper-line .rds-stepper-line-progress{position:relative;transform:translateY(-1px);width:0;border-top:1px solid var(--rds-color-grey-3);border-color:var(--rds-color-brand)}.rds-stepper-horizontal .rds-stepper-content{outline:0}.rds-stepper-horizontal .rds-stepper-content[aria-expanded=false]{overflow:hidden;height:0}.rds-stepper-horizontal .rds-stepper-content-container{overflow:hidden;padding:0 24px 24px}.rds-content-wrapper{display:flex}@media (max-width: 767.999999px){.rds-content-wrapper{padding-top:30px}}.rds-stepper-vertical-line-wrapper{position:relative}@media (max-width: 767.999999px){.rds-stepper-vertical-line-wrapper{display:none}}.rds-stepper-vertical-line-wrapper .rds-stepper-vertical-line{position:absolute;left:24px;top:40px;bottom:-40px;z-index:2;border-left:1px solid;border-color:var(--rds-color-grey-3)}.rds-stepper-vertical-line-wrapper .rds-stepper-vertical-line .rds-stepper-vertical-line-progress{position:relative;width:0;z-index:3;border-left:1px solid;border-color:var(--rds-color-brand);transform:translate(-1px)}.rds-stepper-content-container-vertical{padding-left:52px;width:100%}@media (max-width: 767.999999px){.rds-stepper-content-container-vertical{padding-left:24px}}.rds-stepper-content-container-vertical .rds-stepper-content{overflow:hidden}.rds-stepper.rds-stepper-side-by-side{display:grid;gap:32px;grid-template-columns:1fr 4fr}.rds-stepper.rds-stepper-side-by-side .rds-stepper-header-container{position:sticky;align-self:flex-start;justify-content:flex-start;flex-direction:column;z-index:1}.rds-stepper.rds-stepper-side-by-side .rds-stepper-content-container{padding:24px 16px 0;flex:1;overflow:visible}.rds-stepper.rds-stepper-side-by-side .rds-stepper-vertical-line{top:32px;bottom:-32px}.rds-stepper.rds-stepper-side-by-side .rds-step-header.rds-step-header-side-by-side{position:relative;flex-direction:row;padding:16px 8px;align-items:flex-start}.rds-stepper.rds-stepper-side-by-side .rds-step-header.rds-step-header-side-by-side .rds-step-label{margin-top:4px}.rds-stepper.rds-stepper-side-by-side .rds-step-text-label{display:flex;flex-direction:column}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i1.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { kind: "component", type: i2.RdsStepHeaderComponent, selector: "rds-step-header", inputs: ["orientation", "sideBySide", "state", "label", "index", "selected", "active", "optional", "stepNumberMobileFunc"] }], animations: [
            trigger('stepTransition', [
                state('previous', style({ transform: 'translate3d(-100%, 0, 0)', visibility: 'hidden' })),
                state('current', style({ transform: 'none', visibility: 'inherit' })),
                state('next', style({ transform: 'translate3d(100%, 0, 0)', visibility: 'hidden' })),
                transition('* => *', animate('500ms cubic-bezier(0.35, 0, 0.25, 1)')),
            ]),
            trigger('stepTransitionVertical', [
                state('previous', style({ height: '0px', visibility: 'hidden' })),
                state('next', style({ height: '0px', visibility: 'hidden' })),
                state('current', style({ height: '*', visibility: 'inherit' })),
                transition('* <=> current', animate('500ms cubic-bezier(0.4, 0.0, 0.2, 1)'), {}),
            ]),
            trigger('stepTransitionSideBySide', [
                state('previous', style({ opacity: '0' })),
                state('current', style({ opacity: '100%' })),
                state('next', style({ opacity: '0' })),
                transition('* => *', animate('500ms cubic-bezier(0.35, 0, 0.25, 1)')),
            ]),
            trigger('stepProgress', [
                state('void', style({ width: 0 })),
                state('max', style({ width: '100%' })),
                transition('* => *', animate('.3s linear')),
            ]),
            trigger('stepProgressVertical', [
                state('void', style({ height: 0 })),
                state('max', style({ height: '100%' })),
                transition('* => *', animate('.3s linear')),
            ]),
            trigger('stepProgressSideBySide', [
                state('void', style({ height: 0 })),
                state('max', style({ height: '100%' })),
                transition('* => *', animate('.3s linear')),
            ]),
        ], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsStepperComponent, decorators: [{
            type: Component,
            args: [{ selector: 'rds-stepper, [rdsStepper], [rds-stepper]', exportAs: 'rdsStepper', animations: [
                        trigger('stepTransition', [
                            state('previous', style({ transform: 'translate3d(-100%, 0, 0)', visibility: 'hidden' })),
                            state('current', style({ transform: 'none', visibility: 'inherit' })),
                            state('next', style({ transform: 'translate3d(100%, 0, 0)', visibility: 'hidden' })),
                            transition('* => *', animate('500ms cubic-bezier(0.35, 0, 0.25, 1)')),
                        ]),
                        trigger('stepTransitionVertical', [
                            state('previous', style({ height: '0px', visibility: 'hidden' })),
                            state('next', style({ height: '0px', visibility: 'hidden' })),
                            state('current', style({ height: '*', visibility: 'inherit' })),
                            transition('* <=> current', animate('500ms cubic-bezier(0.4, 0.0, 0.2, 1)'), {}),
                        ]),
                        trigger('stepTransitionSideBySide', [
                            state('previous', style({ opacity: '0' })),
                            state('current', style({ opacity: '100%' })),
                            state('next', style({ opacity: '0' })),
                            transition('* => *', animate('500ms cubic-bezier(0.35, 0, 0.25, 1)')),
                        ]),
                        trigger('stepProgress', [
                            state('void', style({ width: 0 })),
                            state('max', style({ width: '100%' })),
                            transition('* => *', animate('.3s linear')),
                        ]),
                        trigger('stepProgressVertical', [
                            state('void', style({ height: 0 })),
                            state('max', style({ height: '100%' })),
                            transition('* => *', animate('.3s linear')),
                        ]),
                        trigger('stepProgressSideBySide', [
                            state('void', style({ height: 0 })),
                            state('max', style({ height: '100%' })),
                            transition('* => *', animate('.3s linear')),
                        ]),
                    ], providers: [{ provide: CdkStepper, useExisting: RdsStepperComponent }], encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: "<ng-container>\n  <ng-container>\n    <div class=\"rds-stepper-header-container\">\n      @for (step of steps; track step; let i = $index; let isLast = $last) {\n        @if (orientation !== 'vertical') {\n          <ng-container\n            [ngTemplateOutlet]=\"stepTemplate\"\n            [ngTemplateOutletContext]=\"{ step: step, i: i }\"\n          />\n        }\n        @if (orientation === 'vertical') {\n          <div class=\"rds-content-wrapper\">\n            <div\n              [ngClass]=\"{\n                'rds-stepper-vertical-line-wrapper': !isLast,\n                'rds-stepper-content-container-vertical-selected':\n                  selectedIndex === i\n              }\"\n            >\n              <div class=\"rds-stepper-vertical-line\">\n                @if (!sideBySide) {\n                  <div\n                    class=\"rds-stepper-vertical-line-progress\"\n                    [@stepProgressVertical]=\"selectedIndex > i ? 'max' : 'void'\"\n                  ></div>\n                } @else {\n                  <div\n                    class=\"rds-stepper-vertical-line-progress\"\n                    [@stepProgressSideBySide]=\"\n                      selectedIndex > i ? 'max' : 'void'\n                    \"\n                  ></div>\n                }\n              </div>\n            </div>\n            <div>\n              <ng-container\n                [ngTemplateOutlet]=\"stepTemplate\"\n                [ngTemplateOutletContext]=\"{ step: step, i: i }\"\n              />\n              @if (!sideBySide) {\n                <div\n                  class=\"rds-stepper-content-container rds-stepper-content-container-vertical\"\n                >\n                  <div\n                    role=\"tabpanel\"\n                    Class=\"rds-stepper-content\"\n                    [@stepTransitionVertical]=\"_getAnimationDirection(i)\"\n                    (@stepTransitionVertical.done)=\"_animationDone.next($event)\"\n                    [id]=\"_getStepContentId(i)\"\n                    [attr.aria-labelledby]=\"_getStepLabelId(i)\"\n                    [attr.aria-expanded]=\"selectedIndex === i\"\n                  >\n                    <ng-container [ngTemplateOutlet]=\"step.content\" />\n                  </div>\n                </div>\n              }\n            </div>\n          </div>\n        }\n        @if (!isLast && orientation === 'horizontal') {\n          <div class=\"rds-stepper-line-wrapper\">\n            <div\n              class=\"rds-stepper-line\"\n              [class.rds-stepper-line-selected-element-after]=\"\n                selectedIndex > i\n              \"\n              [ngStyle]=\"_horizontalLineStyle\"\n            >\n              <div\n                class=\"rds-stepper-line-progress\"\n                [@stepProgress]=\"selectedIndex > i ? 'max' : 'void'\"\n              ></div>\n            </div>\n          </div>\n        }\n      }\n    </div>\n\n    @if (orientation === 'vertical' && sideBySide) {\n      <div\n        class=\"rds-stepper-content-container rds-stepper-content-container-horizontal\"\n      >\n        @for (step of steps; track step; let i = $index) {\n          <div\n            role=\"tabpanel\"\n            class=\"rds-stepper-content\"\n            [@stepTransitionSideBySide]=\"_getAnimationDirection(i)\"\n            (@stepTransitionSideBySide.done)=\"_animationDone.next($event)\"\n            [id]=\"_getStepContentId(i)\"\n            [ngStyle]=\"{\n              display: selectedIndex === i ? 'inherit' : 'none'\n            }\"\n            [attr.aria-labelledby]=\"_getStepLabelId(i)\"\n            [attr.aria-expanded]=\"selectedIndex === i\"\n          >\n            <ng-container [ngTemplateOutlet]=\"step.content\" />\n          </div>\n        }\n      </div>\n    }\n    @if (orientation === 'horizontal') {\n      <div\n        class=\"rds-stepper-content-container rds-stepper-content-container-horizontal\"\n      >\n        @for (step of steps; track step; let i = $index) {\n          <div\n            role=\"tabpanel\"\n            class=\"rds-stepper-content\"\n            [@stepTransition]=\"_getAnimationDirection(i)\"\n            (@stepTransition.done)=\"_animationDone.next($event)\"\n            [id]=\"_getStepContentId(i)\"\n            [attr.aria-labelledby]=\"_getStepLabelId(i)\"\n            [attr.aria-expanded]=\"selectedIndex === i\"\n          >\n            <ng-container [ngTemplateOutlet]=\"step.content\" />\n          </div>\n        }\n      </div>\n    }\n  </ng-container>\n</ng-container>\n\n<!-- Common step templating -->\n<ng-template let-step=\"step\" let-i=\"i\" #stepTemplate>\n  <rds-step-header\n    [class.rds-step-header-selected-element-after]=\"selectedIndex > i\"\n    (click)=\"step.select()\"\n    (keydown)=\"_onKeydown($event)\"\n    [tabIndex]=\"_getFocusIndex() === i ? 0 : -1\"\n    [id]=\"_getStepLabelId(i)\"\n    [attr.aria-posinset]=\"i + 1\"\n    [attr.aria-setsize]=\"steps.length\"\n    [attr.aria-controls]=\"_getStepContentId(i)\"\n    [attr.aria-selected]=\"selectedIndex === i\"\n    [attr.aria-label]=\"step.ariaLabel || null\"\n    [attr.aria-labelledby]=\"\n      !step.ariaLabel && step.ariaLabelledby ? step.ariaLabelledby : null\n    \"\n    [index]=\"i\"\n    [state]=\"_getIndicatorType(i, step.state)\"\n    [label]=\"step.stepLabel || step.label\"\n    [selected]=\"selectedIndex === i\"\n    [active]=\"step.completed || selectedIndex === i || !linear\"\n    [optional]=\"step.optional\"\n    [sideBySide]=\"sideBySide\"\n    [orientation]=\"orientation\"\n  />\n</ng-template>\n", styles: [".rds-stepper{display:block}.rds-stepper-horizontal .rds-stepper-header-container{position:relative;justify-content:center;display:flex;white-space:nowrap}@media (max-width: 767.999999px){.rds-stepper-horizontal .rds-stepper-header-container{gap:24px;align-items:center;padding-bottom:62px}}.rds-stepper-horizontal .rds-stepper-line-wrapper{position:relative;flex:auto;margin:26px 0 14px;border-top:2px solid transparent;min-width:32px;height:0}@media (max-width: 767.999999px){.rds-stepper-horizontal .rds-stepper-line-wrapper{display:none}}.rds-stepper-horizontal .rds-stepper-line{position:absolute;flex:auto;transform:translate(-75px);transition:border-color .2s cubic-bezier(.35,0,.25,1);border-top:1px solid var(--rds-color-grey-3);min-width:calc(100% + 150px);height:0}.rds-stepper-horizontal .rds-stepper-line .rds-stepper-line-progress{position:relative;transform:translateY(-1px);width:0;border-top:1px solid var(--rds-color-grey-3);border-color:var(--rds-color-brand)}.rds-stepper-horizontal .rds-stepper-content{outline:0}.rds-stepper-horizontal .rds-stepper-content[aria-expanded=false]{overflow:hidden;height:0}.rds-stepper-horizontal .rds-stepper-content-container{overflow:hidden;padding:0 24px 24px}.rds-content-wrapper{display:flex}@media (max-width: 767.999999px){.rds-content-wrapper{padding-top:30px}}.rds-stepper-vertical-line-wrapper{position:relative}@media (max-width: 767.999999px){.rds-stepper-vertical-line-wrapper{display:none}}.rds-stepper-vertical-line-wrapper .rds-stepper-vertical-line{position:absolute;left:24px;top:40px;bottom:-40px;z-index:2;border-left:1px solid;border-color:var(--rds-color-grey-3)}.rds-stepper-vertical-line-wrapper .rds-stepper-vertical-line .rds-stepper-vertical-line-progress{position:relative;width:0;z-index:3;border-left:1px solid;border-color:var(--rds-color-brand);transform:translate(-1px)}.rds-stepper-content-container-vertical{padding-left:52px;width:100%}@media (max-width: 767.999999px){.rds-stepper-content-container-vertical{padding-left:24px}}.rds-stepper-content-container-vertical .rds-stepper-content{overflow:hidden}.rds-stepper.rds-stepper-side-by-side{display:grid;gap:32px;grid-template-columns:1fr 4fr}.rds-stepper.rds-stepper-side-by-side .rds-stepper-header-container{position:sticky;align-self:flex-start;justify-content:flex-start;flex-direction:column;z-index:1}.rds-stepper.rds-stepper-side-by-side .rds-stepper-content-container{padding:24px 16px 0;flex:1;overflow:visible}.rds-stepper.rds-stepper-side-by-side .rds-stepper-vertical-line{top:32px;bottom:-32px}.rds-stepper.rds-stepper-side-by-side .rds-step-header.rds-step-header-side-by-side{position:relative;flex-direction:row;padding:16px 8px;align-items:flex-start}.rds-stepper.rds-stepper-side-by-side .rds-step-header.rds-step-header-side-by-side .rds-step-label{margin-top:4px}.rds-stepper.rds-stepper-side-by-side .rds-step-text-label{display:flex;flex-direction:column}\n"] }]
        }], ctorParameters: () => [], propDecorators: { class: [{
                type: HostBinding,
                args: ['class']
            }], hostRole: [{
                type: HostBinding,
                args: ['attr.role']
            }], _stepHeader: [{
                type: ViewChildren,
                args: [RdsStepHeaderComponent]
            }], _steps: [{
                type: ContentChildren,
                args: [forwardRef(() => RdsStepComponent), { descendants: true }]
            }], sideBySide: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], animationDone: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RlcHBlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FuZ3VsYXItY29tcG9uZW50cy9zcmMvbGliL3N0ZXBwZXIvc3RlcHBlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FuZ3VsYXItY29tcG9uZW50cy9zcmMvbGliL3N0ZXBwZXIvc3RlcHBlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsT0FBTyxFQUVQLEtBQUssRUFDTCxLQUFLLEVBQ0wsVUFBVSxFQUNWLE9BQU8sR0FDUixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxVQUFVLEVBQTRCLE1BQU0sc0JBQXNCLENBQUM7QUFDNUUsT0FBTyxFQUdMLGdCQUFnQixFQUNoQix1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxlQUFlLEVBQ2YsVUFBVSxFQUNWLFlBQVksRUFDWixVQUFVLEVBQ1YsV0FBVyxFQUNYLE1BQU0sRUFDTixLQUFLLEVBQ0wsTUFBTSxFQUNOLFNBQVMsRUFDVCxZQUFZLEVBQ1osaUJBQWlCLEdBQ2xCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNuRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7Ozs7QUF3RHZELE1BQU0sT0FBTyxtQkFDWCxTQUFRLFVBQVU7SUFNbEIsSUFBMEIsS0FBSztRQUM3QixNQUFN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LENBQUMsQ0FBQzs0QkFDdkMsVUFBVSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7eUJBQzVDLENBQUM7d0JBQ0YsT0FBTyxDQUFDLHdCQUF3QixFQUFFOzRCQUNoQyxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDOzRCQUNuQyxLQUFLLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDOzRCQUN2QyxVQUFVLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQzt5QkFDNUMsQ0FBQztxQkFDSCxhQUNVLENBQUMsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFdBQVcscUJBQXFCLEVBQUUsQ0FBQyxpQkFDdkQsaUJBQWlCLENBQUMsSUFBSSxtQkFDcEIsdUJBQXVCLENBQUMsTUFBTTt3REFTckIsS0FBSztzQkFBOUIsV0FBVzt1QkFBQyxPQUFPO2dCQWVlLFFBQVE7c0JBQTFDLFdBQVc7dUJBQUMsV0FBVztnQkFJZixXQUFXO3NCQURuQixZQUFZO3VCQUFDLHNCQUFzQjtnQkFLM0IsTUFBTTtzQkFEZCxlQUFlO3VCQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRTtnQkFHbEMsVUFBVTtzQkFBakQsS0FBSzt1QkFBQyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtnQkFHbkIsYUFBYTtzQkFBL0IsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFuaW1hdGUsXG4gIEFuaW1hdGlvbkV2ZW50LFxuICBzdGF0ZSxcbiAgc3R5bGUsXG4gIHRyYW5zaXRpb24sXG4gIHRyaWdnZXIsXG59IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgQ2RrU3RlcHBlciwgU3RlcENvbnRlbnRQb3NpdGlvblN0YXRlIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL3N0ZXBwZXInO1xuaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgYm9vbGVhbkF0dHJpYnV0ZSxcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIENvbnRlbnRDaGlsZHJlbixcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBIb3N0QmluZGluZyxcbiAgaW5qZWN0LFxuICBJbnB1dCxcbiAgT3V0cHV0LFxuICBRdWVyeUxpc3QsXG4gIFZpZXdDaGlsZHJlbixcbiAgVmlld0VuY2Fwc3VsYXRpb24sXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUmRzU3RlcEhlYWRlckNvbXBvbmVudCB9IGZyb20gJy4vc3RlcC1oZWFkZXIuY29tcG9uZW50JztcbmltcG9ydCB7IFJkc1N0ZXBDb21wb25lbnQgfSBmcm9tICcuL3N0ZXAuY29tcG9uZW50JztcbmltcG9ydCB7IHRha2VVbnRpbCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IERpcmVjdGlvbmFsaXR5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2JpZGknO1xuaW1wb3J0IHsgVmlld3BvcnRSdWxlciB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9zY3JvbGxpbmcnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdyZHMtc3RlcHBlciwgW3Jkc1N0ZXBwZXJdLCBbcmRzLXN0ZXBwZXJdJyxcbiAgZXhwb3J0QXM6ICdyZHNTdGVwcGVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3N0ZXBwZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnc3RlcHBlci5jb21wb25lbnQuc2NzcyddLFxuICBhbmltYXRpb25zOiBbXG4gICAgdHJpZ2dlcignc3RlcFRyYW5zaXRpb24nLCBbXG4gICAgICBzdGF0ZShcbiAgICAgICAgJ3ByZXZpb3VzJyxcbiAgICAgICAgc3R5bGUoeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgtMTAwJSwgMCwgMCknLCB2aXNpYmlsaXR5OiAnaGlkZGVuJyB9KSxcbiAgICAgICksXG4gICAgICBzdGF0ZSgnY3VycmVudCcsIHN0eWxlKHsgdHJhbnNmb3JtOiAnbm9uZScsIHZpc2liaWxpdHk6ICdpbmhlcml0JyB9KSksXG4gICAgICBzdGF0ZShcbiAgICAgICAgJ25leHQnLFxuICAgICAgICBzdHlsZSh7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDEwMCUsIDAsIDApJywgdmlzaWJpbGl0eTogJ2hpZGRlbicgfSksXG4gICAgICApLFxuICAgICAgdHJhbnNpdGlvbignKiA9PiAqJywgYW5pbWF0ZSgnNTAwbXMgY3ViaWMtYmV6aWVyKDAuMzUsIDAsIDAuMjUsIDEpJykpLFxuICAgIF0pLFxuICAgIHRyaWdnZXIoJ3N0ZXBUcmFuc2l0aW9uVmVydGljYWwnLCBbXG4gICAgICBzdGF0ZSgncHJldmlvdXMnLCBzdHlsZSh7IGhlaWdodDogJzBweCcsIHZpc2liaWxpdHk6ICdoaWRkZW4nIH0pKSxcbiAgICAgIHN0YXRlKCduZXh0Jywgc3R5bGUoeyBoZWlnaHQ6ICcwcHgnLCB2aXNpYmlsaXR5OiAnaGlkZGVuJyB9KSksXG4gICAgICBzdGF0ZSgnY3VycmVudCcsIHN0eWxlKHsgaGVpZ2h0OiAnKicsIHZpc2liaWxpdHk6ICdpbmhlcml0JyB9KSksXG4gICAgICB0cmFuc2l0aW9uKFxuICAgICAgICAnKiA8PT4gY3VycmVudCcsXG4gICAgICAgIGFuaW1hdGUoJzUwMG1zIGN1YmljLWJlemllcigwLjQsIDAuMCwgMC4yLCAxKScpLFxuICAgICAgICB7fSxcbiAgICAgICksXG4gICAgXSksXG4gICAgdHJpZ2dlcignc3RlcFRyYW5zaXRpb25TaWRlQnlTaWRlJywgW1xuICAgICAgc3RhdGUoJ3ByZXZpb3VzJywgc3R5bGUoeyBvcGFjaXR5OiAnMCcgfSkpLFxuICAgICAgc3RhdGUoJ2N1cnJlbnQnLCBzdHlsZSh7IG9wYWNpdHk6ICcxMDAlJyB9KSksXG4gICAgICBzdGF0ZSgnbmV4dCcsIHN0eWxlKHsgb3BhY2l0eTogJzAnIH0pKSxcbiAgICAgIHRyYW5zaXRpb24oJyogPT4gKicsIGFuaW1hdGUoJzUwMG1zIGN1YmljLWJlemllcigwLjM1LCAwLCAwLjI1LCAxKScpKSxcbiAgICBdKSxcbiAgICB0cmlnZ2VyKCdzdGVwUHJvZ3Jlc3MnLCBbXG4gICAgICBzdGF0ZSgndm9pZCcsIHN0eWxlKHsgd2lkdGg6IDAgfSkpLFxuICAgICAgc3RhdGUoJ21heCcsIHN0eWxlKHsgd2lkdGg6ICcxMDAlJyB9KSksXG4gICAgICB0cmFuc2l0aW9uKCcqID0+IConLCBhbmltYXRlKCcuM3MgbGluZWFyJykpLFxuICAgIF0pLFxuICAgIHRyaWdnZXIoJ3N0ZXBQcm9ncmVzc1ZlcnRpY2FsJywgW1xuICAgICAgc3RhdGUoJ3ZvaWQnLCBzdHlsZSh7IGhlaWdodDogMCB9KSksXG4gICAgICBzdGF0ZSgnbWF4Jywgc3R5bGUoeyBoZWlnaHQ6ICcxMDAlJyB9KSksXG4gICAgICB0cmFuc2l0aW9uKCcqID0+IConLCBhbmltYXRlKCcuM3MgbGluZWFyJykpLFxuICAgIF0pLFxuICAgIHRyaWdnZXIoJ3N0ZXBQcm9ncmVzc1NpZGVCeVNpZGUnLCBbXG4gICAgICBzdGF0ZSgndm9pZCcsIHN0eWxlKHsgaGVpZ2h0OiAwIH0pKSxcbiAgICAgIHN0YXRlKCdtYXgnLCBzdHlsZSh7IGhlaWdodDogJzEwMCUnIH0pKSxcbiAgICAgIHRyYW5zaXRpb24oJyogPT4gKicsIGFuaW1hdGUoJy4zcyBsaW5lYXInKSksXG4gICAgXSksXG4gIF0sXG4gIHByb3ZpZGVyczogW3sgcHJvdmlkZTogQ2RrU3RlcHBlciwgdXNlRXhpc3Rpbmc6IFJkc1N0ZXBwZXJDb21wb25lbnQgfV0sXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBSZHNTdGVwcGVyQ29tcG9uZW50XG4gIGV4dGVuZHMgQ2RrU3RlcHBlclxuICBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXQsIEFmdGVyVmlld0luaXRcbntcbiAgcHJpdmF0ZSByZWFkb25seSBjZHIgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IHZpZXdwb3J0UnVsZXIgPSBpbmplY3QoVmlld3BvcnRSdWxlcik7XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcycpIGdldCBjbGFzcygpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgY2xhc3NMaXN0ID0gWydyZHMtc3RlcHBlciddO1xuXG4gICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgY2xhc3NMaXN0LnB1c2goJ3Jkcy1zdGVwcGVyLWhvcml6b250YWwnKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIGNsYXNzTGlzdC5wdXNoKCdyZHMtc3RlcHBlci12ZXJ0aWNhbCcpO1xuXG4gICAgICBpZiAodGhpcy5zaWRlQnlTaWRlKSB7XG4gICAgICAgIGNsYXNzTGlzdC5wdXNoKCdyZHMtc3RlcHBlci1zaWRlLWJ5LXNpZGUnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NMaXN0O1xuICB9XG4gIEBIb3N0QmluZGluZygnYXR0ci5yb2xlJykgcmVhZG9ubHkgaG9zdFJvbGUgPSAndGFibGlzdCc7XG5cbiAgLyoqIFRoZSBsaXN0IG9mIHN0ZXAgaGVhZGVycyBvZiB0aGUgc3RlcHMgaW4gdGhlIHN0ZXBwZXIuICovXG4gIEBWaWV3Q2hpbGRyZW4oUmRzU3RlcEhlYWRlckNvbXBvbmVudClcbiAgb3ZlcnJpZGUgX3N0ZXBIZWFkZXI6IFF1ZXJ5TGlzdDxSZHNTdGVwSGVhZGVyQ29tcG9uZW50PjtcblxuICAvKiogRnVsbCBsaXN0IG9mIHN0ZXBzIGluc2lkZSB0aGUgc3RlcHBlciwgaW5jbHVkaW5nIGluc2lkZSBuZXN0ZWQgc3RlcHBlcnMuICovXG4gIEBDb250ZW50Q2hpbGRyZW4oZm9yd2FyZFJlZigoKSA9PiBSZHNTdGVwQ29tcG9uZW50KSwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KVxuICBvdmVycmlkZSBfc3RlcHM6IFF1ZXJ5TGlzdDxSZHNTdGVwQ29tcG9uZW50PjtcblxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSkgc2lkZUJ5U2lkZSA9IGZhbHNlO1xuXG4gIC8qKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGN1cnJlbnQgc3RlcCBpcyBkb25lIHRyYW5zaXRpb25pbmcgaW4uICovXG4gIEBPdXRwdXQoKSByZWFkb25seSBhbmltYXRpb25Eb25lID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG4gIG92ZXJyaWRlIHJlYWRvbmx5IHN0ZXBzID0gbmV3IFF1ZXJ5TGlzdDxSZHNTdGVwQ29tcG9uZW50PigpOyAvLyBTdGVwcyB0aGF0IGJlbG9uZyB0byBjdXJyZW50IHN0ZXBwZXIsIGV4Y2x1ZGluZyBmcm9tIG5lc3RlZFxuXG4gIC8qKiBTdHJlYW0gb2YgYW5pbWF0aW9uIGBkb25lYCBldmVudHMgd2hlbiB0aGUgYm9keSBleHBhbmRzL2NvbGxhcHNlcy4gKi9cbiAgcmVhZG9ubHkgX2FuaW1hdGlvbkRvbmUgPSBuZXcgU3ViamVjdDxBbmltYXRpb25FdmVudD4oKTsgLy9cblxuICBfaG9yaXpvbnRhbExpbmVTdHlsZTogUGFydGlhbDxDU1NTdHlsZURlY2xhcmF0aW9uPiA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFxuICAgICAgaW5qZWN0KERpcmVjdGlvbmFsaXR5KSxcbiAgICAgIGluamVjdChDaGFuZ2VEZXRlY3RvclJlZiksXG4gICAgICBpbmplY3QoRWxlbWVudFJlZiksXG4gICAgKTtcbiAgfVxuXG4gIG92ZXJyaWRlIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkIHtcbiAgICBzdXBlci5uZ0FmdGVyQ29udGVudEluaXQoKTtcblxuICAgIC8vIE1hcmsgdGhlIGNvbXBvbmVudCBmb3IgY2hhbmdlIGRldGVjdGlvbiB3aGVuZXZlciB0aGUgY29udGVudCBjaGlsZHJlbiBxdWVyeSBjaGFuZ2VzXG4gICAgdGhpcy5zdGVwcy5jaGFuZ2VzLnBpcGUodGFrZVVudGlsKHRoaXMuX2Rlc3Ryb3llZCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLl9zdGF0ZUNoYW5nZWQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2FuaW1hdGlvbkRvbmUucGlwZSh0YWtlVW50aWwodGhpcy5fZGVzdHJveWVkKSkuc3Vic2NyaWJlKChldmVudCkgPT4ge1xuICAgICAgaWYgKChldmVudC50b1N0YXRlIGFzIFN0ZXBDb250ZW50UG9zaXRpb25TdGF0ZSkgPT09ICdjdXJyZW50Jykge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkRvbmUuZW1pdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb3ZlcnJpZGUgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuXG4gICAgaWYgKHRoaXMuX3N0ZXBIZWFkZXIuZmlyc3QpIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUhvcml6b250YWxMaW5lU3R5bGUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMudmlld3BvcnRSdWxlclxuICAgICAgLmNoYW5nZSgpXG4gICAgICAucGlwZSh0YWtlVW50aWwodGhpcy5fZGVzdHJveWVkKSlcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5jYWxjdWxhdGVIb3Jpem9udGFsTGluZVN0eWxlKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVIb3Jpem9udGFsTGluZVN0eWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IGhlYWRlclBhZGRpbmcgPSA4O1xuICAgIGNvbnN0IHN0ZXBwZXJHYXAgPSAzMjtcbiAgICBjb25zdCBvZmZzZXRXaWR0aCA9XG4gICAgICB0aGlzLl9zdGVwSGVhZGVyLmZpcnN0Py5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoIHx8IDA7XG4gICAgdGhpcy5faG9yaXpvbnRhbExpbmVTdHlsZS5taW5XaWR0aCA9IGBjYWxjKDEwMCUgKyAke29mZnNldFdpZHRofXB4KWA7XG4gICAgdGhpcy5faG9yaXpvbnRhbExpbmVTdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtcbiAgICAgIG9mZnNldFdpZHRoIC0gaGVhZGVyUGFkZGluZyAtIHN0ZXBwZXJHYXBcbiAgICB9cHgpYDtcbiAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cbn1cbiIsIjxuZy1jb250YWluZXI+XG4gIDxuZy1jb250YWluZXI+XG4gICAgPGRpdiBjbGFzcz1cInJkcy1zdGVwcGVyLWhlYWRlci1jb250YWluZXJcIj5cbiAgICAgIEBmb3IgKHN0ZXAgb2Ygc3RlcHM7IHRyYWNrIHN0ZXA7IGxldCBpID0gJGluZGV4OyBsZXQgaXNMYXN0ID0gJGxhc3QpIHtcbiAgICAgICAgQGlmIChvcmllbnRhdGlvbiAhPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInN0ZXBUZW1wbGF0ZVwiXG4gICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyBzdGVwOiBzdGVwLCBpOiBpIH1cIlxuICAgICAgICAgIC8+XG4gICAgICAgIH1cbiAgICAgICAgQGlmIChvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZHMtY29udGVudC13cmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntcbiAgICAgICAgICAgICAgICAncmRzLXN0ZXBwZXItdmVydGljYWwtbGluZS13cmFwcGVyJzogIWlzTGFzdCxcbiAgICAgICAgICAgICAgICAncmRzLXN0ZXBwZXItY29udGVudC1jb250YWluZXItdmVydGljYWwtc2VsZWN0ZWQnOlxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleCA9PT0gaVxuICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJkcy1zdGVwcGVyLXZlcnRpY2FsLWxpbmVcIj5cbiAgICAgICAgICAgICAgICBAaWYgKCFzaWRlQnlTaWRlKSB7XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicmRzLXN0ZXBwZXItdmVydGljYWwtbGluZS1wcm9ncmVzc1wiXG4gICAgICAgICAgICAgICAgICAgIFtAc3RlcFByb2dyZXNzVmVydGljYWxdPVwic2VsZWN0ZWRJbmRleCA+IGkgPyAnbWF4JyA6ICd2b2lkJ1wiXG4gICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicmRzLXN0ZXBwZXItdmVydGljYWwtbGluZS1wcm9ncmVzc1wiXG4gICAgICAgICAgICAgICAgICAgIFtAc3RlcFByb2dyZXNzU2lkZUJ5U2lkZV09XCJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEluZGV4ID4gaSA/ICdtYXgnIDogJ3ZvaWQnXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInN0ZXBUZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgc3RlcDogc3RlcCwgaTogaSB9XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgQGlmICghc2lkZUJ5U2lkZSkge1xuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwicmRzLXN0ZXBwZXItY29udGVudC1jb250YWluZXIgcmRzLXN0ZXBwZXItY29udGVudC1jb250YWluZXItdmVydGljYWxcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cInRhYnBhbmVsXCJcbiAgICAgICAgICAgICAgICAgICAgQ2xhc3M9XCJyZHMtc3RlcHBlci1jb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgW0BzdGVwVHJhbnNpdGlvblZlcnRpY2FsXT1cIl9nZXRBbmltYXRpb25EaXJlY3Rpb24oaSlcIlxuICAgICAgICAgICAgICAgICAgICAoQHN0ZXBUcmFuc2l0aW9uVmVydGljYWwuZG9uZSk9XCJfYW5pbWF0aW9uRG9uZS5uZXh0KCRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICBbaWRdPVwiX2dldFN0ZXBDb250ZW50SWQoaSlcIlxuICAgICAgICAgICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsbGVkYnldPVwiX2dldFN0ZXBMYWJlbElkKGkpXCJcbiAgICAgICAgICAgICAgICAgICAgW2F0dHIuYXJpYS1leHBhbmRlZF09XCJzZWxlY3RlZEluZGV4ID09PSBpXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBbbmdUZW1wbGF0ZU91dGxldF09XCJzdGVwLmNvbnRlbnRcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIEBpZiAoIWlzTGFzdCAmJiBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJkcy1zdGVwcGVyLWxpbmUtd3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzcz1cInJkcy1zdGVwcGVyLWxpbmVcIlxuICAgICAgICAgICAgICBbY2xhc3MucmRzLXN0ZXBwZXItbGluZS1zZWxlY3RlZC1lbGVtZW50LWFmdGVyXT1cIlxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5kZXggPiBpXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgIFtuZ1N0eWxlXT1cIl9ob3Jpem9udGFsTGluZVN0eWxlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzPVwicmRzLXN0ZXBwZXItbGluZS1wcm9ncmVzc1wiXG4gICAgICAgICAgICAgICAgW0BzdGVwUHJvZ3Jlc3NdPVwic2VsZWN0ZWRJbmRleCA+IGkgPyAnbWF4JyA6ICd2b2lkJ1wiXG4gICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICB9XG4gICAgPC9kaXY+XG5cbiAgICBAaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnICYmIHNpZGVCeVNpZGUpIHtcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJyZHMtc3RlcHBlci1jb250ZW50LWNvbnRhaW5lciByZHMtc3RlcHBlci1jb250ZW50LWNvbnRhaW5lci1ob3Jpem9udGFsXCJcbiAgICAgID5cbiAgICAgICAgQGZvciAoc3RlcCBvZiBzdGVwczsgdHJhY2sgc3RlcDsgbGV0IGkgPSAkaW5kZXgpIHtcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICByb2xlPVwidGFicGFuZWxcIlxuICAgICAgICAgICAgY2xhc3M9XCJyZHMtc3RlcHBlci1jb250ZW50XCJcbiAgICAgICAgICAgIFtAc3RlcFRyYW5zaXRpb25TaWRlQnlTaWRlXT1cIl9nZXRBbmltYXRpb25EaXJlY3Rpb24oaSlcIlxuICAgICAgICAgICAgKEBzdGVwVHJhbnNpdGlvblNpZGVCeVNpZGUuZG9uZSk9XCJfYW5pbWF0aW9uRG9uZS5uZXh0KCRldmVudClcIlxuICAgICAgICAgICAgW2lkXT1cIl9nZXRTdGVwQ29udGVudElkKGkpXCJcbiAgICAgICAgICAgIFtuZ1N0eWxlXT1cIntcbiAgICAgICAgICAgICAgZGlzcGxheTogc2VsZWN0ZWRJbmRleCA9PT0gaSA/ICdpbmhlcml0JyA6ICdub25lJ1xuICAgICAgICAgICAgfVwiXG4gICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsbGVkYnldPVwiX2dldFN0ZXBMYWJlbElkKGkpXCJcbiAgICAgICAgICAgIFthdHRyLmFyaWEtZXhwYW5kZWRdPVwic2VsZWN0ZWRJbmRleCA9PT0gaVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBbbmdUZW1wbGF0ZU91dGxldF09XCJzdGVwLmNvbnRlbnRcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICB9XG4gICAgQGlmIChvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwicmRzLXN0ZXBwZXItY29udGVudC1jb250YWluZXIgcmRzLXN0ZXBwZXItY29udGVudC1jb250YWluZXItaG9yaXpvbnRhbFwiXG4gICAgICA+XG4gICAgICAgIEBmb3IgKHN0ZXAgb2Ygc3RlcHM7IHRyYWNrIHN0ZXA7IGxldCBpID0gJGluZGV4KSB7XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgcm9sZT1cInRhYnBhbmVsXCJcbiAgICAgICAgICAgIGNsYXNzPVwicmRzLXN0ZXBwZXItY29udGVudFwiXG4gICAgICAgICAgICBbQHN0ZXBUcmFuc2l0aW9uXT1cIl9nZXRBbmltYXRpb25EaXJlY3Rpb24oaSlcIlxuICAgICAgICAgICAgKEBzdGVwVHJhbnNpdGlvbi5kb25lKT1cIl9hbmltYXRpb25Eb25lLm5leHQoJGV2ZW50KVwiXG4gICAgICAgICAgICBbaWRdPVwiX2dldFN0ZXBDb250ZW50SWQoaSlcIlxuICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbGxlZGJ5XT1cIl9nZXRTdGVwTGFiZWxJZChpKVwiXG4gICAgICAgICAgICBbYXR0ci5hcmlhLWV4cGFuZGVkXT1cInNlbGVjdGVkSW5kZXggPT09IGlcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwic3RlcC5jb250ZW50XCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgfVxuICA8L25nLWNvbnRhaW5lcj5cbjwvbmctY29udGFpbmVyPlxuXG48IS0tIENvbW1vbiBzdGVwIHRlbXBsYXRpbmcgLS0+XG48bmctdGVtcGxhdGUgbGV0LXN0ZXA9XCJzdGVwXCIgbGV0LWk9XCJpXCIgI3N0ZXBUZW1wbGF0ZT5cbiAgPHJkcy1zdGVwLWhlYWRlclxuICAgIFtjbGFzcy5yZHMtc3RlcC1oZWFkZXItc2VsZWN0ZWQtZWxlbWVudC1hZnRlcl09XCJzZWxlY3RlZEluZGV4ID4gaVwiXG4gICAgKGNsaWNrKT1cInN0ZXAuc2VsZWN0KClcIlxuICAgIChrZXlkb3duKT1cIl9vbktleWRvd24oJGV2ZW50KVwiXG4gICAgW3RhYkluZGV4XT1cIl9nZXRGb2N1c0luZGV4KCkgPT09IGkgPyAwIDogLTFcIlxuICAgIFtpZF09XCJfZ2V0U3RlcExhYmVsSWQoaSlcIlxuICAgIFthdHRyLmFyaWEtcG9zaW5zZXRdPVwiaSArIDFcIlxuICAgIFthdHRyLmFyaWEtc2V0c2l6ZV09XCJzdGVwcy5sZW5ndGhcIlxuICAgIFthdHRyLmFyaWEtY29udHJvbHNdPVwiX2dldFN0ZXBDb250ZW50SWQoaSlcIlxuICAgIFthdHRyLmFyaWEtc2VsZWN0ZWRdPVwic2VsZWN0ZWRJbmRleCA9PT0gaVwiXG4gICAgW2F0dHIuYXJpYS1sYWJlbF09XCJzdGVwLmFyaWFMYWJlbCB8fCBudWxsXCJcbiAgICBbYXR0ci5hcmlhLWxhYmVsbGVkYnldPVwiXG4gICAgICAhc3RlcC5hcmlhTGFiZWwgJiYgc3RlcC5hcmlhTGFiZWxsZWRieSA/IHN0ZXAuYXJpYUxhYmVsbGVkYnkgOiBudWxsXG4gICAgXCJcbiAgICBbaW5kZXhdPVwiaVwiXG4gICAgW3N0YXRlXT1cIl9nZXRJbmRpY2F0b3JUeXBlKGksIHN0ZXAuc3RhdGUpXCJcbiAgICBbbGFiZWxdPVwic3RlcC5zdGVwTGFiZWwgfHwgc3RlcC5sYWJlbFwiXG4gICAgW3NlbGVjdGVkXT1cInNlbGVjdGVkSW5kZXggPT09IGlcIlxuICAgIFthY3RpdmVdPVwic3RlcC5jb21wbGV0ZWQgfHwgc2VsZWN0ZWRJbmRleCA9PT0gaSB8fCAhbGluZWFyXCJcbiAgICBbb3B0aW9uYWxdPVwic3RlcC5vcHRpb25hbFwiXG4gICAgW3NpZGVCeVNpZGVdPVwic2lkZUJ5U2lkZVwiXG4gICAgW29yaWVudGF0aW9uXT1cIm9yaWVudGF0aW9uXCJcbiAgLz5cbjwvbmctdGVtcGxhdGU+XG4iXX0=