import { CdkStepHeader, } from '@angular/cdk/stepper';
import { booleanAttribute, ChangeDetectionStrategy, ChangeDetectorRef, Component, DestroyRef, ElementRef, HostBinding, HostListener, inject, Input, NgZone, ViewEncapsulation, } from '@angular/core';
import { FocusMonitor } from '@angular/cdk/a11y';
import { RdsStepLabelDirective } from './step-label.directive';
import { animate, state, style, transition, trigger, } from '@angular/animations';
import { BehaviorSubject, fromEvent } from 'rxjs';
import { BreakpointUtil } from '../utils';
import { takeUntilDestroyed } from '@angular/core/rxjs-interop';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class RdsStepHeaderComponent extends CdkStepHeader {
    get hostClass() {
        const classes = ['rds-step-header'];
        if (this.orientation === 'horizontal') {
            classes.push('rds-step-header-horizontal');
        }
        else if (this.orientation === 'vertical') {
            classes.push('rds-step-header-vertical');
            if (this.sideBySide) {
                classes.push('rds-step-header-side-by-side');
            }
        }
        if (this.state === 'edit') {
            classes.push('rds-step-header-edit');
        }
        return [...classes];
    }
    constructor() {
        super(inject(ElementRef));
        this._elementRef = inject(ElementRef);
        this.destroyRef = inject(DestroyRef);
        this.focusMonitor = inject(FocusMonitor);
        this.cdr = inject(ChangeDetectorRef);
        this.ngZone = inject(NgZone);
        this.hostRole = 'tab';
        this.sideBySide = false;
        /** Label of the given step. */
        this.label = '';
        /** Index of the given step. */
        this.index = 0;
        /** Whether the given step is selected. */
        this.selected = false;
        /** Whether the given step label is active. */
        this.active = false;
        /** Whether the given step is optional. */
        this.optional = false;
        this._animationState = 'default';
        this._mouseevent$ = new BehaviorSubject(null);
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
            fromEvent(window, 'resize')
                .pipe(takeUntilDestroyed(this.destroyRef))
                .subscribe(() => this.ngZone.run(() => this.cdr.markForCheck()));
        });
    }
    ngAfterViewInit() {
        this.focusMonitor.monitor(this._elementRef, true);
    }
    ngOnChanges(changes) {
        if (changes['selected']) {
            if (changes['selected'].currentValue) {
                if (this._mouseevent$.getValue() !== 'mouseenter') {
                    this._animationState = 'hovered';
                }
            }
            else {
                this._animationState = 'default';
            }
        }
    }
    ngOnDestroy() {
        this.focusMonitor.stopMonitoring(this._elementRef);
        this._mouseevent$.complete();
    }
    onClick() {
        this._animationState = 'void';
        this.cdr.detectChanges();
    }
    onMouseenter() {
        this._animationState = 'hovered';
        this._mouseevent$.next('mouseenter');
    }
    onMouseleave() {
        if (!this.selected) {
            this._animationState = 'default';
        }
        this._mouseevent$.next('mouseleave');
    }
    onAnimationDone() {
        if (this._animationState === 'void') {
            this._animationState = 'hovered';
        }
    }
    focus(origin, options) {
        if (origin) {
            this.focusMonitor.focusVia(this._elementRef, origin, options);
        }
        else {
            this._elementRef.nativeElement.focus(options);
        }
    }
    getStepMobileNumber(stepNumber) {
        return typeof this.stepNumberMobileFunc === 'function'
            ? this.stepNumberMobileFunc(stepNumber)
            : this._getDefaultStepMobileNumber(stepNumber);
    }
    isMobile() {
        return BreakpointUtil.isMobile();
    }
    _stringLabel() {
        return this.label instanceof RdsStepLabelDirective ? null : this.label;
    }
    _templateLabel() {
        return this.label instanceof RdsStepLabelDirective ? this.label : null;
    }
    _getDefaultStepMobileNumber(stepNumber) {
        return `STEP ${stepNumber}`;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsStepHeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.1", type: RdsStepHeaderComponent, selector: "rds-step-header", inputs: { orientation: "orientation", sideBySide: ["sideBySide", "sideBySide", booleanAttribute], state: "state", label: "label", index: "index", selected: ["selected", "selected", booleanAttribute], active: ["active", "active", booleanAttribute], optional: ["optional", "optional", booleanAttribute], stepNumberMobileFunc: "stepNumberMobileFunc" }, host: { listeners: { "click": "onClick()", "mouseenter": "onMouseenter()", "mouseleave": "onMouseleave()" }, properties: { "attr.role": "this.hostRole", "class": "this.hostClass", "class.rds-step-header-selected": "this.selected" } }, usesInheritance: true, usesOnChanges: true, ngImport: i0, template: `
    <div
      class="rds-step-icon-state-{{ state }} rds-step-icon"
      [class.rds-step-icon-selected]="selected"
      [class.rds-step-icon__hovered]="_animationState === 'hovered'"
    >
      <div
        class="rds-step-icon-focus-element"
        [@stepHover]="_animationState"
        (@stepHover.done)="onAnimationDone()"
      ></div>
      <div class="rds-step-icon-content">
        <span>{{ index + 1 }}</span>
      </div>
    </div>
    <div
      class="rds-step-label"
      [class.rds-step-label-active]="active"
      [class.rds-step-label-selected]="selected"
      [class.rds-step-label-error]="state === 'error'"
    >
      @if (isMobile()) {
        <div class="rds-step-number">
          {{ getStepMobileNumber(index + 1) }}
        </div>
      }
      @if (_templateLabel()) {
        <div class="rds-step-text-label">
          <ng-container [ngTemplateOutlet]="_templateLabel()!.template" />
        </div>
      }
      @if (_stringLabel()) {
        <div class="rds-step-text-label">{{ label }}</div>
      }
    </div>
  `, isInline: true, styles: [".rds-step-header{position:relative;outline:none;display:flex;cursor:pointer}@media (max-width: 767.999999px){.rds-step-header{padding:0;margin-top:12px;border-radius:50%}.rds-step-header.rds-step-header-selected{outline:2px solid var(--rds-color-bg-informative);outline-offset:3px}}.rds-step-header .rds-step-label{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:hidden;transition:font-weight .2s cubic-bezier(.35,0,.25,1),color .2s cubic-bezier(.35,0,.25,1),background .2s cubic-bezier(.35,0,.25,1);display:inline-block;min-width:150px;white-space:nowrap;text-align:left;text-overflow:ellipsis;vertical-align:middle;color:var(--rds-color-low-contrast)}@media (max-width: 767.999999px){.rds-step-header .rds-step-label{display:none}.rds-step-header .rds-step-label.rds-step-label-selected{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;display:block}}.rds-step-header .rds-step-label.rds-step-label-selected{font-size:16px;font-weight:400;line-height:24px;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-low-contrast);text-transform:none;left:50%;display:block}.rds-step-header .rds-step-label .rds-step-number{font-size:14px;font-weight:400;line-height:20px;text-transform:uppercase;letter-spacing:1px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-low-contrast);background-color:transparent}@media (max-width: 767.999999px){.rds-step-header .rds-step-label .rds-step-number{padding-top:12px}}.rds-step-header .rds-step-icon{position:relative;z-index:10;flex-shrink:0;border-radius:50%;width:32px;height:32px;transition:font-weight .2s cubic-bezier(.35,0,.25,1),color .2s cubic-bezier(.35,0,.25,1),background .2s cubic-bezier(.35,0,.25,1)}.rds-step-header .rds-step-icon .rds-step-icon-focus-element{top:0;left:0;width:32px;height:32px;position:relative;border:2px solid transparent;border-radius:50%;background:transparent}@media (max-width: 767.999999px){.rds-step-header .rds-step-icon .rds-step-icon-focus-element{display:none}}.rds-step-header .rds-step-icon .rds-step-icon-focus-element{border-color:var(--rds-color-grey-1);background-color:var(--rds-color-bg-base-1)}.rds-step-header .rds-step-icon .rds-step-icon-content{background-color:var(--rds-color-grey-1);color:var(--rds-color-on-dark-surface)}.rds-step-header .rds-step-icon .rds-step-icon__hovered .rds-step-icon-focus-element{border-color:var(--rds-color-bg-informative-hover);background-color:var(--rds-color-bg-base-1)}.rds-step-header .rds-step-icon .rds-step-icon__hovered .rds-step-icon-content{background-color:var(--rds-color-bg-informative);color:var(--rds-color-on-dark-surface)}.rds-step-header .rds-step-icon .rds-step-icon-content{background:var(--rds-color-grey-1);width:100%;height:100%;display:flex;align-items:center;justify-content:center;border-radius:50%;color:var(--rds-color-low-contrast);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media (max-width: 767.999999px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:14px;font-weight:400;line-height:20px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (min-width: 768px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (min-width: 1024px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (min-width: 1440px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (min-width: 1672px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (max-width: 767.999999px){.rds-step-header .rds-step-icon .rds-step-icon-content{display:none}}.rds-step-header .rds-step-icon.rds-step-icon-selected .rds-step-icon-focus-element{border-color:var(--rds-color-bg-informative);background-color:var(--rds-color-bg-base-1)}.rds-step-header .rds-step-icon.rds-step-icon-selected .rds-step-icon-content{background-color:var(--rds-color-bg-informative);color:var(--rds-color-on-dark-surface)}@media (max-width: 767.999999px){.rds-step-header .rds-step-icon{width:8px;height:8px;background-color:var(--rds-color-grey-1)}.rds-step-header .rds-step-icon.rds-step-icon-selected,.rds-step-header .rds-step-icon.rds-step-header-selected-element-after{background-color:var(--rds-color-bg-informative)}}.rds-step-header.rds-step-header-selected-element-after .rds-step-icon:not(rds-step-icon-selected) .rds-step-icon-focus-element{border-color:var(--rds-color-bg-informative);background-color:var(--rds-color-bg-base-1)}.rds-step-header.rds-step-header-selected-element-after .rds-step-icon:not(rds-step-icon-selected) .rds-step-icon-content{background-color:var(--rds-color-bg-informative);color:var(--rds-color-on-dark-surface)}.rds-step-header.rds-step-header-selected-element-after .rds-step-icon:not(rds-step-icon-selected).rds-step-icon__hovered .rds-step-icon-focus-element{border-color:var(--rds-color-bg-informative-hover);background-color:var(--rds-color-bg-base-1)}.rds-step-header.rds-step-header-selected-element-after .rds-step-icon:not(rds-step-icon-selected).rds-step-icon__hovered .rds-step-icon-content{background-color:var(--rds-color-bg-informative-hover);color:var(--rds-color-on-dark-surface)}@media (max-width: 767.999999px){.rds-step-header.rds-step-header-selected-element-after .rds-step-icon{background-color:var(--rds-color-bg-informative)}}.rds-step-header:hover .rds-step-label{color:var(--rds-color-low-contrast)}.rds-step-header-horizontal{align-items:flex-start;flex-direction:column;overflow:hidden;padding:12px 0 0 8px}@media (max-width: 767.999999px){.rds-step-header-horizontal{position:initial;padding:0;margin-top:12px;border-radius:50%}}.rds-step-header-horizontal .rds-step-label{padding-top:12px}@media (max-width: 767.999999px){.rds-step-header-horizontal .rds-step-label{display:none}.rds-step-header-horizontal .rds-step-label.rds-step-label-selected{padding-left:20px;position:absolute;bottom:0;transform:translate(-50%);padding-top:16px}}.rds-step-header-vertical{flex-direction:row;padding:24px 0 24px 8px;background-color:transparent;max-width:250px}@media (max-width: 767.999999px){.rds-step-header-vertical{padding:0;margin-top:12px;border-radius:50%}.rds-step-header-vertical.rds-step-header-selected{outline:2px solid var(--rds-color-bg-informative);outline-offset:3px}}.rds-step-header-vertical .rds-step-label{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:pre-wrap;padding-left:12px;margin-top:7px}@media (max-width: 767.999999px){.rds-step-header-vertical .rds-step-label{display:none;width:67vw}.rds-step-header-vertical .rds-step-label.rds-step-label-selected{font-size:16px;font-weight:400;line-height:24px;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;text-transform:none;left:50%;padding-left:20px}}.rds-step-header-vertical .rds-step-label.rds-step-label-selected{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-low-contrast)}.rds-step-header-vertical .rds-step-label .rds-step-number{font-size:14px;font-weight:400;line-height:20px;text-transform:uppercase;letter-spacing:1px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-low-contrast);background-color:transparent}@media (max-width: 767.999999px){.rds-step-header-vertical .rds-step-label .rds-step-number{padding-top:12px}}.rds-step-text-label{overflow:hidden;text-overflow:ellipsis}\n"], dependencies: [{ kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }], animations: [
            trigger('stepHover', [
                state('void', style({ top: '0px', left: '0px', width: '32px', height: '32px' })),
                state('default', style({ top: '0px', left: '0px', width: '32px', height: '32px' })),
                state('hovered', style({ top: '-7px', left: '-7px', width: '46px', height: '46px' })),
                transition('default => hovered', animate('.3s ease-in')),
                transition('hovered => default', animate('.2s ease-out')),
                transition('* => void', animate('.1s ease-out')),
                transition('void => hovered', animate('.15s ease-in')),
            ]),
        ], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsStepHeaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'rds-step-header', template: `
    <div
      class="rds-step-icon-state-{{ state }} rds-step-icon"
      [class.rds-step-icon-selected]="selected"
      [class.rds-step-icon__hovered]="_animationState === 'hovered'"
    >
      <div
        class="rds-step-icon-focus-element"
        [@stepHover]="_animationState"
        (@stepHover.done)="onAnimationDone()"
      ></div>
      <div class="rds-step-icon-content">
        <span>{{ index + 1 }}</span>
      </div>
    </div>
    <div
      class="rds-step-label"
      [class.rds-step-label-active]="active"
      [class.rds-step-label-selected]="selected"
      [class.rds-step-label-error]="state === 'error'"
    >
      @if (isMobile()) {
        <div class="rds-step-number">
          {{ getStepMobileNumber(index + 1) }}
        </div>
      }
      @if (_templateLabel()) {
        <div class="rds-step-text-label">
          <ng-container [ngTemplateOutlet]="_templateLabel()!.template" />
        </div>
      }
      @if (_stringLabel()) {
        <div class="rds-step-text-label">{{ label }}</div>
      }
    </div>
  `, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, animations: [
                        trigger('stepHover', [
                            state('void', style({ top: '0px', left: '0px', width: '32px', height: '32px' })),
                            state('default', style({ top: '0px', left: '0px', width: '32px', height: '32px' })),
                            state('hovered', style({ top: '-7px', left: '-7px', width: '46px', height: '46px' })),
                            transition('default => hovered', animate('.3s ease-in')),
                            transition('hovered => default', animate('.2s ease-out')),
                            transition('* => void', animate('.1s ease-out')),
                            transition('void => hovered', animate('.15s ease-in')),
                        ]),
                    ], styles: [".rds-step-header{position:relative;outline:none;display:flex;cursor:pointer}@media (max-width: 767.999999px){.rds-step-header{padding:0;margin-top:12px;border-radius:50%}.rds-step-header.rds-step-header-selected{outline:2px solid var(--rds-color-bg-informative);outline-offset:3px}}.rds-step-header .rds-step-label{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:hidden;transition:font-weight .2s cubic-bezier(.35,0,.25,1),color .2s cubic-bezier(.35,0,.25,1),background .2s cubic-bezier(.35,0,.25,1);display:inline-block;min-width:150px;white-space:nowrap;text-align:left;text-overflow:ellipsis;vertical-align:middle;color:var(--rds-color-low-contrast)}@media (max-width: 767.999999px){.rds-step-header .rds-step-label{display:none}.rds-step-header .rds-step-label.rds-step-label-selected{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;display:block}}.rds-step-header .rds-step-label.rds-step-label-selected{font-size:16px;font-weight:400;line-height:24px;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-low-contrast);text-transform:none;left:50%;display:block}.rds-step-header .rds-step-label .rds-step-number{font-size:14px;font-weight:400;line-height:20px;text-transform:uppercase;letter-spacing:1px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-low-contrast);background-color:transparent}@media (max-width: 767.999999px){.rds-step-header .rds-step-label .rds-step-number{padding-top:12px}}.rds-step-header .rds-step-icon{position:relative;z-index:10;flex-shrink:0;border-radius:50%;width:32px;height:32px;transition:font-weight .2s cubic-bezier(.35,0,.25,1),color .2s cubic-bezier(.35,0,.25,1),background .2s cubic-bezier(.35,0,.25,1)}.rds-step-header .rds-step-icon .rds-step-icon-focus-element{top:0;left:0;width:32px;height:32px;position:relative;border:2px solid transparent;border-radius:50%;background:transparent}@media (max-width: 767.999999px){.rds-step-header .rds-step-icon .rds-step-icon-focus-element{display:none}}.rds-step-header .rds-step-icon .rds-step-icon-focus-element{border-color:var(--rds-color-grey-1);background-color:var(--rds-color-bg-base-1)}.rds-step-header .rds-step-icon .rds-step-icon-content{background-color:var(--rds-color-grey-1);color:var(--rds-color-on-dark-surface)}.rds-step-header .rds-step-icon .rds-step-icon__hovered .rds-step-icon-focus-element{border-color:var(--rds-color-bg-informative-hover);background-color:var(--rds-color-bg-base-1)}.rds-step-header .rds-step-icon .rds-step-icon__hovered .rds-step-icon-content{background-color:var(--rds-color-bg-informative);color:var(--rds-color-on-dark-surface)}.rds-step-header .rds-step-icon .rds-step-icon-content{background:var(--rds-color-grey-1);width:100%;height:100%;display:flex;align-items:center;justify-content:center;border-radius:50%;color:var(--rds-color-low-contrast);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media (max-width: 767.999999px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:14px;font-weight:400;line-height:20px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (min-width: 768px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (min-width: 1024px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (min-width: 1440px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (min-width: 1672px){.rds-step-header .rds-step-icon .rds-step-icon-content{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media (max-width: 767.999999px){.rds-step-header .rds-step-icon .rds-step-icon-content{display:none}}.rds-step-header .rds-step-icon.rds-step-icon-selected .rds-step-icon-focus-element{border-color:var(--rds-color-bg-informative);background-color:var(--rds-color-bg-base-1)}.rds-step-header .rds-step-icon.rds-step-icon-selected .rds-step-icon-content{background-color:var(--rds-color-bg-informative);color:var(--rds-color-on-dark-surface)}@media (max-width: 767.999999px){.rds-step-header .rds-step-icon{width:8px;height:8px;background-color:var(--rds-color-grey-1)}.rds-step-header .rds-step-icon.rds-step-icon-selected,.rds-step-header .rds-step-icon.rds-step-header-selected-element-after{background-color:var(--rds-color-bg-informative)}}.rds-step-header.rds-step-header-selected-element-after .rds-step-icon:not(rds-step-icon-selected) .rds-step-icon-focus-element{border-color:var(--rds-color-bg-informative);background-color:var(--rds-color-bg-base-1)}.rds-step-header.rds-step-header-selected-element-after .rds-step-icon:not(rds-step-icon-selected) .rds-step-icon-content{background-color:var(--rds-color-bg-informative);color:var(--rds-color-on-dark-surface)}.rds-step-header.rds-step-header-selected-element-after .rds-step-icon:not(rds-step-icon-selected).rds-step-icon__hovered .rds-step-icon-focus-element{border-color:var(--rds-color-bg-informative-hover);background-color:var(--rds-color-bg-base-1)}.rds-step-header.rds-step-header-selected-element-after .rds-step-icon:not(rds-step-icon-selected).rds-step-icon__hovered .rds-step-icon-content{background-color:var(--rds-color-bg-informative-hover);color:var(--rds-color-on-dark-surface)}@media (max-width: 767.999999px){.rds-step-header.rds-step-header-selected-element-after .rds-step-icon{background-color:var(--rds-color-bg-informative)}}.rds-step-header:hover .rds-step-label{color:var(--rds-color-low-contrast)}.rds-step-header-horizontal{align-items:flex-start;flex-direction:column;overflow:hidden;padding:12px 0 0 8px}@media (max-width: 767.999999px){.rds-step-header-horizontal{position:initial;padding:0;margin-top:12px;border-radius:50%}}.rds-step-header-horizontal .rds-step-label{padding-top:12px}@media (max-width: 767.999999px){.rds-step-header-horizontal .rds-step-label{display:none}.rds-step-header-horizontal .rds-step-label.rds-step-label-selected{padding-left:20px;position:absolute;bottom:0;transform:translate(-50%);padding-top:16px}}.rds-step-header-vertical{flex-direction:row;padding:24px 0 24px 8px;background-color:transparent;max-width:250px}@media (max-width: 767.999999px){.rds-step-header-vertical{padding:0;margin-top:12px;border-radius:50%}.rds-step-header-vertical.rds-step-header-selected{outline:2px solid var(--rds-color-bg-informative);outline-offset:3px}}.rds-step-header-vertical .rds-step-label{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;white-space:pre-wrap;padding-left:12px;margin-top:7px}@media (max-width: 767.999999px){.rds-step-header-vertical .rds-step-label{display:none;width:67vw}.rds-step-header-vertical .rds-step-label.rds-step-label-selected{font-size:16px;font-weight:400;line-height:24px;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;text-transform:none;left:50%;padding-left:20px}}.rds-step-header-vertical .rds-step-label.rds-step-label-selected{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-low-contrast)}.rds-step-header-vertical .rds-step-label .rds-step-number{font-size:14px;font-weight:400;line-height:20px;text-transform:uppercase;letter-spacing:1px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-low-contrast);background-color:transparent}@media (max-width: 767.999999px){.rds-step-header-vertical .rds-step-label .rds-step-number{padding-top:12px}}.rds-step-text-label{overflow:hidden;text-overflow:ellipsis}\n"] }]
        }], ctorParameters: () => [], propDecorators: { hostRole: [{
                type: HostBinding,
                args: ['attr.role']
            }], hostClass: [{
                type: HostBinding,
                args: ['class']
            }], orientation: [{
                type: Input
            }], sideBySide: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], state: [{
                type: Input
            }], label: [{
                type: Input
            }], index: [{
                type: Input
            }], selected: [{
                type: HostBinding,
                args: ['class.rds-step-header-selected']
            }, {
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], active: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], optional: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], stepNumberMobileFunc: [{
                type: Input
            }], onClick: [{
                type: HostListener,
                args: ['click']
            }], onMouseenter: [{
                type: HostListener,
                args: ['mouseenter']
            }], onMouseleave: [{
                type: HostListener,
                args: ['mouseleave']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RlcC1oZWFkZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hbmd1bGFyLWNvbXBvbmVudHMvc3JjL2xpYi9zdGVwcGVyL3N0ZXAtaGVhZGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsYUFBYSxHQUdkLE1BQU0sc0JBQXNCLENBQUM7QUFDOUIsT0FBTyxFQUVMLGdCQUFnQixFQUNoQix1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsVUFBVSxFQUNWLFdBQVcsRUFDWCxZQUFZLEVBQ1osTUFBTSxFQUNOLEtBQUssRUFDTCxNQUFNLEVBS04saUJBQWlCLEdBQ2xCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxZQUFZLEVBQWUsTUFBTSxtQkFBbUIsQ0FBQztBQUM5RCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUMvRCxPQUFPLEVBQ0wsT0FBTyxFQUNQLEtBQUssRUFDTCxLQUFLLEVBQ0wsVUFBVSxFQUNWLE9BQU8sR0FDUixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ2xELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDMUMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sNEJBQTRCLENBQUM7OztBQWdFaEUsTUFBTSxPQUFPLHNCQUNYLFNBQVEsYUFBYTtJQVdyQixJQUEwQixTQUFTO1FBQ2pDLE1BQU0sT0FBTyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUVwQyxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssWUFBWSxFQUFFLENBQUM7WUFDdEMsT0FBTyxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1FBQzdDLENBQUM7YUFBTSxJQUFJ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VSxDQUFDLGlCQUFpQixFQUFFLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQzt5QkFDdkQsQ0FBQztxQkFDSDt3REFZeUIsUUFBUTtzQkFBakMsV0FBVzt1QkFBQyxXQUFXO2dCQUVFLFNBQVM7c0JBQWxDLFdBQVc7dUJBQUMsT0FBTztnQkFvQlgsV0FBVztzQkFBbkIsS0FBSztnQkFFa0MsVUFBVTtzQkFBakQsS0FBSzt1QkFBQyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtnQkFHN0IsS0FBSztzQkFBYixLQUFLO2dCQUdHLEtBQUs7c0JBQWIsS0FBSztnQkFHRyxLQUFLO3NCQUFiLEtBQUs7Z0JBS04sUUFBUTtzQkFGUCxXQUFXO3VCQUFDLGdDQUFnQzs7c0JBQzVDLEtBQUs7dUJBQUMsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUU7Z0JBSUUsTUFBTTtzQkFBN0MsS0FBSzt1QkFBQyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtnQkFHRSxRQUFRO3NCQUEvQyxLQUFLO3VCQUFDLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFO2dCQUU3QixvQkFBb0I7c0JBQTVCLEtBQUs7Z0JBeUNOLE9BQU87c0JBRE4sWUFBWTt1QkFBQyxPQUFPO2dCQU9yQixZQUFZO3NCQURYLFlBQVk7dUJBQUMsWUFBWTtnQkFPMUIsWUFBWTtzQkFEWCxZQUFZO3VCQUFDLFlBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDZGtTdGVwSGVhZGVyLFxuICBTdGVwcGVyT3JpZW50YXRpb24sXG4gIFN0ZXBTdGF0ZSxcbn0gZnJvbSAnQGFuZ3VsYXIvY2RrL3N0ZXBwZXInO1xuaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgYm9vbGVhbkF0dHJpYnV0ZSxcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIERlc3Ryb3lSZWYsXG4gIEVsZW1lbnRSZWYsXG4gIEhvc3RCaW5kaW5nLFxuICBIb3N0TGlzdGVuZXIsXG4gIGluamVjdCxcbiAgSW5wdXQsXG4gIE5nWm9uZSxcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgVmlld0VuY2Fwc3VsYXRpb24sXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9jdXNNb25pdG9yLCBGb2N1c09yaWdpbiB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9hMTF5JztcbmltcG9ydCB7IFJkc1N0ZXBMYWJlbERpcmVjdGl2ZSB9IGZyb20gJy4vc3RlcC1sYWJlbC5kaXJlY3RpdmUnO1xuaW1wb3J0IHtcbiAgYW5pbWF0ZSxcbiAgc3RhdGUsXG4gIHN0eWxlLFxuICB0cmFuc2l0aW9uLFxuICB0cmlnZ2VyLFxufSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBCcmVha3BvaW50VXRpbCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IHRha2VVbnRpbERlc3Ryb3llZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvcnhqcy1pbnRlcm9wJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncmRzLXN0ZXAtaGVhZGVyJyxcbiAgdGVtcGxhdGU6IGBcbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cInJkcy1zdGVwLWljb24tc3RhdGUte3sgc3RhdGUgfX0gcmRzLXN0ZXAtaWNvblwiXG4gICAgICBbY2xhc3MucmRzLXN0ZXAtaWNvbi1zZWxlY3RlZF09XCJzZWxlY3RlZFwiXG4gICAgICBbY2xhc3MucmRzLXN0ZXAtaWNvbl9faG92ZXJlZF09XCJfYW5pbWF0aW9uU3RhdGUgPT09ICdob3ZlcmVkJ1wiXG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cInJkcy1zdGVwLWljb24tZm9jdXMtZWxlbWVudFwiXG4gICAgICAgIFtAc3RlcEhvdmVyXT1cIl9hbmltYXRpb25TdGF0ZVwiXG4gICAgICAgIChAc3RlcEhvdmVyLmRvbmUpPVwib25BbmltYXRpb25Eb25lKClcIlxuICAgICAgPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInJkcy1zdGVwLWljb24tY29udGVudFwiPlxuICAgICAgICA8c3Bhbj57eyBpbmRleCArIDEgfX08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cInJkcy1zdGVwLWxhYmVsXCJcbiAgICAgIFtjbGFzcy5yZHMtc3RlcC1sYWJlbC1hY3RpdmVdPVwiYWN0aXZlXCJcbiAgICAgIFtjbGFzcy5yZHMtc3RlcC1sYWJlbC1zZWxlY3RlZF09XCJzZWxlY3RlZFwiXG4gICAgICBbY2xhc3MucmRzLXN0ZXAtbGFiZWwtZXJyb3JdPVwic3RhdGUgPT09ICdlcnJvcidcIlxuICAgID5cbiAgICAgIEBpZiAoaXNNb2JpbGUoKSkge1xuICAgICAgICA8ZGl2IGNsYXNzPVwicmRzLXN0ZXAtbnVtYmVyXCI+XG4gICAgICAgICAge3sgZ2V0U3RlcE1vYmlsZU51bWJlcihpbmRleCArIDEpIH19XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgICAgQGlmIChfdGVtcGxhdGVMYWJlbCgpKSB7XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZHMtc3RlcC10ZXh0LWxhYmVsXCI+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciBbbmdUZW1wbGF0ZU91dGxldF09XCJfdGVtcGxhdGVMYWJlbCgpIS50ZW1wbGF0ZVwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgICAgQGlmIChfc3RyaW5nTGFiZWwoKSkge1xuICAgICAgICA8ZGl2IGNsYXNzPVwicmRzLXN0ZXAtdGV4dC1sYWJlbFwiPnt7IGxhYmVsIH19PC9kaXY+XG4gICAgICB9XG4gICAgPC9kaXY+XG4gIGAsXG4gIHN0eWxlVXJsczogWydzdGVwLWhlYWRlci5jb21wb25lbnQuc2NzcyddLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgYW5pbWF0aW9uczogW1xuICAgIHRyaWdnZXIoJ3N0ZXBIb3ZlcicsIFtcbiAgICAgIHN0YXRlKFxuICAgICAgICAndm9pZCcsXG4gICAgICAgIHN0eWxlKHsgdG9wOiAnMHB4JywgbGVmdDogJzBweCcsIHdpZHRoOiAnMzJweCcsIGhlaWdodDogJzMycHgnIH0pLFxuICAgICAgKSxcbiAgICAgIHN0YXRlKFxuICAgICAgICAnZGVmYXVsdCcsXG4gICAgICAgIHN0eWxlKHsgdG9wOiAnMHB4JywgbGVmdDogJzBweCcsIHdpZHRoOiAnMzJweCcsIGhlaWdodDogJzMycHgnIH0pLFxuICAgICAgKSxcbiAgICAgIHN0YXRlKFxuICAgICAgICAnaG92ZXJlZCcsXG4gICAgICAgIHN0eWxlKHsgdG9wOiAnLTdweCcsIGxlZnQ6ICctN3B4Jywgd2lkdGg6ICc0NnB4JywgaGVpZ2h0OiAnNDZweCcgfSksXG4gICAgICApLFxuICAgICAgdHJhbnNpdGlvbignZGVmYXVsdCA9PiBob3ZlcmVkJywgYW5pbWF0ZSgnLjNzIGVhc2UtaW4nKSksXG4gICAgICB0cmFuc2l0aW9uKCdob3ZlcmVkID0+IGRlZmF1bHQnLCBhbmltYXRlKCcuMnMgZWFzZS1vdXQnKSksXG4gICAgICB0cmFuc2l0aW9uKCcqID0+IHZvaWQnLCBhbmltYXRlKCcuMXMgZWFzZS1vdXQnKSksXG4gICAgICB0cmFuc2l0aW9uKCd2b2lkID0+IGhvdmVyZWQnLCBhbmltYXRlKCcuMTVzIGVhc2UtaW4nKSksXG4gICAgXSksXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIFJkc1N0ZXBIZWFkZXJDb21wb25lbnRcbiAgZXh0ZW5kcyBDZGtTdGVwSGVhZGVyXG4gIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIE9uSW5pdFxue1xuICBvdmVycmlkZSByZWFkb25seSBfZWxlbWVudFJlZiA9IGluamVjdDxFbGVtZW50UmVmPEhUTUxFbGVtZW50Pj4oRWxlbWVudFJlZik7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGVzdHJveVJlZiA9IGluamVjdChEZXN0cm95UmVmKTtcbiAgcHJpdmF0ZSByZWFkb25seSBmb2N1c01vbml0b3IgPSBpbmplY3QoRm9jdXNNb25pdG9yKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjZHIgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IG5nWm9uZSA9IGluamVjdChOZ1pvbmUpO1xuXG4gIEBIb3N0QmluZGluZygnYXR0ci5yb2xlJykgaG9zdFJvbGUgPSAndGFiJztcblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzJykgZ2V0IGhvc3RDbGFzcygpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IFsncmRzLXN0ZXAtaGVhZGVyJ107XG5cbiAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICBjbGFzc2VzLnB1c2goJ3Jkcy1zdGVwLWhlYWRlci1ob3Jpem9udGFsJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICBjbGFzc2VzLnB1c2goJ3Jkcy1zdGVwLWhlYWRlci12ZXJ0aWNhbCcpO1xuXG4gICAgICBpZiAodGhpcy5zaWRlQnlTaWRlKSB7XG4gICAgICAgIGNsYXNzZXMucHVzaCgncmRzLXN0ZXAtaGVhZGVyLXNpZGUtYnktc2lkZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlID09PSAnZWRpdCcpIHtcbiAgICAgIGNsYXNzZXMucHVzaCgncmRzLXN0ZXAtaGVhZGVyLWVkaXQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gWy4uLmNsYXNzZXNdO1xuICB9XG5cbiAgQElucHV0KCkgb3JpZW50YXRpb246IFN0ZXBwZXJPcmllbnRhdGlvbjtcblxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSkgc2lkZUJ5U2lkZSA9IGZhbHNlO1xuXG4gIC8qKiBTdGF0ZSBvZiB0aGUgZ2l2ZW4gc3RlcC4gKi9cbiAgQElucHV0KCkgc3RhdGU6IFN0ZXBTdGF0ZSB8IHVuZGVmaW5lZDtcblxuICAvKiogTGFiZWwgb2YgdGhlIGdpdmVuIHN0ZXAuICovXG4gIEBJbnB1dCgpIGxhYmVsOiBSZHNTdGVwTGFiZWxEaXJlY3RpdmUgfCBzdHJpbmcgPSAnJztcblxuICAvKiogSW5kZXggb2YgdGhlIGdpdmVuIHN0ZXAuICovXG4gIEBJbnB1dCgpIGluZGV4ID0gMDtcblxuICAvKiogV2hldGhlciB0aGUgZ2l2ZW4gc3RlcCBpcyBzZWxlY3RlZC4gKi9cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5yZHMtc3RlcC1oZWFkZXItc2VsZWN0ZWQnKVxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSlcbiAgc2VsZWN0ZWQgPSBmYWxzZTtcblxuICAvKiogV2hldGhlciB0aGUgZ2l2ZW4gc3RlcCBsYWJlbCBpcyBhY3RpdmUuICovXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSBhY3RpdmUgPSBmYWxzZTtcblxuICAvKiogV2hldGhlciB0aGUgZ2l2ZW4gc3RlcCBpcyBvcHRpb25hbC4gKi9cbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIG9wdGlvbmFsID0gZmFsc2U7XG5cbiAgQElucHV0KCkgc3RlcE51bWJlck1vYmlsZUZ1bmM6IChzdGVwTnVtYmVyOiBudW1iZXIpID0+IHN0cmluZztcblxuICBfYW5pbWF0aW9uU3RhdGUgPSAnZGVmYXVsdCc7XG4gIHByaXZhdGUgcmVhZG9ubHkgX21vdXNlZXZlbnQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICAnbW91c2VlbnRlcicgfCAnbW91c2VsZWF2ZScgfCBudWxsXG4gID4obnVsbCk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoaW5qZWN0KEVsZW1lbnRSZWYpKTtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgIGZyb21FdmVudCh3aW5kb3csICdyZXNpemUnKVxuICAgICAgICAucGlwZSh0YWtlVW50aWxEZXN0cm95ZWQodGhpcy5kZXN0cm95UmVmKSlcbiAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLm5nWm9uZS5ydW4oKCkgPT4gdGhpcy5jZHIubWFya0ZvckNoZWNrKCkpKTtcbiAgICB9KTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmZvY3VzTW9uaXRvci5tb25pdG9yKHRoaXMuX2VsZW1lbnRSZWYsIHRydWUpO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgIGlmIChjaGFuZ2VzWydzZWxlY3RlZCddKSB7XG4gICAgICBpZiAoY2hhbmdlc1snc2VsZWN0ZWQnXS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdXNlZXZlbnQkLmdldFZhbHVlKCkgIT09ICdtb3VzZWVudGVyJykge1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGlvblN0YXRlID0gJ2hvdmVyZWQnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hbmltYXRpb25TdGF0ZSA9ICdkZWZhdWx0JztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmZvY3VzTW9uaXRvci5zdG9wTW9uaXRvcmluZyh0aGlzLl9lbGVtZW50UmVmKTtcbiAgICB0aGlzLl9tb3VzZWV2ZW50JC5jb21wbGV0ZSgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snKVxuICBvbkNsaWNrKCk6IHZvaWQge1xuICAgIHRoaXMuX2FuaW1hdGlvblN0YXRlID0gJ3ZvaWQnO1xuICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ21vdXNlZW50ZXInKVxuICBvbk1vdXNlZW50ZXIoKTogdm9pZCB7XG4gICAgdGhpcy5fYW5pbWF0aW9uU3RhdGUgPSAnaG92ZXJlZCc7XG4gICAgdGhpcy5fbW91c2VldmVudCQubmV4dCgnbW91c2VlbnRlcicpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignbW91c2VsZWF2ZScpXG4gIG9uTW91c2VsZWF2ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgIHRoaXMuX2FuaW1hdGlvblN0YXRlID0gJ2RlZmF1bHQnO1xuICAgIH1cblxuICAgIHRoaXMuX21vdXNlZXZlbnQkLm5leHQoJ21vdXNlbGVhdmUnKTtcbiAgfVxuXG4gIG9uQW5pbWF0aW9uRG9uZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fYW5pbWF0aW9uU3RhdGUgPT09ICd2b2lkJykge1xuICAgICAgdGhpcy5fYW5pbWF0aW9uU3RhdGUgPSAnaG92ZXJlZCc7XG4gICAgfVxuICB9XG5cbiAgb3ZlcnJpZGUgZm9jdXMob3JpZ2luPzogRm9jdXNPcmlnaW4sIG9wdGlvbnM/OiBGb2N1c09wdGlvbnMpOiB2b2lkIHtcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICB0aGlzLmZvY3VzTW9uaXRvci5mb2N1c1ZpYSh0aGlzLl9lbGVtZW50UmVmLCBvcmlnaW4sIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZm9jdXMob3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3RlcE1vYmlsZU51bWJlcihzdGVwTnVtYmVyOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5zdGVwTnVtYmVyTW9iaWxlRnVuYyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyB0aGlzLnN0ZXBOdW1iZXJNb2JpbGVGdW5jKHN0ZXBOdW1iZXIpXG4gICAgICA6IHRoaXMuX2dldERlZmF1bHRTdGVwTW9iaWxlTnVtYmVyKHN0ZXBOdW1iZXIpO1xuICB9XG4gIGlzTW9iaWxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBCcmVha3BvaW50VXRpbC5pc01vYmlsZSgpO1xuICB9XG5cbiAgX3N0cmluZ0xhYmVsKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmxhYmVsIGluc3RhbmNlb2YgUmRzU3RlcExhYmVsRGlyZWN0aXZlID8gbnVsbCA6IHRoaXMubGFiZWw7XG4gIH1cblxuICBfdGVtcGxhdGVMYWJlbCgpOiBSZHNTdGVwTGFiZWxEaXJlY3RpdmUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5sYWJlbCBpbnN0YW5jZW9mIFJkc1N0ZXBMYWJlbERpcmVjdGl2ZSA/IHRoaXMubGFiZWwgOiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0RGVmYXVsdFN0ZXBNb2JpbGVOdW1iZXIoc3RlcE51bWJlcjogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFNURVAgJHtzdGVwTnVtYmVyfWA7XG4gIH1cbn1cbiJdfQ==