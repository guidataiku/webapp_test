import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChild, DestroyRef, ElementRef, EventEmitter, HostBinding, inject, Input, Output, TemplateRef, ViewChild, ViewEncapsulation, } from '@angular/core';
import { RdsTimelineEventIconMarkerDirective } from './timeline-event-icon-marker.directive';
import { RdsTimelineOppositeDirective } from './timeline-event-opposite.directive';
import { ContentObserver } from '@angular/cdk/observers';
import { takeUntilDestroyed } from '@angular/core/rxjs-interop';
import { FocusMonitor } from '@angular/cdk/a11y';
import * as i0 from "@angular/core";
export class RdsTimelineEventComponent {
    constructor() {
        this.elementRef = inject(ElementRef);
        this.contentObserver = inject(ContentObserver);
        this.focusMonitor = inject(FocusMonitor);
        this.cdr = inject(ChangeDetectorRef);
        this.destroyRef = inject(DestroyRef);
        this.class = 'rds-timeline-event';
        this.selected = new EventEmitter();
        this._isActive = false;
    }
    set isActive(value) {
        if (this._isActive !== value) {
            this._isActive = value;
            this.cdr.markForCheck();
        }
    }
    get isActive() {
        return this._isActive;
    }
    ngOnInit() {
        this.contentObserver
            .observe(this.elementRef)
            .pipe(takeUntilDestroyed(this.destroyRef))
            .subscribe(() => this.cdr.markForCheck());
    }
    ngAfterViewInit() {
        this.focusMonitor.monitor(this.marker);
    }
    ngOnDestroy() {
        this.focusMonitor.stopMonitoring(this.marker);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsTimelineEventComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.1", type: RdsTimelineEventComponent, selector: "rds-timeline-event", inputs: { event: "event" }, outputs: { selected: "selected" }, host: { properties: { "class": "this.class" } }, queries: [{ propertyName: "iconMarkerTemplate", first: true, predicate: RdsTimelineEventIconMarkerDirective, descendants: true }, { propertyName: "oppositeTemplate", first: true, predicate: RdsTimelineOppositeDirective, descendants: true }], viewQueries: [{ propertyName: "marker", first: true, predicate: ["marker"], descendants: true, static: true }], ngImport: i0, template: `
    <div class="rds-timeline-event-content">
      <ng-content />
    </div>
    <div class="rds-timeline-event-separator">
      <div
        #marker
        class="rds-timeline-event{{
          iconMarkerTemplate ? '-icon' : ''
        }}-marker rds-timeline-event{{
          iconMarkerTemplate ? '-icon' : ''
        }}-marker-{{ event.status ?? 'default' }}"
        [tabindex]="event.status === 'disabled' ? -1 : 0"
        [class.active]="isActive"
        (click)="selected.emit()"
        (keydown.enter)="selected.emit()"
        (keydown.space)="selected.emit()"
      >
        <ng-content
          select="rds-icon[rds-timeline-event-icon-marker], rds-icon[rdsTimelineEventIconMarker]"
        />
      </div>
      <div class="rds-timeline-event-connector"></div>
    </div>
    <div class="rds-timeline-event-opposite">
      @if (oppositeTemplate) {
        <ng-content
          select="rds-timeline-opposite, [rds-timeline-opposite], [rdsTimelineOpposite]"
        />
      }
    </div>
  `, isInline: true, styles: [".rds-timeline-event-marker-default{border-color:var(--rds-color-bg-informative);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-marker-default.active{background-color:var(--rds-color-bg-informative)}.rds-timeline-event-marker-default:hover,.rds-timeline-event-marker-default.cdk-focused.cdk-keyboard-focused{transform:scale(1.2)}.rds-timeline-event-marker-default:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-marker-danger{border-color:var(--rds-color-bg-error);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-marker-danger.active{background-color:var(--rds-color-bg-error)}.rds-timeline-event-marker-danger:hover,.rds-timeline-event-marker-danger.cdk-focused.cdk-keyboard-focused{transform:scale(1.2)}.rds-timeline-event-marker-danger:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-marker-disabled{border-color:var(--rds-color-grey-2);cursor:default;transition:transform ease .2s}.rds-timeline-event-marker-disabled.active{background-color:var(--rds-color-grey-2)}.rds-timeline-event-marker-disabled:hover,.rds-timeline-event-marker-disabled.cdk-focused.cdk-keyboard-focused{transform:none}.rds-timeline-event-marker-disabled:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-marker-success{border-color:var(--rds-color-bg-success);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-marker-success.active{background-color:var(--rds-color-bg-success)}.rds-timeline-event-marker-success:hover,.rds-timeline-event-marker-success.cdk-focused.cdk-keyboard-focused{transform:scale(1.2)}.rds-timeline-event-marker-success:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-marker-warning{border-color:var(--rds-color-bg-warning);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-marker-warning.active{background-color:var(--rds-color-bg-warning)}.rds-timeline-event-marker-warning:hover,.rds-timeline-event-marker-warning.cdk-focused.cdk-keyboard-focused{transform:scale(1.2)}.rds-timeline-event-marker-warning:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker{display:flex;align-items:center;justify-content:center;color:var(--rds-color-on-dark-surface);border-radius:50%;z-index:1;width:32px;height:32px}.rds-timeline-event-icon-marker-default{background-color:var(--rds-color-bg-informative);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-icon-marker-default:hover{background-color:var(--rds-color-bg-informative-hover)}.rds-timeline-event-icon-marker-default.active{background-color:var(--rds-color-bg-informative-hover);transform:scale(1.1)}.rds-timeline-event-icon-marker-default:hover,.rds-timeline-event-icon-marker-default.cdk-focused.cdk-keyboard-focused{transform:scale(1.1)}.rds-timeline-event-icon-marker-default:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker-danger{background-color:var(--rds-color-bg-error);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-icon-marker-danger:hover{background-color:var(--rds-color-bg-error-hover)}.rds-timeline-event-icon-marker-danger.active{background-color:var(--rds-color-bg-error-hover);transform:scale(1.1)}.rds-timeline-event-icon-marker-danger:hover,.rds-timeline-event-icon-marker-danger.cdk-focused.cdk-keyboard-focused{transform:scale(1.1)}.rds-timeline-event-icon-marker-danger:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker-disabled{background-color:var(--rds-color-grey-2);cursor:default;transition:transform ease .2s}.rds-timeline-event-icon-marker-disabled:hover{background-color:var(--rds-color-grey-2)}.rds-timeline-event-icon-marker-disabled.active{background-color:var(--rds-color-grey-2);transform:scale(1.1)}.rds-timeline-event-icon-marker-disabled:hover,.rds-timeline-event-icon-marker-disabled.cdk-focused.cdk-keyboard-focused{transform:none}.rds-timeline-event-icon-marker-disabled:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker-success{background-color:var(--rds-color-bg-success);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-icon-marker-success:hover{background-color:var(--rds-color-bg-success-hover)}.rds-timeline-event-icon-marker-success.active{background-color:var(--rds-color-bg-success-hover);transform:scale(1.1)}.rds-timeline-event-icon-marker-success:hover,.rds-timeline-event-icon-marker-success.cdk-focused.cdk-keyboard-focused{transform:scale(1.1)}.rds-timeline-event-icon-marker-success:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker-warning{background-color:var(--rds-color-bg-warning);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-icon-marker-warning:hover{background-color:var(--rds-color-bg-warning-hover)}.rds-timeline-event-icon-marker-warning.active{background-color:var(--rds-color-bg-warning-hover);transform:scale(1.1)}.rds-timeline-event-icon-marker-warning:hover,.rds-timeline-event-icon-marker-warning.cdk-focused.cdk-keyboard-focused{transform:scale(1.1)}.rds-timeline-event-icon-marker-warning:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker rds-icon{width:24px;height:24px}\n"], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsTimelineEventComponent, decorators: [{
            type: Component,
            args: [{ selector: 'rds-timeline-event', template: `
    <div class="rds-timeline-event-content">
      <ng-content />
    </div>
    <div class="rds-timeline-event-separator">
      <div
        #marker
        class="rds-timeline-event{{
          iconMarkerTemplate ? '-icon' : ''
        }}-marker rds-timeline-event{{
          iconMarkerTemplate ? '-icon' : ''
        }}-marker-{{ event.status ?? 'default' }}"
        [tabindex]="event.status === 'disabled' ? -1 : 0"
        [class.active]="isActive"
        (click)="selected.emit()"
        (keydown.enter)="selected.emit()"
        (keydown.space)="selected.emit()"
      >
        <ng-content
          select="rds-icon[rds-timeline-event-icon-marker], rds-icon[rdsTimelineEventIconMarker]"
        />
      </div>
      <div class="rds-timeline-event-connector"></div>
    </div>
    <div class="rds-timeline-event-opposite">
      @if (oppositeTemplate) {
        <ng-content
          select="rds-timeline-opposite, [rds-timeline-opposite], [rdsTimelineOpposite]"
        />
      }
    </div>
  `, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, styles: [".rds-timeline-event-marker-default{border-color:var(--rds-color-bg-informative);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-marker-default.active{background-color:var(--rds-color-bg-informative)}.rds-timeline-event-marker-default:hover,.rds-timeline-event-marker-default.cdk-focused.cdk-keyboard-focused{transform:scale(1.2)}.rds-timeline-event-marker-default:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-marker-danger{border-color:var(--rds-color-bg-error);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-marker-danger.active{background-color:var(--rds-color-bg-error)}.rds-timeline-event-marker-danger:hover,.rds-timeline-event-marker-danger.cdk-focused.cdk-keyboard-focused{transform:scale(1.2)}.rds-timeline-event-marker-danger:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-marker-disabled{border-color:var(--rds-color-grey-2);cursor:default;transition:transform ease .2s}.rds-timeline-event-marker-disabled.active{background-color:var(--rds-color-grey-2)}.rds-timeline-event-marker-disabled:hover,.rds-timeline-event-marker-disabled.cdk-focused.cdk-keyboard-focused{transform:none}.rds-timeline-event-marker-disabled:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-marker-success{border-color:var(--rds-color-bg-success);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-marker-success.active{background-color:var(--rds-color-bg-success)}.rds-timeline-event-marker-success:hover,.rds-timeline-event-marker-success.cdk-focused.cdk-keyboard-focused{transform:scale(1.2)}.rds-timeline-event-marker-success:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-marker-warning{border-color:var(--rds-color-bg-warning);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-marker-warning.active{background-color:var(--rds-color-bg-warning)}.rds-timeline-event-marker-warning:hover,.rds-timeline-event-marker-warning.cdk-focused.cdk-keyboard-focused{transform:scale(1.2)}.rds-timeline-event-marker-warning:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker{display:flex;align-items:center;justify-content:center;color:var(--rds-color-on-dark-surface);border-radius:50%;z-index:1;width:32px;height:32px}.rds-timeline-event-icon-marker-default{background-color:var(--rds-color-bg-informative);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-icon-marker-default:hover{background-color:var(--rds-color-bg-informative-hover)}.rds-timeline-event-icon-marker-default.active{background-color:var(--rds-color-bg-informative-hover);transform:scale(1.1)}.rds-timeline-event-icon-marker-default:hover,.rds-timeline-event-icon-marker-default.cdk-focused.cdk-keyboard-focused{transform:scale(1.1)}.rds-timeline-event-icon-marker-default:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker-danger{background-color:var(--rds-color-bg-error);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-icon-marker-danger:hover{background-color:var(--rds-color-bg-error-hover)}.rds-timeline-event-icon-marker-danger.active{background-color:var(--rds-color-bg-error-hover);transform:scale(1.1)}.rds-timeline-event-icon-marker-danger:hover,.rds-timeline-event-icon-marker-danger.cdk-focused.cdk-keyboard-focused{transform:scale(1.1)}.rds-timeline-event-icon-marker-danger:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker-disabled{background-color:var(--rds-color-grey-2);cursor:default;transition:transform ease .2s}.rds-timeline-event-icon-marker-disabled:hover{background-color:var(--rds-color-grey-2)}.rds-timeline-event-icon-marker-disabled.active{background-color:var(--rds-color-grey-2);transform:scale(1.1)}.rds-timeline-event-icon-marker-disabled:hover,.rds-timeline-event-icon-marker-disabled.cdk-focused.cdk-keyboard-focused{transform:none}.rds-timeline-event-icon-marker-disabled:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker-success{background-color:var(--rds-color-bg-success);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-icon-marker-success:hover{background-color:var(--rds-color-bg-success-hover)}.rds-timeline-event-icon-marker-success.active{background-color:var(--rds-color-bg-success-hover);transform:scale(1.1)}.rds-timeline-event-icon-marker-success:hover,.rds-timeline-event-icon-marker-success.cdk-focused.cdk-keyboard-focused{transform:scale(1.1)}.rds-timeline-event-icon-marker-success:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker-warning{background-color:var(--rds-color-bg-warning);cursor:pointer;transition:transform ease .2s}.rds-timeline-event-icon-marker-warning:hover{background-color:var(--rds-color-bg-warning-hover)}.rds-timeline-event-icon-marker-warning.active{background-color:var(--rds-color-bg-warning-hover);transform:scale(1.1)}.rds-timeline-event-icon-marker-warning:hover,.rds-timeline-event-icon-marker-warning.cdk-focused.cdk-keyboard-focused{transform:scale(1.1)}.rds-timeline-event-icon-marker-warning:focus-visible{outline:2px solid var(--rds-color-stroke-active-focus)}.rds-timeline-event-icon-marker rds-icon{width:24px;height:24px}\n"] }]
        }], propDecorators: { class: [{
                type: HostBinding,
                args: ['class']
            }], event: [{
                type: Input,
                args: [{ required: true }]
            }], selected: [{
                type: Output
            }], iconMarkerTemplate: [{
                type: ContentChild,
                args: [RdsTimelineEventIconMarkerDirective]
            }], oppositeTemplate: [{
                type: ContentChild,
                args: [RdsTimelineOppositeDirective]
            }], marker: [{
                type: ViewChild,
                args: ['marker', { static: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZWxpbmUtZXZlbnQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9hbmd1bGFyLWNvbXBvbmVudHMvc3JjL2xpYi90aW1lbGluZS90aW1lbGluZS1ldmVudC90aW1lbGluZS1ldmVudC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVMLHVCQUF1QixFQUN2QixpQkFBaUIsRUFDakIsU0FBUyxFQUNULFlBQVksRUFDWixVQUFVLEVBQ1YsVUFBVSxFQUNWLFlBQVksRUFDWixXQUFXLEVBQ1gsTUFBTSxFQUNOLEtBQUssRUFHTCxNQUFNLEVBQ04sV0FBVyxFQUNYLFNBQVMsRUFDVCxpQkFBaUIsR0FDbEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLG1DQUFtQyxFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFDN0YsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDbkYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQzs7QUFpRGpELE1BQU0sT0FBTyx5QkFBeUI7SUF0Q3RDO1FBeUNtQixlQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2hDLG9CQUFlLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQzFDLGlCQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3BDLFFBQUcsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUNoQyxlQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRVYsVUFBSyxHQUFHLG9CQUFvQixDQUFDO1FBSTFELGFBQVEsR0FBRyxJQUFJLFlBQVksRUFBUSxDQUFDO1FBb0J0QyxjQUFTLEdBQUcsS0FBSyxDQUFDO0tBZ0IzQjtJQTNCQyxJQUFJLFFBQVEsQ0FBQyxLQUFjO1FBQ3pCLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxLQUFLLEVBQUUsQ0FBQztZQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztZQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQzFCLENBQUM7SUFDSCxDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7SUFJRCxRQUFRO1FBQ04sSUFBSSxDQUFDLGVBQWU7YUFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7YUFDeEIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQzthQUN6QyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCxlQUFlO1FBQ2IsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hELENBQUM7OEdBaERVLHlCQUF5QjtrR0FBekIseUJBQXlCLDBOQWV0QixtQ0FBbUMsbUZBRW5DLDRCQUE0QixnS0FyRGhDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBK0JUOzsyRkFLVSx5QkFBeUI7a0JBdENyQyxTQUFTOytCQUNFLG9CQUFvQixZQUNwQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQStCVCxtQkFFZ0IsdUJBQXVCLENBQUMsTUFBTSxpQkFDaEMsaUJBQWlCLENBQUMsSUFBSTs4QkFXRSxLQUFLO3NCQUEzQyxXQUFXO3VCQUFDLE9BQU87Z0JBRU8sS0FBSztzQkFBL0IsS0FBSzt1QkFBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7Z0JBRWYsUUFBUTtzQkFBakIsTUFBTTtnQkFHRyxrQkFBa0I7c0JBRDNCLFlBQVk7dUJBQUMsbUNBQW1DO2dCQUd2QyxnQkFBZ0I7c0JBRHpCLFlBQVk7dUJBQUMsNEJBQTRCO2dCQUdPLE1BQU07c0JBQXRELFNBQVM7dUJBQUMsUUFBUSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBDb250ZW50Q2hpbGQsXG4gIERlc3Ryb3lSZWYsXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgSG9zdEJpbmRpbmcsXG4gIGluamVjdCxcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFRlbXBsYXRlUmVmLFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJkc1RpbWVsaW5lRXZlbnRJY29uTWFya2VyRGlyZWN0aXZlIH0gZnJvbSAnLi90aW1lbGluZS1ldmVudC1pY29uLW1hcmtlci5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgUmRzVGltZWxpbmVPcHBvc2l0ZURpcmVjdGl2ZSB9IGZyb20gJy4vdGltZWxpbmUtZXZlbnQtb3Bwb3NpdGUuZGlyZWN0aXZlJztcbmltcG9ydCB7IENvbnRlbnRPYnNlcnZlciB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9vYnNlcnZlcnMnO1xuaW1wb3J0IHsgdGFrZVVudGlsRGVzdHJveWVkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZS9yeGpzLWludGVyb3AnO1xuaW1wb3J0IHsgRm9jdXNNb25pdG9yIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2ExMXknO1xuXG5leHBvcnQgdHlwZSBSZHNUaW1lbGluZUV2ZW50U3RhdHVzID1cbiAgfCAnZGVmYXVsdCdcbiAgfCAnZGFuZ2VyJ1xuICB8ICdkaXNhYmxlZCdcbiAgfCAnc3VjY2VzcydcbiAgfCAnd2FybmluZyc7XG5cbmV4cG9ydCB0eXBlIFJkc1RpbWVsaW5lRXZlbnQ8VD4gPSBUICYgeyBzdGF0dXM/OiBSZHNUaW1lbGluZUV2ZW50U3RhdHVzIH07XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Jkcy10aW1lbGluZS1ldmVudCcsXG4gIHRlbXBsYXRlOiBgXG4gICAgPGRpdiBjbGFzcz1cInJkcy10aW1lbGluZS1ldmVudC1jb250ZW50XCI+XG4gICAgICA8bmctY29udGVudCAvPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJyZHMtdGltZWxpbmUtZXZlbnQtc2VwYXJhdG9yXCI+XG4gICAgICA8ZGl2XG4gICAgICAgICNtYXJrZXJcbiAgICAgICAgY2xhc3M9XCJyZHMtdGltZWxpbmUtZXZlbnR7e1xuICAgICAgICAgIGljb25NYXJrZXJUZW1wbGF0ZSA/ICctaWNvbicgOiAnJ1xuICAgICAgICB9fS1tYXJrZXIgcmRzLXRpbWVsaW5lLWV2ZW50e3tcbiAgICAgICAgICBpY29uTWFya2VyVGVtcGxhdGUgPyAnLWljb24nIDogJydcbiAgICAgICAgfX0tbWFya2VyLXt7IGV2ZW50LnN0YXR1cyA/PyAnZGVmYXVsdCcgfX1cIlxuICAgICAgICBbdGFiaW5kZXhdPVwiZXZlbnQuc3RhdHVzID09PSAnZGlzYWJsZWQnID8gLTEgOiAwXCJcbiAgICAgICAgW2NsYXNzLmFjdGl2ZV09XCJpc0FjdGl2ZVwiXG4gICAgICAgIChjbGljayk9XCJzZWxlY3RlZC5lbWl0KClcIlxuICAgICAgICAoa2V5ZG93bi5lbnRlcik9XCJzZWxlY3RlZC5lbWl0KClcIlxuICAgICAgICAoa2V5ZG93bi5zcGFjZSk9XCJzZWxlY3RlZC5lbWl0KClcIlxuICAgICAgPlxuICAgICAgICA8bmctY29udGVudFxuICAgICAgICAgIHNlbGVjdD1cInJkcy1pY29uW3Jkcy10aW1lbGluZS1ldmVudC1pY29uLW1hcmtlcl0sIHJkcy1pY29uW3Jkc1RpbWVsaW5lRXZlbnRJY29uTWFya2VyXVwiXG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJyZHMtdGltZWxpbmUtZXZlbnQtY29ubmVjdG9yXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInJkcy10aW1lbGluZS1ldmVudC1vcHBvc2l0ZVwiPlxuICAgICAgQGlmIChvcHBvc2l0ZVRlbXBsYXRlKSB7XG4gICAgICAgIDxuZy1jb250ZW50XG4gICAgICAgICAgc2VsZWN0PVwicmRzLXRpbWVsaW5lLW9wcG9zaXRlLCBbcmRzLXRpbWVsaW5lLW9wcG9zaXRlXSwgW3Jkc1RpbWVsaW5lT3Bwb3NpdGVdXCJcbiAgICAgICAgLz5cbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgYCxcbiAgc3R5bGVVcmxzOiBbJy4vdGltZWxpbmUtZXZlbnQuY29tcG9uZW50LnNjc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG59KVxuZXhwb3J0IGNsYXNzIFJkc1RpbWVsaW5lRXZlbnRDb21wb25lbnQ8VD5cbiAgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveVxue1xuICBwcml2YXRlIHJlYWRvbmx5IGVsZW1lbnRSZWYgPSBpbmplY3QoRWxlbWVudFJlZik7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGVudE9ic2VydmVyID0gaW5qZWN0KENvbnRlbnRPYnNlcnZlcik7XG4gIHByaXZhdGUgcmVhZG9ubHkgZm9jdXNNb25pdG9yID0gaW5qZWN0KEZvY3VzTW9uaXRvcik7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2RyID0gaW5qZWN0KENoYW5nZURldGVjdG9yUmVmKTtcbiAgcHJpdmF0ZSByZWFkb25seSBkZXN0cm95UmVmID0gaW5qZWN0KERlc3Ryb3lSZWYpO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3MnKSBwcml2YXRlIHJlYWRvbmx5IGNsYXNzID0gJ3Jkcy10aW1lbGluZS1ldmVudCc7XG5cbiAgQElucHV0KHsgcmVxdWlyZWQ6IHRydWUgfSkgZXZlbnQ6IFJkc1RpbWVsaW5lRXZlbnQ8VD47XG5cbiAgQE91dHB1dCgpIHNlbGVjdGVkID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG4gIEBDb250ZW50Q2hpbGQoUmRzVGltZWxpbmVFdmVudEljb25NYXJrZXJEaXJlY3RpdmUpXG4gIHByb3RlY3RlZCBpY29uTWFya2VyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPFJkc1RpbWVsaW5lRXZlbnRJY29uTWFya2VyRGlyZWN0aXZlPjtcbiAgQENvbnRlbnRDaGlsZChSZHNUaW1lbGluZU9wcG9zaXRlRGlyZWN0aXZlKVxuICBwcm90ZWN0ZWQgb3Bwb3NpdGVUZW1wbGF0ZTogVGVtcGxhdGVSZWY8UmRzVGltZWxpbmVPcHBvc2l0ZURpcmVjdGl2ZT47XG5cbiAgQFZpZXdDaGlsZCgnbWFya2VyJywgeyBzdGF0aWM6IHRydWUgfSkgcHJvdGVjdGVkIG1hcmtlcjogSFRNTEVsZW1lbnQ7XG5cbiAgc2V0IGlzQWN0aXZlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMuX2lzQWN0aXZlICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5faXNBY3RpdmUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gIH1cblxuICBwcml2YXRlIF9pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuY29udGVudE9ic2VydmVyXG4gICAgICAub2JzZXJ2ZSh0aGlzLmVsZW1lbnRSZWYpXG4gICAgICAucGlwZSh0YWtlVW50aWxEZXN0cm95ZWQodGhpcy5kZXN0cm95UmVmKSlcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5jZHIubWFya0ZvckNoZWNrKCkpO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHRoaXMuZm9jdXNNb25pdG9yLm1vbml0b3IodGhpcy5tYXJrZXIpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5mb2N1c01vbml0b3Iuc3RvcE1vbml0b3JpbmcodGhpcy5tYXJrZXIpO1xuICB9XG59XG4iXX0=