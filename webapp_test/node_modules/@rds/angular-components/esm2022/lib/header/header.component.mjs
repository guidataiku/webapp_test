import { booleanAttribute, ChangeDetectionStrategy, ChangeDetectorRef, Component, DestroyRef, ElementRef, EventEmitter, HostBinding, inject, Input, NgZone, Output, Renderer2, ViewChild, ViewEncapsulation, } from '@angular/core';
import { rdsHeaderSearchAnimations } from './header-search-animations';
import { fromEvent } from 'rxjs';
import { tap } from 'rxjs/operators';
import { RdsHeaderSearchbarComponent } from './header-searchbar.component';
import { RdsIconButtonComponent } from '../button';
import { FocusMonitor } from '@angular/cdk/a11y';
import { ENTER, hasModifierKey, SPACE } from '@angular/cdk/keycodes';
import { ContentObserver } from '@angular/cdk/observers';
import { takeUntilDestroyed } from '@angular/core/rxjs-interop';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../icons/icon.component";
import * as i3 from "../button/icon-button.component";
import * as i4 from "@angular/forms";
import * as i5 from "../search/search.component";
import * as i6 from "./header-searchbar.component";
export class RdsHeaderComponent {
    constructor() {
        this.destroyRef = inject(DestroyRef);
        this.cdr = inject(ChangeDetectorRef);
        this.renderer = inject(Renderer2);
        this.elementRef = inject(ElementRef);
        this.ngZone = inject(NgZone);
        this.focusMonitor = inject(FocusMonitor);
        this.contentObserver = inject(ContentObserver);
        this.searchMode = false;
        this.searchValue = '';
        this.search = new EventEmitter();
        this.searchChange = new EventEmitter();
        this.logoTriggered = new EventEmitter();
        this.class = 'rds-header';
        this.minimalMargins = false;
        this._searchPosition = 'none';
    }
    get searchPosition() {
        return this._searchPosition;
    }
    set searchPosition(value) {
        this._searchPosition = value;
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
            const scrollTarget = this.getScrollTarget();
            fromEvent(scrollTarget, 'scroll')
                .pipe(takeUntilDestroyed(this.destroyRef))
                .subscribe(() => {
                const scrollTop = scrollTarget instanceof HTMLElement
                    ? scrollTarget.scrollTop
                    : scrollTarget.scrollY;
                if (scrollTop === 0 &&
                    this.elementRef.nativeElement.classList.contains('rds-header-fixed')) {
                    this.ngZone.run(() => this.renderer.removeClass(this.elementRef.nativeElement, 'rds-header-fixed'));
                }
                else if (scrollTop !== 0 &&
                    !this.elementRef.nativeElement.classList.contains('rds-header-fixed')) {
                    this.ngZone.run(() => this.renderer.addClass(this.elementRef.nativeElement, 'rds-header-fixed'));
                }
            });
        });
    }
    ngAfterViewInit() {
        this.focusMonitor.monitor(this.logoElement.nativeElement, true);
        this.contentObserver
            .observe(this.elementRef.nativeElement)
            .pipe(tap(() => this.cdr.markForCheck()), takeUntilDestroyed(this.destroyRef))
            .subscribe();
    }
    ngOnDestroy() {
        this.focusMonitor.stopMonitoring(this.logoElement.nativeElement);
    }
    startSearching() {
        this.searchMode = true;
    }
    endSearching() {
        this.searchMode = false;
    }
    getExpandedState() {
        return this.searchMode ? 'expanded' : 'collapsed';
    }
    getCollapsedState() {
        return this.searchMode ? 'collapsed' : 'expanded';
    }
    onSearch(value) {
        this.search.emit(value);
    }
    emitSearch(event) {
        if (event instanceof KeyboardEvent &&
            event.keyCode === ENTER &&
            !hasModifierKey(event)) {
            this.search.emit(this.searchValue);
        }
    }
    onLogoClick(event) {
        if ((event instanceof KeyboardEvent &&
            !hasModifierKey(event, 'shiftKey', 'altKey', 'ctrlKey') &&
            (event.keyCode === SPACE || event.keyCode === ENTER)) ||
            event instanceof MouseEvent) {
            if (event instanceof KeyboardEvent && event.keyCode === SPACE) {
                event.stopPropagation();
                event.preventDefault();
            }
            this.logoTriggered.next(event);
        }
    }
    focusSearchInput(state) {
        if (this.searchbar && state.fromState !== 'void') {
            if (this.getExpandedState() === 'expanded') {
                Promise.resolve().then(() => this.searchbar.focusSearch());
            }
            else if (this.getExpandedState() === 'collapsed') {
                Promise.resolve().then(() => this.searchIcon?.focus());
            }
        }
    }
    getScrollTarget() {
        if (this.scrollTarget instanceof ElementRef) {
            return this.scrollTarget.nativeElement;
        }
        else if (this.scrollTarget instanceof HTMLElement) {
            return this.scrollTarget;
        }
        else if (typeof this.scrollTarget === 'string') {
            return document.querySelector(this.scrollTarget);
        }
        else if (this.scrollTarget === undefined || this.scrollTarget === null) {
            return window;
        }
        else {
            throw new Error('ScrollTarget for RdsHeader is provided in a wrong format, pass ElementRef, selector or null.');
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsHeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.1", type: RdsHeaderComponent, selector: "rds-header", inputs: { scrollTarget: "scrollTarget", searchbarPlaceholder: "searchbarPlaceholder", searchValue: "searchValue", searchPosition: "searchPosition", minimalMargins: ["minimalMargins", "minimalMargins", booleanAttribute] }, outputs: { search: "search", searchChange: "searchChange", logoTriggered: "logoTriggered" }, host: { properties: { "class": "this.class", "class.rds-header-minimal-margins": "this.minimalMargins" } }, viewQueries: [{ propertyName: "searchbar", first: true, predicate: RdsHeaderSearchbarComponent, descendants: true }, { propertyName: "searchIcon", first: true, predicate: ["searchIcon"], descendants: true }, { propertyName: "logoElement", first: true, predicate: ["logoElement"], descendants: true, static: true }], ngImport: i0, template: "<div class=\"rds-header-container\">\n  <div class=\"rds-header-top\">\n    <div class=\"rds-header-base\" [@headerCollapse]=\"getCollapsedState()\">\n      <div class=\"rds-header-title\">\n        <div\n          class=\"rds-header-logo\"\n          [class.rds-header-logo-trigger]=\"logoTriggered.observed\"\n          [tabIndex]=\"logoTriggered.observed ? 0 : -1\"\n          #logoElement\n          (click)=\"onLogoClick($event)\"\n          (keydown)=\"onLogoClick($event)\"\n        >\n          <svg\n            height=\"32\"\n            viewBox=\"0 0 152 79\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M124.203 34.7693C123.519 33.3633 122.55 32.2994 121.315 31.5394C120.08 30.7794 118.655 30.3994 117.059 30.3994C115.463 30.3994 114.038 30.7794 112.803 31.5394C111.568 32.2994 110.599 33.3823 109.915 34.7693C109.231 36.1753 108.889 37.8092 108.889 39.6712V43.8701C108.889 45.732 109.231 47.366 109.915 48.772C110.599 50.1779 111.568 51.2419 112.803 52.0019C114.038 52.7619 115.463 53.1228 117.059 53.1228C118.655 53.1228 120.08 52.7429 121.315 52.0019C122.55 51.2419 123.31 50.3869 123.994 48.9809C124.317 48.316 124.602 47.48 124.754 46.625L120.84 45.732C120.669 46.568 120.384 47.366 119.947 47.917C119.244 48.8289 118.218 49.2279 117.059 49.2279C115.9 49.2279 114.874 48.8099 114.171 47.917C113.468 47.005 113.126 45.713 113.126 44.1171V42.5401H125.248V39.6522C125.229 37.7902 124.887 36.1753 124.203 34.7693ZM117.059 34.2943C118.218 34.2943 119.244 34.6933 119.947 35.5863C120.574 36.3843 120.916 37.6002 120.992 38.9872H113.126C113.183 37.6002 113.525 36.3843 114.171 35.5863C114.855 34.6933 115.881 34.2943 117.059 34.2943Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M94.0119 52.6287V38.3031C94.0119 37.1061 94.3539 36.1371 95.0189 35.4341C95.7029 34.7312 96.5389 34.3702 97.5839 34.3702C98.6099 34.3702 99.4649 34.7312 100.149 35.4341C100.833 36.1371 101.156 37.0871 101.156 38.3031V52.6287H105.393V37.4101C105.393 35.2061 104.823 33.4962 103.683 32.2612C102.543 31.0262 100.985 30.4183 99.0089 30.4183C97.9259 30.4183 96.9569 30.6273 96.0449 31.0642C95.1519 31.5012 94.4299 32.0712 94.0309 32.6792V21.7925H89.7939V52.6287H94.0119Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M74.632 44.0791C74.632 45.675 74.993 46.967 75.696 47.86C76.418 48.7529 77.444 49.1519 78.603 49.1519C80.693 49.1519 82.004 47.803 82.498 45.124L86.431 46.036C86.108 48.278 85.291 50.0259 83.98 51.2609C82.669 52.4959 80.883 53.1228 78.603 53.1228C76.133 53.1228 74.138 52.2869 72.637 50.6149C71.136 48.9429 70.376 46.663 70.376 43.8131V39.7092C70.376 36.8593 71.117 34.5793 72.637 32.9074C74.138 31.2354 76.133 30.3994 78.603 30.3994C80.883 30.3994 82.669 31.0264 83.98 32.2614C85.291 33.4963 86.108 35.2443 86.431 37.4862L82.498 38.3982C82.004 35.7193 80.712 34.3703 78.603 34.3703C77.444 34.3703 76.399 34.7693 75.696 35.6623C74.974 36.5553 74.632 37.8282 74.632 39.4432V44.0791Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M58.957 49.152C57.798 49.152 56.772 48.734 56.069 47.841C55.366 46.929 55.024 45.6371 55.024 44.0411V39.4432C55.024 37.8473 55.366 36.5553 56.069 35.6623C56.772 34.7693 57.798 34.3704 58.957 34.3704C60.116 34.3704 61.142 34.7693 61.845 35.6623C62.548 36.5553 62.89 37.8283 62.89 39.4432V44.0411C62.89 45.6371 62.548 46.929 61.845 47.841C61.142 48.753 60.116 49.152 58.957 49.152ZM58.957 53.1419C60.553 53.1419 61.978 52.7619 63.213 52.0209C64.448 51.2609 65.417 50.178 66.101 48.791C66.785 47.385 67.127 45.7511 67.127 43.8891V39.6902C67.127 37.8283 66.785 36.1943 66.101 34.7883C65.417 33.3824 64.448 32.3184 63.213 31.5584C61.978 30.7984 60.553 30.4185 58.957 30.4185C57.361 30.4185 55.936 30.7984 54.701 31.5584C53.466 32.3184 52.497 33.4014 51.813 34.7883C51.129 36.1943 50.787 37.8283 50.787 39.6902V43.8891C50.787 45.7511 51.129 47.385 51.813 48.791C52.497 50.197 53.466 51.2609 54.701 52.0209C55.936 52.7619 57.361 53.1419 58.957 53.1419Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M36.271 34.8073V25.8205H40.546C41.686 25.8205 42.579 26.1815 43.206 26.9225C43.833 27.6635 44.156 28.7845 44.156 30.3234C44.156 31.8434 43.833 32.9834 43.206 33.7243C42.579 34.4653 41.686 34.8263 40.546 34.8263L36.271 34.8073ZM36.271 52.6289V38.8732H39.9C40.945 38.8732 41.629 39.1202 42.085 39.5952C42.541 40.0702 42.788 40.8302 42.921 41.9131L44.118 52.6289H48.374L47.101 41.5141C46.949 40.1842 46.778 39.3102 46.246 38.5312C45.752 37.8282 45.049 37.2392 44.232 36.9733C45.524 36.3653 46.55 35.4913 47.291 34.3893C48.032 33.2873 48.412 31.7674 48.412 29.8294C48.412 27.3405 47.709 25.3645 46.322 23.9206C44.916 22.4766 42.997 21.7546 40.565 21.7546H32.053V52.6289H36.271Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M152 39.5L117.667 79H34.333L0 39.5L34.333 0H117.648L152 39.5ZM115.824 74.9911L146.68 39.5L115.824 4.0089H36.157L5.32 39.5L36.157 74.9911H115.824Z\"\n              fill=\"#0B41CD\"\n            />\n          </svg>\n        </div>\n        <ng-content\n          select=\"rds-divider[rds-header-start-divider], rds-header-app-name\"\n        />\n        @if (searchPosition === 'start') {\n          <ng-container [ngTemplateOutlet]=\"searchTemplate\" />\n        }\n      </div>\n\n      <div class=\"rds-header-right-section\">\n        @if (searchPosition === 'end') {\n          <ng-container [ngTemplateOutlet]=\"searchTemplate\" />\n        }\n        <div class=\"rds-header-actions-nav\">\n          <ng-content select=\"rds-header-navigation-primary\" />\n        </div>\n        <ng-content select=\"rds-divider[rds-header-end-divider]\" />\n        <div class=\"rds-header-actions\">\n          @if (searchPosition === 'animated') {\n            <button\n              #searchIcon\n              rds-icon-button\n              size=\"m\"\n              (click)=\"startSearching()\"\n              class=\"rds-header-action\"\n            >\n              <rds-icon namespace=\"outlined\" icon=\"search\" />\n            </button>\n          }\n          <div>\n            <ng-content select=\"rds-header-actions\" />\n          </div>\n        </div>\n      </div>\n    </div>\n    @if (searchPosition === 'animated') {\n      <div\n        [@searchExpansion]=\"getExpandedState()\"\n        (@searchExpansion.done)=\"focusSearchInput($event)\"\n        class=\"rds-header-searchbar-container\"\n      >\n        <rds-header-searchbar\n          (search)=\"onSearch($event)\"\n          (closeSearch)=\"endSearching()\"\n          [placeholder]=\"searchbarPlaceholder\"\n          [searchValue]=\"searchValue\"\n          (searchChange)=\"searchChange.emit($event)\"\n        />\n      </div>\n    }\n  </div>\n  <div>\n    <ng-content select=\"rds-header-navigation-secondary\" />\n  </div>\n</div>\n\n<ng-template #searchTemplate>\n  <rds-search\n    size=\"s\"\n    [(ngModel)]=\"searchValue\"\n    (ngModelChange)=\"searchChange.emit($event)\"\n    (keydown.enter)=\"emitSearch($event)\"\n    [placeholder]=\"searchbarPlaceholder\"\n    class=\"rds-header-search-input rds-header-search-position-{{\n      searchPosition\n    }}\"\n  />\n</ng-template>\n", styles: [".rds-header-title .rds-header-logo{margin-block:18px}.rds-header{display:flex;flex-direction:column;width:100%;background-color:var(--rds-color-bg-base-1);border-bottom:1px solid var(--rds-color-grey-1);transition:border-bottom-color .3s ease}.rds-header.rds-header-fixed{border-bottom-color:var(--rds-color-grey-1)}.rds-header .rds-header-container{width:100%}.rds-header .rds-header-container .rds-header-top{display:flex}.rds-header .rds-header-base{display:flex;justify-content:space-between;align-items:center;width:100%;padding-left:96px;padding-right:96px}.rds-header .rds-header-searchbar-container{width:100%}.rds-header .rds-header-title{display:flex;align-items:center}.rds-header .rds-header-title .rds-header-logo{height:32px;margin:20px 0;color:var(--rds-color-logo)}.rds-header .rds-header-title .rds-header-logo.rds-header-logo-trigger{cursor:pointer}.rds-header .rds-header-title .rds-header-logo.rds-header-logo-trigger.cdk-focused.cdk-keyboard-focused{outline:2px solid var(--rds-color-stroke-active-focus);outline-offset:2px;border-radius:2px;border-width:0}.rds-header .rds-header-title .rds-header-logo svg{height:32px}.rds-header .rds-header-title .rds-header-logo svg path{fill:var(--rds-color-logo)}.rds-header .rds-header-title .rds-header-app-name{font-size:18px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:default;color:var(--rds-color-informative);white-space:nowrap;margin-left:24px}.rds-header .rds-header-title .rds-header-app-name.rds-header-app-name-triggerable{cursor:pointer}.rds-header .rds-header-title .rds-header-app-name.rds-header-app-name-triggerable.cdk-focused.cdk-keyboard-focused{outline:2px solid var(--rds-color-stroke-active-focus);outline-offset:2px;border-radius:2px;border-width:0}.rds-header .rds-header-right-section{display:flex;align-items:center;margin:0 0 0 auto}.rds-header .rds-header-right-section .rds-header-actions-nav{display:flex;align-items:center}.rds-header .rds-header-right-section .rds-header-actions{display:flex;align-items:center;gap:24px}.rds-header .rds-header-navigation{display:flex;align-content:flex-end;align-items:center;gap:32px}.rds-header .rds-header-navigation .rds-header-link{display:flex;align-items:center;cursor:pointer;border-width:0}.rds-header .rds-header-navigation--primary .rds-header-link{margin:12px 0}.rds-header .rds-header-navigation--secondary{margin:2px 96px 0;gap:40px}.rds-header .rds-header-navigation--secondary .rds-header-link{border-bottom:2px solid transparent;padding-top:12px;padding-bottom:10px}.rds-header .rds-header-navigation--secondary .rds-header-link.rds-link--active:not(.rds-header-link--disabled){border-bottom:2px solid var(--rds-color-informative);color:var(--rds-color-secondary-link-hover)}.rds-header .rds-header-navigation--secondary .rds-header-link:hover:not(.rds-header-link--disabled):not(.rds-link--active){border-bottom:2px solid var(--rds-color-informative);color:var(--rds-color-secondary-link)}.rds-header .rds-header-search{display:flex;align-items:center;border:none;outline:none;width:100%;min-height:72px;padding:0 96px}.rds-header .rds-header-search .rds-header-search-input{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;border:none;width:100%;color:var(--rds-color-high-contrast);background-color:transparent}.rds-header .rds-header-search .rds-header-search-input:hover,.rds-header .rds-header-search .rds-header-search-input:focus{outline:none}.rds-header .rds-header-search .rds-header-search-input::placeholder{font-size:16px;font-weight:200;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-high-contrast)}.rds-header .rds-header-search .rds-header-search-search-icon{margin-right:12px;color:var(--rds-color-low-contrast)}.rds-header .rds-header-search .rds-header-search-close-icon{margin-left:12px;width:18px;height:18px}.rds-header .rds-divider,.rds-header .rds-divider.rds-divider-vertical{margin-left:24px;margin-right:24px;width:1px;height:16px}.rds-header .rds-divider.rds-header-start-divider,.rds-header .rds-divider.rds-divider-vertical.rds-header-start-divider{margin-right:0}.rds-header-minimal-margins .rds-header-base,.rds-header-minimal-margins .rds-header-search{padding-inline:16px}.rds-header-minimal-margins .rds-header-navigation--secondary{margin-inline:16px}.rds-header-search-input.rds-header-search-position-start{margin-left:24px}.rds-header-search-input.rds-header-search-position-end{margin-right:24px}.rds-header-search-input .rds-search.rds-search-s .rds-form-field .rds-form-field__control-container{border-radius:36px}\n"], dependencies: [{ kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: i2.RdsIconComponent, selector: "rds-icon", inputs: ["namespace", "icon"] }, { kind: "component", type: i3.RdsIconButtonComponent, selector: "\n    button[rds-icon-button],\n    button[rdsIconButton],\n    button[rds-icon-warning-button],\n    button[rdsIconWarningButton],\n  ", inputs: ["size"] }, { kind: "directive", type: i4.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i4.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i5.RdsSearchComponent, selector: "rds-search" }, { kind: "component", type: i6.RdsHeaderSearchbarComponent, selector: "rds-header-searchbar", inputs: ["placeholder", "searchValue"], outputs: ["searchChange", "closeSearch", "search"] }], animations: [
            rdsHeaderSearchAnimations.headerCollapse,
            rdsHeaderSearchAnimations.searchExpansion,
        ], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: RdsHeaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'rds-header', animations: [
                        rdsHeaderSearchAnimations.headerCollapse,
                        rdsHeaderSearchAnimations.searchExpansion,
                    ], encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"rds-header-container\">\n  <div class=\"rds-header-top\">\n    <div class=\"rds-header-base\" [@headerCollapse]=\"getCollapsedState()\">\n      <div class=\"rds-header-title\">\n        <div\n          class=\"rds-header-logo\"\n          [class.rds-header-logo-trigger]=\"logoTriggered.observed\"\n          [tabIndex]=\"logoTriggered.observed ? 0 : -1\"\n          #logoElement\n          (click)=\"onLogoClick($event)\"\n          (keydown)=\"onLogoClick($event)\"\n        >\n          <svg\n            height=\"32\"\n            viewBox=\"0 0 152 79\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M124.203 34.7693C123.519 33.3633 122.55 32.2994 121.315 31.5394C120.08 30.7794 118.655 30.3994 117.059 30.3994C115.463 30.3994 114.038 30.7794 112.803 31.5394C111.568 32.2994 110.599 33.3823 109.915 34.7693C109.231 36.1753 108.889 37.8092 108.889 39.6712V43.8701C108.889 45.732 109.231 47.366 109.915 48.772C110.599 50.1779 111.568 51.2419 112.803 52.0019C114.038 52.7619 115.463 53.1228 117.059 53.1228C118.655 53.1228 120.08 52.7429 121.315 52.0019C122.55 51.2419 123.31 50.3869 123.994 48.9809C124.317 48.316 124.602 47.48 124.754 46.625L120.84 45.732C120.669 46.568 120.384 47.366 119.947 47.917C119.244 48.8289 118.218 49.2279 117.059 49.2279C115.9 49.2279 114.874 48.8099 114.171 47.917C113.468 47.005 113.126 45.713 113.126 44.1171V42.5401H125.248V39.6522C125.229 37.7902 124.887 36.1753 124.203 34.7693ZM117.059 34.2943C118.218 34.2943 119.244 34.6933 119.947 35.5863C120.574 36.3843 120.916 37.6002 120.992 38.9872H113.126C113.183 37.6002 113.525 36.3843 114.171 35.5863C114.855 34.6933 115.881 34.2943 117.059 34.2943Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M94.0119 52.6287V38.3031C94.0119 37.1061 94.3539 36.1371 95.0189 35.4341C95.7029 34.7312 96.5389 34.3702 97.5839 34.3702C98.6099 34.3702 99.4649 34.7312 100.149 35.4341C100.833 36.1371 101.156 37.0871 101.156 38.3031V52.6287H105.393V37.4101C105.393 35.2061 104.823 33.4962 103.683 32.2612C102.543 31.0262 100.985 30.4183 99.0089 30.4183C97.9259 30.4183 96.9569 30.6273 96.0449 31.0642C95.1519 31.5012 94.4299 32.0712 94.0309 32.6792V21.7925H89.7939V52.6287H94.0119Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M74.632 44.0791C74.632 45.675 74.993 46.967 75.696 47.86C76.418 48.7529 77.444 49.1519 78.603 49.1519C80.693 49.1519 82.004 47.803 82.498 45.124L86.431 46.036C86.108 48.278 85.291 50.0259 83.98 51.2609C82.669 52.4959 80.883 53.1228 78.603 53.1228C76.133 53.1228 74.138 52.2869 72.637 50.6149C71.136 48.9429 70.376 46.663 70.376 43.8131V39.7092C70.376 36.8593 71.117 34.5793 72.637 32.9074C74.138 31.2354 76.133 30.3994 78.603 30.3994C80.883 30.3994 82.669 31.0264 83.98 32.2614C85.291 33.4963 86.108 35.2443 86.431 37.4862L82.498 38.3982C82.004 35.7193 80.712 34.3703 78.603 34.3703C77.444 34.3703 76.399 34.7693 75.696 35.6623C74.974 36.5553 74.632 37.8282 74.632 39.4432V44.0791Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M58.957 49.152C57.798 49.152 56.772 48.734 56.069 47.841C55.366 46.929 55.024 45.6371 55.024 44.0411V39.4432C55.024 37.8473 55.366 36.5553 56.069 35.6623C56.772 34.7693 57.798 34.3704 58.957 34.3704C60.116 34.3704 61.142 34.7693 61.845 35.6623C62.548 36.5553 62.89 37.8283 62.89 39.4432V44.0411C62.89 45.6371 62.548 46.929 61.845 47.841C61.142 48.753 60.116 49.152 58.957 49.152ZM58.957 53.1419C60.553 53.1419 61.978 52.7619 63.213 52.0209C64.448 51.2609 65.417 50.178 66.101 48.791C66.785 47.385 67.127 45.7511 67.127 43.8891V39.6902C67.127 37.8283 66.785 36.1943 66.101 34.7883C65.417 33.3824 64.448 32.3184 63.213 31.5584C61.978 30.7984 60.553 30.4185 58.957 30.4185C57.361 30.4185 55.936 30.7984 54.701 31.5584C53.466 32.3184 52.497 33.4014 51.813 34.7883C51.129 36.1943 50.787 37.8283 50.787 39.6902V43.8891C50.787 45.7511 51.129 47.385 51.813 48.791C52.497 50.197 53.466 51.2609 54.701 52.0209C55.936 52.7619 57.361 53.1419 58.957 53.1419Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M36.271 34.8073V25.8205H40.546C41.686 25.8205 42.579 26.1815 43.206 26.9225C43.833 27.6635 44.156 28.7845 44.156 30.3234C44.156 31.8434 43.833 32.9834 43.206 33.7243C42.579 34.4653 41.686 34.8263 40.546 34.8263L36.271 34.8073ZM36.271 52.6289V38.8732H39.9C40.945 38.8732 41.629 39.1202 42.085 39.5952C42.541 40.0702 42.788 40.8302 42.921 41.9131L44.118 52.6289H48.374L47.101 41.5141C46.949 40.1842 46.778 39.3102 46.246 38.5312C45.752 37.8282 45.049 37.2392 44.232 36.9733C45.524 36.3653 46.55 35.4913 47.291 34.3893C48.032 33.2873 48.412 31.7674 48.412 29.8294C48.412 27.3405 47.709 25.3645 46.322 23.9206C44.916 22.4766 42.997 21.7546 40.565 21.7546H32.053V52.6289H36.271Z\"\n              fill=\"#0B41CD\"\n            />\n            <path\n              d=\"M152 39.5L117.667 79H34.333L0 39.5L34.333 0H117.648L152 39.5ZM115.824 74.9911L146.68 39.5L115.824 4.0089H36.157L5.32 39.5L36.157 74.9911H115.824Z\"\n              fill=\"#0B41CD\"\n            />\n          </svg>\n        </div>\n        <ng-content\n          select=\"rds-divider[rds-header-start-divider], rds-header-app-name\"\n        />\n        @if (searchPosition === 'start') {\n          <ng-container [ngTemplateOutlet]=\"searchTemplate\" />\n        }\n      </div>\n\n      <div class=\"rds-header-right-section\">\n        @if (searchPosition === 'end') {\n          <ng-container [ngTemplateOutlet]=\"searchTemplate\" />\n        }\n        <div class=\"rds-header-actions-nav\">\n          <ng-content select=\"rds-header-navigation-primary\" />\n        </div>\n        <ng-content select=\"rds-divider[rds-header-end-divider]\" />\n        <div class=\"rds-header-actions\">\n          @if (searchPosition === 'animated') {\n            <button\n              #searchIcon\n              rds-icon-button\n              size=\"m\"\n              (click)=\"startSearching()\"\n              class=\"rds-header-action\"\n            >\n              <rds-icon namespace=\"outlined\" icon=\"search\" />\n            </button>\n          }\n          <div>\n            <ng-content select=\"rds-header-actions\" />\n          </div>\n        </div>\n      </div>\n    </div>\n    @if (searchPosition === 'animated') {\n      <div\n        [@searchExpansion]=\"getExpandedState()\"\n        (@searchExpansion.done)=\"focusSearchInput($event)\"\n        class=\"rds-header-searchbar-container\"\n      >\n        <rds-header-searchbar\n          (search)=\"onSearch($event)\"\n          (closeSearch)=\"endSearching()\"\n          [placeholder]=\"searchbarPlaceholder\"\n          [searchValue]=\"searchValue\"\n          (searchChange)=\"searchChange.emit($event)\"\n        />\n      </div>\n    }\n  </div>\n  <div>\n    <ng-content select=\"rds-header-navigation-secondary\" />\n  </div>\n</div>\n\n<ng-template #searchTemplate>\n  <rds-search\n    size=\"s\"\n    [(ngModel)]=\"searchValue\"\n    (ngModelChange)=\"searchChange.emit($event)\"\n    (keydown.enter)=\"emitSearch($event)\"\n    [placeholder]=\"searchbarPlaceholder\"\n    class=\"rds-header-search-input rds-header-search-position-{{\n      searchPosition\n    }}\"\n  />\n</ng-template>\n", styles: [".rds-header-title .rds-header-logo{margin-block:18px}.rds-header{display:flex;flex-direction:column;width:100%;background-color:var(--rds-color-bg-base-1);border-bottom:1px solid var(--rds-color-grey-1);transition:border-bottom-color .3s ease}.rds-header.rds-header-fixed{border-bottom-color:var(--rds-color-grey-1)}.rds-header .rds-header-container{width:100%}.rds-header .rds-header-container .rds-header-top{display:flex}.rds-header .rds-header-base{display:flex;justify-content:space-between;align-items:center;width:100%;padding-left:96px;padding-right:96px}.rds-header .rds-header-searchbar-container{width:100%}.rds-header .rds-header-title{display:flex;align-items:center}.rds-header .rds-header-title .rds-header-logo{height:32px;margin:20px 0;color:var(--rds-color-logo)}.rds-header .rds-header-title .rds-header-logo.rds-header-logo-trigger{cursor:pointer}.rds-header .rds-header-title .rds-header-logo.rds-header-logo-trigger.cdk-focused.cdk-keyboard-focused{outline:2px solid var(--rds-color-stroke-active-focus);outline-offset:2px;border-radius:2px;border-width:0}.rds-header .rds-header-title .rds-header-logo svg{height:32px}.rds-header .rds-header-title .rds-header-logo svg path{fill:var(--rds-color-logo)}.rds-header .rds-header-title .rds-header-app-name{font-size:18px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:default;color:var(--rds-color-informative);white-space:nowrap;margin-left:24px}.rds-header .rds-header-title .rds-header-app-name.rds-header-app-name-triggerable{cursor:pointer}.rds-header .rds-header-title .rds-header-app-name.rds-header-app-name-triggerable.cdk-focused.cdk-keyboard-focused{outline:2px solid var(--rds-color-stroke-active-focus);outline-offset:2px;border-radius:2px;border-width:0}.rds-header .rds-header-right-section{display:flex;align-items:center;margin:0 0 0 auto}.rds-header .rds-header-right-section .rds-header-actions-nav{display:flex;align-items:center}.rds-header .rds-header-right-section .rds-header-actions{display:flex;align-items:center;gap:24px}.rds-header .rds-header-navigation{display:flex;align-content:flex-end;align-items:center;gap:32px}.rds-header .rds-header-navigation .rds-header-link{display:flex;align-items:center;cursor:pointer;border-width:0}.rds-header .rds-header-navigation--primary .rds-header-link{margin:12px 0}.rds-header .rds-header-navigation--secondary{margin:2px 96px 0;gap:40px}.rds-header .rds-header-navigation--secondary .rds-header-link{border-bottom:2px solid transparent;padding-top:12px;padding-bottom:10px}.rds-header .rds-header-navigation--secondary .rds-header-link.rds-link--active:not(.rds-header-link--disabled){border-bottom:2px solid var(--rds-color-informative);color:var(--rds-color-secondary-link-hover)}.rds-header .rds-header-navigation--secondary .rds-header-link:hover:not(.rds-header-link--disabled):not(.rds-link--active){border-bottom:2px solid var(--rds-color-informative);color:var(--rds-color-secondary-link)}.rds-header .rds-header-search{display:flex;align-items:center;border:none;outline:none;width:100%;min-height:72px;padding:0 96px}.rds-header .rds-header-search .rds-header-search-input{font-size:16px;font-weight:400;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;border:none;width:100%;color:var(--rds-color-high-contrast);background-color:transparent}.rds-header .rds-header-search .rds-header-search-input:hover,.rds-header .rds-header-search .rds-header-search-input:focus{outline:none}.rds-header .rds-header-search .rds-header-search-input::placeholder{font-size:16px;font-weight:200;line-height:24px;text-transform:none;letter-spacing:.2px;font-family:roche-sans;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--rds-color-high-contrast)}.rds-header .rds-header-search .rds-header-search-search-icon{margin-right:12px;color:var(--rds-color-low-contrast)}.rds-header .rds-header-search .rds-header-search-close-icon{margin-left:12px;width:18px;height:18px}.rds-header .rds-divider,.rds-header .rds-divider.rds-divider-vertical{margin-left:24px;margin-right:24px;width:1px;height:16px}.rds-header .rds-divider.rds-header-start-divider,.rds-header .rds-divider.rds-divider-vertical.rds-header-start-divider{margin-right:0}.rds-header-minimal-margins .rds-header-base,.rds-header-minimal-margins .rds-header-search{padding-inline:16px}.rds-header-minimal-margins .rds-header-navigation--secondary{margin-inline:16px}.rds-header-search-input.rds-header-search-position-start{margin-left:24px}.rds-header-search-input.rds-header-search-position-end{margin-right:24px}.rds-header-search-input .rds-search.rds-search-s .rds-form-field .rds-form-field__control-container{border-radius:36px}\n"] }]
        }], propDecorators: { scrollTarget: [{
                type: Input
            }], searchbarPlaceholder: [{
                type: Input
            }], searchValue: [{
                type: Input
            }], search: [{
                type: Output
            }], searchChange: [{
                type: Output
            }], logoTriggered: [{
                type: Output
            }], class: [{
                type: HostBinding,
                args: ['class']
            }], searchbar: [{
                type: ViewChild,
                args: [RdsHeaderSearchbarComponent, { static: false }]
            }], searchIcon: [{
                type: ViewChild,
                args: ['searchIcon', { static: false }]
            }], logoElement: [{
                type: ViewChild,
                args: ['logoElement', { static: true }]
            }], searchPosition: [{
                type: Input
            }], minimalMargins: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }, {
                type: HostBinding,
                args: ['class.rds-header-minimal-margins']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvYW5ndWxhci1jb21wb25lbnRzL3NyYy9saWIvaGVhZGVyL2hlYWRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FuZ3VsYXItY29tcG9uZW50cy9zcmMvbGliL2hlYWRlci9oZWFkZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVMLGdCQUFnQixFQUNoQix1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsVUFBVSxFQUNWLFlBQVksRUFDWixXQUFXLEVBQ1gsTUFBTSxFQUNOLEtBQUssRUFDTCxNQUFNLEVBR04sTUFBTSxFQUNOLFNBQVMsRUFDVCxTQUFTLEVBQ1QsaUJBQWlCLEdBQ2xCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDakMsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JDLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQzNFLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNuRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDakQsT0FBTyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRXpELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDOzs7Ozs7OztBQWdCaEUsTUFBTSxPQUFPLGtCQUFrQjtJQVgvQjtRQVltQixl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LEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQUd0QyxjQUFjO3NCQURqQixLQUFLO2dCQVdOLGNBQWM7c0JBRmIsS0FBSzt1QkFBQyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTs7c0JBQ3JDLFdBQVc7dUJBQUMsa0NBQWtDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgYm9vbGVhbkF0dHJpYnV0ZSxcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIERlc3Ryb3lSZWYsXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgSG9zdEJpbmRpbmcsXG4gIGluamVjdCxcbiAgSW5wdXQsXG4gIE5nWm9uZSxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgUmVuZGVyZXIyLFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IHJkc0hlYWRlclNlYXJjaEFuaW1hdGlvbnMgfSBmcm9tICcuL2hlYWRlci1zZWFyY2gtYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBmcm9tRXZlbnQgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFJkc0hlYWRlclNlYXJjaGJhckNvbXBvbmVudCB9IGZyb20gJy4vaGVhZGVyLXNlYXJjaGJhci5jb21wb25lbnQnO1xuaW1wb3J0IHsgUmRzSWNvbkJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4uL2J1dHRvbic7XG5pbXBvcnQgeyBGb2N1c01vbml0b3IgfSBmcm9tICdAYW5ndWxhci9jZGsvYTExeSc7XG5pbXBvcnQgeyBFTlRFUiwgaGFzTW9kaWZpZXJLZXksIFNQQUNFIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2tleWNvZGVzJztcbmltcG9ydCB7IENvbnRlbnRPYnNlcnZlciB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9vYnNlcnZlcnMnO1xuaW1wb3J0IHsgQW5pbWF0aW9uRXZlbnQgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCB7IHRha2VVbnRpbERlc3Ryb3llZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvcnhqcy1pbnRlcm9wJztcblxuZXhwb3J0IHR5cGUgUmRzSGVhZGVyRXhwYW5kZWRNb2RlID0gJ2V4cGFuZGVkJyB8ICdjb2xsYXBzZWQnO1xuZXhwb3J0IHR5cGUgUmRzSGVhZGVyU2VhcmNoUG9zaXRpb24gPSAnbm9uZScgfCAnc3RhcnQnIHwgJ2VuZCcgfCAnYW5pbWF0ZWQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdyZHMtaGVhZGVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2hlYWRlci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2hlYWRlci5jb21wb25lbnQuc2NzcyddLFxuICBhbmltYXRpb25zOiBbXG4gICAgcmRzSGVhZGVyU2VhcmNoQW5pbWF0aW9ucy5oZWFkZXJDb2xsYXBzZSxcbiAgICByZHNIZWFkZXJTZWFyY2hBbmltYXRpb25zLnNlYXJjaEV4cGFuc2lvbixcbiAgXSxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIFJkc0hlYWRlckNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgcHJpdmF0ZSByZWFkb25seSBkZXN0cm95UmVmID0gaW5qZWN0KERlc3Ryb3lSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNkciA9IGluamVjdChDaGFuZ2VEZXRlY3RvclJlZik7XG4gIHByaXZhdGUgcmVhZG9ubHkgcmVuZGVyZXIgPSBpbmplY3QoUmVuZGVyZXIyKTtcbiAgcHJpdmF0ZSByZWFkb25seSBlbGVtZW50UmVmID0gaW5qZWN0KEVsZW1lbnRSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IG5nWm9uZSA9IGluamVjdChOZ1pvbmUpO1xuICBwcml2YXRlIHJlYWRvbmx5IGZvY3VzTW9uaXRvciA9IGluamVjdChGb2N1c01vbml0b3IpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbnRlbnRPYnNlcnZlciA9IGluamVjdChDb250ZW50T2JzZXJ2ZXIpO1xuXG4gIHNlYXJjaE1vZGUgPSBmYWxzZTtcblxuICBASW5wdXQoKSBzY3JvbGxUYXJnZXQ6XG4gICAgfCBIVE1MRWxlbWVudFxuICAgIHwgRWxlbWVudFJlZjxIVE1MRWxlbWVudD5cbiAgICB8IHN0cmluZ1xuICAgIHwgdW5kZWZpbmVkXG4gICAgfCBudWxsO1xuICBASW5wdXQoKSBzZWFyY2hiYXJQbGFjZWhvbGRlcjogc3RyaW5nO1xuICBASW5wdXQoKSBzZWFyY2hWYWx1ZSA9ICcnO1xuXG4gIEBPdXRwdXQoKSBzZWFyY2ggPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcbiAgQE91dHB1dCgpIHNlYXJjaENoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuICBAT3V0cHV0KCkgbG9nb1RyaWdnZXJlZCA9IG5ldyBFdmVudEVtaXR0ZXI8TW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQ+KCk7XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcycpIGNsYXNzID0gJ3Jkcy1oZWFkZXInO1xuICBAVmlld0NoaWxkKFJkc0hlYWRlclNlYXJjaGJhckNvbXBvbmVudCwgeyBzdGF0aWM6IGZhbHNlIH0pXG4gIHNlYXJjaGJhcjogUmRzSGVhZGVyU2VhcmNoYmFyQ29tcG9uZW50O1xuICBAVmlld0NoaWxkKCdzZWFyY2hJY29uJywgeyBzdGF0aWM6IGZhbHNlIH0pXG4gIHNlYXJjaEljb246IFJkc0ljb25CdXR0b25Db21wb25lbnQ7XG4gIEBWaWV3Q2hpbGQoJ2xvZ29FbGVtZW50JywgeyBzdGF0aWM6IHRydWUgfSkgbG9nb0VsZW1lbnQ6IEVsZW1lbnRSZWY7XG5cbiAgQElucHV0KClcbiAgZ2V0IHNlYXJjaFBvc2l0aW9uKCk6IFJkc0hlYWRlclNlYXJjaFBvc2l0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5fc2VhcmNoUG9zaXRpb247XG4gIH1cblxuICBzZXQgc2VhcmNoUG9zaXRpb24odmFsdWU6IFJkc0hlYWRlclNlYXJjaFBvc2l0aW9uKSB7XG4gICAgdGhpcy5fc2VhcmNoUG9zaXRpb24gPSB2YWx1ZTtcbiAgfVxuXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KVxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnJkcy1oZWFkZXItbWluaW1hbC1tYXJnaW5zJylcbiAgbWluaW1hbE1hcmdpbnMgPSBmYWxzZTtcblxuICBwcml2YXRlIF9zZWFyY2hQb3NpdGlvbjogUmRzSGVhZGVyU2VhcmNoUG9zaXRpb24gPSAnbm9uZSc7XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgY29uc3Qgc2Nyb2xsVGFyZ2V0ID0gdGhpcy5nZXRTY3JvbGxUYXJnZXQoKTtcbiAgICAgIGZyb21FdmVudChzY3JvbGxUYXJnZXQsICdzY3JvbGwnKVxuICAgICAgICAucGlwZSh0YWtlVW50aWxEZXN0cm95ZWQodGhpcy5kZXN0cm95UmVmKSlcbiAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsVG9wID1cbiAgICAgICAgICAgIHNjcm9sbFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XG4gICAgICAgICAgICAgID8gc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcFxuICAgICAgICAgICAgICA6IHNjcm9sbFRhcmdldC5zY3JvbGxZO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2Nyb2xsVG9wID09PSAwICYmXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jkcy1oZWFkZXItZml4ZWQnKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+XG4gICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3MoXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgJ3Jkcy1oZWFkZXItZml4ZWQnLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgc2Nyb2xsVG9wICE9PSAwICYmXG4gICAgICAgICAgICAhdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgICAgICAgICAncmRzLWhlYWRlci1maXhlZCcsXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT5cbiAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyhcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxcbiAgICAgICAgICAgICAgICAncmRzLWhlYWRlci1maXhlZCcsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgdGhpcy5mb2N1c01vbml0b3IubW9uaXRvcih0aGlzLmxvZ29FbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIHRydWUpO1xuICAgIHRoaXMuY29udGVudE9ic2VydmVyXG4gICAgICAub2JzZXJ2ZSh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudClcbiAgICAgIC5waXBlKFxuICAgICAgICB0YXAoKCkgPT4gdGhpcy5jZHIubWFya0ZvckNoZWNrKCkpLFxuICAgICAgICB0YWtlVW50aWxEZXN0cm95ZWQodGhpcy5kZXN0cm95UmVmKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuZm9jdXNNb25pdG9yLnN0b3BNb25pdG9yaW5nKHRoaXMubG9nb0VsZW1lbnQubmF0aXZlRWxlbWVudCk7XG4gIH1cblxuICBzdGFydFNlYXJjaGluZygpOiB2b2lkIHtcbiAgICB0aGlzLnNlYXJjaE1vZGUgPSB0cnVlO1xuICB9XG5cbiAgZW5kU2VhcmNoaW5nKCk6IHZvaWQge1xuICAgIHRoaXMuc2VhcmNoTW9kZSA9IGZhbHNlO1xuICB9XG5cbiAgZ2V0RXhwYW5kZWRTdGF0ZSgpOiBSZHNIZWFkZXJFeHBhbmRlZE1vZGUge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaE1vZGUgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCc7XG4gIH1cblxuICBnZXRDb2xsYXBzZWRTdGF0ZSgpOiBSZHNIZWFkZXJFeHBhbmRlZE1vZGUge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaE1vZGUgPyAnY29sbGFwc2VkJyA6ICdleHBhbmRlZCc7XG4gIH1cblxuICBvblNlYXJjaCh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zZWFyY2guZW1pdCh2YWx1ZSk7XG4gIH1cblxuICBlbWl0U2VhcmNoKGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIGV2ZW50IGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudCAmJlxuICAgICAgZXZlbnQua2V5Q29kZSA9PT0gRU5URVIgJiZcbiAgICAgICFoYXNNb2RpZmllcktleShldmVudClcbiAgICApIHtcbiAgICAgIHRoaXMuc2VhcmNoLmVtaXQodGhpcy5zZWFyY2hWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgb25Mb2dvQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgKGV2ZW50IGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudCAmJlxuICAgICAgICAhaGFzTW9kaWZpZXJLZXkoZXZlbnQsICdzaGlmdEtleScsICdhbHRLZXknLCAnY3RybEtleScpICYmXG4gICAgICAgIChldmVudC5rZXlDb2RlID09PSBTUEFDRSB8fCBldmVudC5rZXlDb2RlID09PSBFTlRFUikpIHx8XG4gICAgICBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnRcbiAgICApIHtcbiAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQgJiYgZXZlbnQua2V5Q29kZSA9PT0gU1BBQ0UpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9nb1RyaWdnZXJlZC5uZXh0KGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBmb2N1c1NlYXJjaElucHV0KHN0YXRlOiBBbmltYXRpb25FdmVudCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNlYXJjaGJhciAmJiBzdGF0ZS5mcm9tU3RhdGUgIT09ICd2b2lkJykge1xuICAgICAgaWYgKHRoaXMuZ2V0RXhwYW5kZWRTdGF0ZSgpID09PSAnZXhwYW5kZWQnKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gdGhpcy5zZWFyY2hiYXIuZm9jdXNTZWFyY2goKSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0RXhwYW5kZWRTdGF0ZSgpID09PSAnY29sbGFwc2VkJykge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHRoaXMuc2VhcmNoSWNvbj8uZm9jdXMoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRTY3JvbGxUYXJnZXQoKTogSFRNTEVsZW1lbnQgfCBXaW5kb3cge1xuICAgIGlmICh0aGlzLnNjcm9sbFRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnRSZWYpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjcm9sbFRhcmdldC5uYXRpdmVFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGxUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsVGFyZ2V0O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuc2Nyb2xsVGFyZ2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LFxuICAgICAgKSBhcyB1bmtub3duIGFzIEhUTUxFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGxUYXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnNjcm9sbFRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnU2Nyb2xsVGFyZ2V0IGZvciBSZHNIZWFkZXIgaXMgcHJvdmlkZWQgaW4gYSB3cm9uZyBmb3JtYXQsIHBhc3MgRWxlbWVudFJlZiwgc2VsZWN0b3Igb3IgbnVsbC4nLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJyZHMtaGVhZGVyLWNvbnRhaW5lclwiPlxuICA8ZGl2IGNsYXNzPVwicmRzLWhlYWRlci10b3BcIj5cbiAgICA8ZGl2IGNsYXNzPVwicmRzLWhlYWRlci1iYXNlXCIgW0BoZWFkZXJDb2xsYXBzZV09XCJnZXRDb2xsYXBzZWRTdGF0ZSgpXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicmRzLWhlYWRlci10aXRsZVwiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3M9XCJyZHMtaGVhZGVyLWxvZ29cIlxuICAgICAgICAgIFtjbGFzcy5yZHMtaGVhZGVyLWxvZ28tdHJpZ2dlcl09XCJsb2dvVHJpZ2dlcmVkLm9ic2VydmVkXCJcbiAgICAgICAgICBbdGFiSW5kZXhdPVwibG9nb1RyaWdnZXJlZC5vYnNlcnZlZCA/IDAgOiAtMVwiXG4gICAgICAgICAgI2xvZ29FbGVtZW50XG4gICAgICAgICAgKGNsaWNrKT1cIm9uTG9nb0NsaWNrKCRldmVudClcIlxuICAgICAgICAgIChrZXlkb3duKT1cIm9uTG9nb0NsaWNrKCRldmVudClcIlxuICAgICAgICA+XG4gICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgaGVpZ2h0PVwiMzJcIlxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxNTIgNzlcIlxuICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgZD1cIk0xMjQuMjAzIDM0Ljc2OTNDMTIzLjUxOSAzMy4zNjMzIDEyMi41NSAzMi4yOTk0IDEyMS4zMTUgMzEuNTM5NEMxMjAuMDggMzAuNzc5NCAxMTguNjU1IDMwLjM5OTQgMTE3LjA1OSAzMC4zOTk0QzExNS40NjMgMzAuMzk5NCAxMTQuMDM4IDMwLjc3OTQgMTEyLjgwMyAzMS41Mzk0QzExMS41NjggMzIuMjk5NCAxMTAuNTk5IDMzLjM4MjMgMTA5LjkxNSAzNC43NjkzQzEwOS4yMzEgMzYuMTc1MyAxMDguODg5IDM3LjgwOTIgMTA4Ljg4OSAzOS42NzEyVjQzLjg3MDFDMTA4Ljg4OSA0NS43MzIgMTA5LjIzMSA0Ny4zNjYgMTA5LjkxNSA0OC43NzJDMTEwLjU5OSA1MC4xNzc5IDExMS41NjggNTEuMjQxOSAxMTIuODAzIDUyLjAwMTlDMTE0LjAzOCA1Mi43NjE5IDExNS40NjMgNTMuMTIyOCAxMTcuMDU5IDUzLjEyMjhDMTE4LjY1NSA1My4xMjI4IDEyMC4wOCA1Mi43NDI5IDEyMS4zMTUgNTIuMDAxOUMxMjIuNTUgNTEuMjQxOSAxMjMuMzEgNTAuMzg2OSAxMjMuOTk0IDQ4Ljk4MDlDMTI0LjMxNyA0OC4zMTYgMTI0LjYwMiA0Ny40OCAxMjQuNzU0IDQ2LjYyNUwxMjAuODQgNDUuNzMyQzEyMC42NjkgNDYuNTY4IDEyMC4zODQgNDcuMzY2IDExOS45NDcgNDcuOTE3QzExOS4yNDQgNDguODI4OSAxMTguMjE4IDQ5LjIyNzkgMTE3LjA1OSA0OS4yMjc5QzExNS45IDQ5LjIyNzkgMTE0Ljg3NCA0OC44MDk5IDExNC4xNzEgNDcuOTE3QzExMy40NjggNDcuMDA1IDExMy4xMjYgNDUuNzEzIDExMy4xMjYgNDQuMTE3MVY0Mi41NDAxSDEyNS4yNDhWMzkuNjUyMkMxMjUuMjI5IDM3Ljc5MDIgMTI0Ljg4NyAzNi4xNzUzIDEyNC4yMDMgMzQuNzY5M1pNMTE3LjA1OSAzNC4yOTQzQzExOC4yMTggMzQuMjk0MyAxMTkuMjQ0IDM0LjY5MzMgMTE5Ljk0NyAzNS41ODYzQzEyMC41NzQgMzYuMzg0MyAxMjAuOTE2IDM3LjYwMDIgMTIwLjk5MiAzOC45ODcySDExMy4xMjZDMTEzLjE4MyAzNy42MDAyIDExMy41MjUgMzYuMzg0MyAxMTQuMTcxIDM1LjU4NjNDMTE0Ljg1NSAzNC42OTMzIDExNS44ODEgMzQuMjk0MyAxMTcuMDU5IDM0LjI5NDNaXCJcbiAgICAgICAgICAgICAgZmlsbD1cIiMwQjQxQ0RcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGQ9XCJNOTQuMDExOSA1Mi42Mjg3VjM4LjMwMzFDOTQuMDExOSAzNy4xMDYxIDk0LjM1MzkgMzYuMTM3MSA5NS4wMTg5IDM1LjQzNDFDOTUuNzAyOSAzNC43MzEyIDk2LjUzODkgMzQuMzcwMiA5Ny41ODM5IDM0LjM3MDJDOTguNjA5OSAzNC4zNzAyIDk5LjQ2NDkgMzQuNzMxMiAxMDAuMTQ5IDM1LjQzNDFDMTAwLjgzMyAzNi4xMzcxIDEwMS4xNTYgMzcuMDg3MSAxMDEuMTU2IDM4LjMwMzFWNTIuNjI4N0gxMDUuMzkzVjM3LjQxMDFDMTA1LjM5MyAzNS4yMDYxIDEwNC44MjMgMzMuNDk2MiAxMDMuNjgzIDMyLjI2MTJDMTAyLjU0MyAzMS4wMjYyIDEwMC45ODUgMzAuNDE4MyA5OS4wMDg5IDMwLjQxODNDOTcuOTI1OSAzMC40MTgzIDk2Ljk1NjkgMzAuNjI3MyA5Ni4wNDQ5IDMxLjA2NDJDOTUuMTUxOSAzMS41MDEyIDk0LjQyOTkgMzIuMDcxMiA5NC4wMzA5IDMyLjY3OTJWMjEuNzkyNUg4OS43OTM5VjUyLjYyODdIOTQuMDExOVpcIlxuICAgICAgICAgICAgICBmaWxsPVwiIzBCNDFDRFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgZD1cIk03NC42MzIgNDQuMDc5MUM3NC42MzIgNDUuNjc1IDc0Ljk5MyA0Ni45NjcgNzUuNjk2IDQ3Ljg2Qzc2LjQxOCA0OC43NTI5IDc3LjQ0NCA0OS4xNTE5IDc4LjYwMyA0OS4xNTE5QzgwLjY5MyA0OS4xNTE5IDgyLjAwNCA0Ny44MDMgODIuNDk4IDQ1LjEyNEw4Ni40MzEgNDYuMDM2Qzg2LjEwOCA0OC4yNzggODUuMjkxIDUwLjAyNTkgODMuOTggNTEuMjYwOUM4Mi42NjkgNTIuNDk1OSA4MC44ODMgNTMuMTIyOCA3OC42MDMgNTMuMTIyOEM3Ni4xMzMgNTMuMTIyOCA3NC4xMzggNTIuMjg2OSA3Mi42MzcgNTAuNjE0OUM3MS4xMzYgNDguOTQyOSA3MC4zNzYgNDYuNjYzIDcwLjM3NiA0My44MTMxVjM5LjcwOTJDNzAuMzc2IDM2Ljg1OTMgNzEuMTE3IDM0LjU3OTMgNzIuNjM3IDMyLjkwNzRDNzQuMTM4IDMxLjIzNTQgNzYuMTMzIDMwLjM5OTQgNzguNjAzIDMwLjM5OTRDODAuODgzIDMwLjM5OTQgODIuNjY5IDMxLjAyNjQgODMuOTggMzIuMjYxNEM4NS4yOTEgMzMuNDk2MyA4Ni4xMDggMzUuMjQ0MyA4Ni40MzEgMzcuNDg2Mkw4Mi40OTggMzguMzk4MkM4Mi4wMDQgMzUuNzE5MyA4MC43MTIgMzQuMzcwMyA3OC42MDMgMzQuMzcwM0M3Ny40NDQgMzQuMzcwMyA3Ni4zOTkgMzQuNzY5MyA3NS42OTYgMzUuNjYyM0M3NC45NzQgMzYuNTU1MyA3NC42MzIgMzcuODI4MiA3NC42MzIgMzkuNDQzMlY0NC4wNzkxWlwiXG4gICAgICAgICAgICAgIGZpbGw9XCIjMEI0MUNEXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICBkPVwiTTU4Ljk1NyA0OS4xNTJDNTcuNzk4IDQ5LjE1MiA1Ni43NzIgNDguNzM0IDU2LjA2OSA0Ny44NDFDNTUuMzY2IDQ2LjkyOSA1NS4wMjQgNDUuNjM3MSA1NS4wMjQgNDQuMDQxMVYzOS40NDMyQzU1LjAyNCAzNy44NDczIDU1LjM2NiAzNi41NTUzIDU2LjA2OSAzNS42NjIzQzU2Ljc3MiAzNC43NjkzIDU3Ljc5OCAzNC4zNzA0IDU4Ljk1NyAzNC4zNzA0QzYwLjExNiAzNC4zNzA0IDYxLjE0MiAzNC43NjkzIDYxLjg0NSAzNS42NjIzQzYyLjU0OCAzNi41NTUzIDYyLjg5IDM3LjgyODMgNjIuODkgMzkuNDQzMlY0NC4wNDExQzYyLjg5IDQ1LjYzNzEgNjIuNTQ4IDQ2LjkyOSA2MS44NDUgNDcuODQxQzYxLjE0MiA0OC43NTMgNjAuMTE2IDQ5LjE1MiA1OC45NTcgNDkuMTUyWk01OC45NTcgNTMuMTQxOUM2MC41NTMgNTMuMTQxOSA2MS45NzggNTIuNzYxOSA2My4yMTMgNTIuMDIwOUM2NC40NDggNTEuMjYwOSA2NS40MTcgNTAuMTc4IDY2LjEwMSA0OC43OTFDNjYuNzg1IDQ3LjM4NSA2Ny4xMjcgNDUuNzUxMSA2Ny4xMjcgNDMuODg5MVYzOS42OTAyQzY3LjEyNyAzNy44MjgzIDY2Ljc4NSAzNi4xOTQzIDY2LjEwMSAzNC43ODgzQzY1LjQxNyAzMy4zODI0IDY0LjQ0OCAzMi4zMTg0IDYzLjIxMyAzMS41NTg0QzYxLjk3OCAzMC43OTg0IDYwLjU1MyAzMC40MTg1IDU4Ljk1NyAzMC40MTg1QzU3LjM2MSAzMC40MTg1IDU1LjkzNiAzMC43OTg0IDU0LjcwMSAzMS41NTg0QzUzLjQ2NiAzMi4zMTg0IDUyLjQ5NyAzMy40MDE0IDUxLjgxMyAzNC43ODgzQzUxLjEyOSAzNi4xOTQzIDUwLjc4NyAzNy44MjgzIDUwLjc4NyAzOS42OTAyVjQzLjg4OTFDNTAuNzg3IDQ1Ljc1MTEgNTEuMTI5IDQ3LjM4NSA1MS44MTMgNDguNzkxQzUyLjQ5NyA1MC4xOTcgNTMuNDY2IDUxLjI2MDkgNTQuNzAxIDUyLjAyMDlDNTUuOTM2IDUyLjc2MTkgNTcuMzYxIDUzLjE0MTkgNTguOTU3IDUzLjE0MTlaXCJcbiAgICAgICAgICAgICAgZmlsbD1cIiMwQjQxQ0RcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGQ9XCJNMzYuMjcxIDM0LjgwNzNWMjUuODIwNUg0MC41NDZDNDEuNjg2IDI1LjgyMDUgNDIuNTc5IDI2LjE4MTUgNDMuMjA2IDI2LjkyMjVDNDMuODMzIDI3LjY2MzUgNDQuMTU2IDI4Ljc4NDUgNDQuMTU2IDMwLjMyMzRDNDQuMTU2IDMxLjg0MzQgNDMuODMzIDMyLjk4MzQgNDMuMjA2IDMzLjcyNDNDNDIuNTc5IDM0LjQ2NTMgNDEuNjg2IDM0LjgyNjMgNDAuNTQ2IDM0LjgyNjNMMzYuMjcxIDM0LjgwNzNaTTM2LjI3MSA1Mi42Mjg5VjM4Ljg3MzJIMzkuOUM0MC45NDUgMzguODczMiA0MS42MjkgMzkuMTIwMiA0Mi4wODUgMzkuNTk1MkM0Mi41NDEgNDAuMDcwMiA0Mi43ODggNDAuODMwMiA0Mi45MjEgNDEuOTEzMUw0NC4xMTggNTIuNjI4OUg0OC4zNzRMNDcuMTAxIDQxLjUxNDFDNDYuOTQ5IDQwLjE4NDIgNDYuNzc4IDM5LjMxMDIgNDYuMjQ2IDM4LjUzMTJDNDUuNzUyIDM3LjgyODIgNDUuMDQ5IDM3LjIzOTIgNDQuMjMyIDM2Ljk3MzNDNDUuNTI0IDM2LjM2NTMgNDYuNTUgMzUuNDkxMyA0Ny4yOTEgMzQuMzg5M0M0OC4wMzIgMzMuMjg3MyA0OC40MTIgMzEuNzY3NCA0OC40MTIgMjkuODI5NEM0OC40MTIgMjcuMzQwNSA0Ny43MDkgMjUuMzY0NSA0Ni4zMjIgMjMuOTIwNkM0NC45MTYgMjIuNDc2NiA0Mi45OTcgMjEuNzU0NiA0MC41NjUgMjEuNzU0NkgzMi4wNTNWNTIuNjI4OUgzNi4yNzFaXCJcbiAgICAgICAgICAgICAgZmlsbD1cIiMwQjQxQ0RcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGQ9XCJNMTUyIDM5LjVMMTE3LjY2NyA3OUgzNC4zMzNMMCAzOS41TDM0LjMzMyAwSDExNy42NDhMMTUyIDM5LjVaTTExNS44MjQgNzQuOTkxMUwxNDYuNjggMzkuNUwxMTUuODI0IDQuMDA4OUgzNi4xNTdMNS4zMiAzOS41TDM2LjE1NyA3NC45OTExSDExNS44MjRaXCJcbiAgICAgICAgICAgICAgZmlsbD1cIiMwQjQxQ0RcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxuZy1jb250ZW50XG4gICAgICAgICAgc2VsZWN0PVwicmRzLWRpdmlkZXJbcmRzLWhlYWRlci1zdGFydC1kaXZpZGVyXSwgcmRzLWhlYWRlci1hcHAtbmFtZVwiXG4gICAgICAgIC8+XG4gICAgICAgIEBpZiAoc2VhcmNoUG9zaXRpb24gPT09ICdzdGFydCcpIHtcbiAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInNlYXJjaFRlbXBsYXRlXCIgLz5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJyZHMtaGVhZGVyLXJpZ2h0LXNlY3Rpb25cIj5cbiAgICAgICAgQGlmIChzZWFyY2hQb3NpdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInNlYXJjaFRlbXBsYXRlXCIgLz5cbiAgICAgICAgfVxuICAgICAgICA8ZGl2IGNsYXNzPVwicmRzLWhlYWRlci1hY3Rpb25zLW5hdlwiPlxuICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cInJkcy1oZWFkZXItbmF2aWdhdGlvbi1wcmltYXJ5XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cInJkcy1kaXZpZGVyW3Jkcy1oZWFkZXItZW5kLWRpdmlkZXJdXCIgLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJkcy1oZWFkZXItYWN0aW9uc1wiPlxuICAgICAgICAgIEBpZiAoc2VhcmNoUG9zaXRpb24gPT09ICdhbmltYXRlZCcpIHtcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgI3NlYXJjaEljb25cbiAgICAgICAgICAgICAgcmRzLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgIHNpemU9XCJtXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInN0YXJ0U2VhcmNoaW5nKClcIlxuICAgICAgICAgICAgICBjbGFzcz1cInJkcy1oZWFkZXItYWN0aW9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHJkcy1pY29uIG5hbWVzcGFjZT1cIm91dGxpbmVkXCIgaWNvbj1cInNlYXJjaFwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICB9XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cInJkcy1oZWFkZXItYWN0aW9uc1wiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgQGlmIChzZWFyY2hQb3NpdGlvbiA9PT0gJ2FuaW1hdGVkJykge1xuICAgICAgPGRpdlxuICAgICAgICBbQHNlYXJjaEV4cGFuc2lvbl09XCJnZXRFeHBhbmRlZFN0YXRlKClcIlxuICAgICAgICAoQHNlYXJjaEV4cGFuc2lvbi5kb25lKT1cImZvY3VzU2VhcmNoSW5wdXQoJGV2ZW50KVwiXG4gICAgICAgIGNsYXNzPVwicmRzLWhlYWRlci1zZWFyY2hiYXItY29udGFpbmVyXCJcbiAgICAgID5cbiAgICAgICAgPHJkcy1oZWFkZXItc2VhcmNoYmFyXG4gICAgICAgICAgKHNlYXJjaCk9XCJvblNlYXJjaCgkZXZlbnQpXCJcbiAgICAgICAgICAoY2xvc2VTZWFyY2gpPVwiZW5kU2VhcmNoaW5nKClcIlxuICAgICAgICAgIFtwbGFjZWhvbGRlcl09XCJzZWFyY2hiYXJQbGFjZWhvbGRlclwiXG4gICAgICAgICAgW3NlYXJjaFZhbHVlXT1cInNlYXJjaFZhbHVlXCJcbiAgICAgICAgICAoc2VhcmNoQ2hhbmdlKT1cInNlYXJjaENoYW5nZS5lbWl0KCRldmVudClcIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgfVxuICA8L2Rpdj5cbiAgPGRpdj5cbiAgICA8bmctY29udGVudCBzZWxlY3Q9XCJyZHMtaGVhZGVyLW5hdmlnYXRpb24tc2Vjb25kYXJ5XCIgLz5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPG5nLXRlbXBsYXRlICNzZWFyY2hUZW1wbGF0ZT5cbiAgPHJkcy1zZWFyY2hcbiAgICBzaXplPVwic1wiXG4gICAgWyhuZ01vZGVsKV09XCJzZWFyY2hWYWx1ZVwiXG4gICAgKG5nTW9kZWxDaGFuZ2UpPVwic2VhcmNoQ2hhbmdlLmVtaXQoJGV2ZW50KVwiXG4gICAgKGtleWRvd24uZW50ZXIpPVwiZW1pdFNlYXJjaCgkZXZlbnQpXCJcbiAgICBbcGxhY2Vob2xkZXJdPVwic2VhcmNoYmFyUGxhY2Vob2xkZXJcIlxuICAgIGNsYXNzPVwicmRzLWhlYWRlci1zZWFyY2gtaW5wdXQgcmRzLWhlYWRlci1zZWFyY2gtcG9zaXRpb24te3tcbiAgICAgIHNlYXJjaFBvc2l0aW9uXG4gICAgfX1cIlxuICAvPlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==